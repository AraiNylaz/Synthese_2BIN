





<!DOCTYPE html>
<html lang="id">

<!-- Mirrored from developer.android.com/guide/topics/appwidgets/index.html?hl=id by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:10:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="CwJaf9pUI-ryEVuFrR1ZM7WbLFnl0awPoeImqmAkO_Q6MTQ5NzUxNjYwMzcxMTA0MA" />

  
    <link rel="canonical" href="index.html">
  

  
    <link rel="alternate" href="index.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/appwidgets/index.html" hreflang="en-cn">
  

  <link rel="alternate" href="index.html" hreflang="x-default">




<link rel="shortcut icon" href="../../../_static/f304fc21fa/images/android/favicon0cf2.png?hl=id">

<link rel="apple-touch-icon" href="../../../_static/f304fc21fa/images/android/touchicon-1800cf2.png?hl=id">


<title>

  App Widgets | Android Developers

</title>

  <meta name="description" content="App Widgets are miniature application views that can be embedded in other applications (such as the Home screen) and receive periodic updates. These views are referred to as Widgets in the user interface, and you can publish one with an App Widget provider…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../../static/css/default8481.css?hl=id?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../../_static/f304fc21fa/js/android_3p-bundle0cf2.js?hl=id" type="text/javascript"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_closure_android__id0cf2.js?hl=id"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_android0cf2.js?hl=id"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../../static/js/docs8481.js?hl=id?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;id&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;id&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "id", "served": "en"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=id">
          <img class="dac-header-logo-image" src="../../../static/images/android_logo0cf2.png?hl=id"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=id"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=id"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=id"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=id"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=id" width="18" height="19" alt="Konsol Google Play">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Telusuri">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Kembali</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../../index0cf2.html?hl=id" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/fundamentals0cf2.html?hl=id" >App Fundamentals</a></li><li><a href="../../practices/compatibility0cf2.html?hl=id" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../permissions/index0cf2.html?hl=id" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../permissions/requesting0cf2.html?hl=id" >Requesting Permissions</a></li><li><a href="../permissions/defining0cf2.html?hl=id" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../platform/index0cf2.html?hl=id" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../platform/j8-jack0cf2.html?hl=id"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../../practices/verifying-apps-art0cf2.html?hl=id" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/index0cf2.html?hl=id" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../components/intents-filters0cf2.html?hl=id" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/intents-common0cf2.html?hl=id" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/activities/index0cf2.html?hl=id" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/activities/intro-activities0cf2.html?hl=id" >Introduction to Activities</a></li><li><a href="../../components/activities/activity-lifecycle0cf2.html?hl=id" >The Activity Lifecycle</a></li><li><a href="../../components/activities/state-changes0cf2.html?hl=id" >Activity State Changes</a></li><li><a href="../../components/activities/tasks-and-back-stack0cf2.html?hl=id" >Tasks and Back Stack</a></li><li><a href="../../components/activities/process-lifecycle0cf2.html?hl=id" >Processes and Application Lifecycle</a></li><li><a href="../../components/activities/parcelables-and-bundles0cf2.html?hl=id" >Parcelables and Bundles</a></li><li><a href="../../components/activities/recents0cf2.html?hl=id" >Recents Screen</a></li></ul></li><li><a href="../../components/fragments0cf2.html?hl=id" >Fragments</a></li><li><a href="../../components/loaders0cf2.html?hl=id" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/services0cf2.html?hl=id" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/bound-services0cf2.html?hl=id" >Bound Services</a></li><li><a href="../../components/aidl0cf2.html?hl=id" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../providers/content-providers0cf2.html?hl=id" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../providers/content-provider-basics0cf2.html?hl=id" >Content Provider Basics</a></li><li><a href="../providers/content-provider-creating0cf2.html?hl=id" >Creating a Content Provider</a></li><li><a href="../providers/calendar-provider0cf2.html?hl=id" >Calendar Provider</a></li><li><a href="../providers/contacts-provider0cf2.html?hl=id" >Contacts Provider</a></li><li><a href="../providers/document-provider0cf2.html?hl=id" >Open files using Storage Access Framework</a></li><li><a href="../providers/create-document-provider0cf2.html?hl=id" >Create a Custom Document Provider</a></li></ul></li><li><a href="../../components/broadcasts0cf2.html?hl=id" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="index0cf2.html?hl=id" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="host0cf2.html?hl=id" >App Widget Host</a></li></ul></li><li><a href="../../components/processes-and-threads0cf2.html?hl=id" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/index0cf2.html?hl=id" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/overview0cf2.html?hl=id" >Overview</a></li><li><a href="../resources/providing-resources0cf2.html?hl=id" >Providing Resources</a></li><li><a href="../resources/accessing-resources0cf2.html?hl=id" >Accessing Resources</a></li><li><a href="../resources/runtime-changes0cf2.html?hl=id" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/localization0cf2.html?hl=id" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/icu4j-framework0cf2.html?hl=id" >ICU4J Android Framework APIs</a></li><li><a href="../resources/multilingual-support0cf2.html?hl=id" >Language and Locale</a></li></ul></li><li><a href="../resources/complex-xml-resources0cf2.html?hl=id" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/available-resources0cf2.html?hl=id" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/animation-resource0cf2.html?hl=id" >Animation</a></li><li><a href="../resources/color-list-resource0cf2.html?hl=id" >Color State List</a></li><li><a href="../resources/drawable-resource0cf2.html?hl=id" >Drawable</a></li><li><a href="../resources/layout-resource0cf2.html?hl=id" >Layout</a></li><li><a href="../resources/menu-resource0cf2.html?hl=id" >Menu</a></li><li><a href="../resources/string-resource0cf2.html?hl=id" >String</a></li><li><a href="../resources/style-resource0cf2.html?hl=id" >Style</a></li><li><a href="../resources/more-resources0cf2.html?hl=id" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../manifest/manifest-intro0cf2.html?hl=id" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../manifest/action-element0cf2.html?hl=id" >&lt;action&gt;</a></li><li><a href="../manifest/activity-element0cf2.html?hl=id" >&lt;activity&gt;</a></li><li><a href="../manifest/activity-alias-element0cf2.html?hl=id" >&lt;activity-alias&gt;</a></li><li><a href="../manifest/application-element0cf2.html?hl=id" >&lt;application&gt;</a></li><li><a href="../manifest/category-element0cf2.html?hl=id" >&lt;category&gt;</a></li><li><a href="../manifest/compatible-screens-element0cf2.html?hl=id" >&lt;compatible-screens&gt;</a></li><li><a href="../manifest/data-element0cf2.html?hl=id" >&lt;data&gt;</a></li><li><a href="../manifest/grant-uri-permission-element0cf2.html?hl=id" >&lt;grant-uri-permission&gt;</a></li><li><a href="../manifest/instrumentation-element0cf2.html?hl=id" >&lt;instrumentation&gt;</a></li><li><a href="../manifest/intent-filter-element0cf2.html?hl=id" >&lt;intent-filter&gt;</a></li><li><a href="../manifest/manifest-element0cf2.html?hl=id" >&lt;manifest&gt;</a></li><li><a href="../manifest/meta-data-element0cf2.html?hl=id" >&lt;meta-data&gt;</a></li><li><a href="../manifest/path-permission-element0cf2.html?hl=id" >&lt;path-permission&gt;</a></li><li><a href="../manifest/permission-element0cf2.html?hl=id" >&lt;permission&gt;</a></li><li><a href="../manifest/permission-group-element0cf2.html?hl=id" >&lt;permission-group&gt;</a></li><li><a href="../manifest/permission-tree-element0cf2.html?hl=id" >&lt;permission-tree&gt;</a></li><li><a href="../manifest/provider-element0cf2.html?hl=id" >&lt;provider&gt;</a></li><li><a href="../manifest/receiver-element0cf2.html?hl=id" >&lt;receiver&gt;</a></li><li><a href="../manifest/service-element0cf2.html?hl=id" >&lt;service&gt;</a></li><li><a href="../manifest/supports-gl-texture-element0cf2.html?hl=id" >&lt;supports-gl-texture&gt;</a></li><li><a href="../manifest/supports-screens-element0cf2.html?hl=id" >&lt;supports-screens&gt;</a></li><li><a href="../manifest/uses-configuration-element0cf2.html?hl=id" >&lt;uses-configuration&gt;</a></li><li><a href="../manifest/uses-feature-element0cf2.html?hl=id" >&lt;uses-feature&gt;</a></li><li><a href="../manifest/uses-library-element0cf2.html?hl=id" >&lt;uses-library&gt;</a></li><li><a href="../manifest/uses-permission-element0cf2.html?hl=id" >&lt;uses-permission&gt;</a></li><li><a href="../manifest/uses-permission-sdk-23-element0cf2.html?hl=id" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../manifest/uses-sdk-element0cf2.html?hl=id" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../ui/index0cf2.html?hl=id" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../ui/overview0cf2.html?hl=id" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="../ui/declaring-layout0cf2.html?hl=id" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../ui/layout/linear0cf2.html?hl=id" >Linear Layout</a></li><li><a href="../ui/layout/relative0cf2.html?hl=id" >Relative Layout</a></li><li><a href="../ui/layout/recyclerview0cf2.html?hl=id" >Recycler View</a></li><li><a href="../ui/layout/listview0cf2.html?hl=id" >List View</a></li><li><a href="../ui/layout/gridview0cf2.html?hl=id" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../ui/controls0cf2.html?hl=id" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../ui/controls/button0cf2.html?hl=id" >Buttons</a></li><li><a href="../ui/controls/checkbox0cf2.html?hl=id" >Checkboxes</a></li><li><a href="../ui/controls/radiobutton0cf2.html?hl=id" >Radio Buttons</a></li><li><a href="../ui/controls/togglebutton0cf2.html?hl=id" >Toggle Buttons</a></li><li><a href="../ui/controls/spinner0cf2.html?hl=id" >Spinners</a></li><li><a href="../ui/controls/pickers0cf2.html?hl=id" >Pickers</a></li></ul></li><li><a href="../ui/ui-events0cf2.html?hl=id" >Input Events</a></li><li><a href="../ui/menus0cf2.html?hl=id" >Menus</a></li><li><a href="../ui/settings0cf2.html?hl=id" >Settings</a></li><li><a href="../ui/dialogs0cf2.html?hl=id" >Dialogs</a></li><li><a href="../ui/notifiers/notifications0cf2.html?hl=id" >Notifications</a></li><li><a href="../ui/notifiers/toasts0cf2.html?hl=id" >Toasts</a></li><li><a href="../ui/shortcuts0cf2.html?hl=id" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../search/index0cf2.html?hl=id" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../search/search-dialog0cf2.html?hl=id" >Creating a Search Interface</a></li><li><a href="../search/adding-recent-query-suggestions0cf2.html?hl=id" >Adding Recent Query Suggestions</a></li><li><a href="../search/adding-custom-suggestions0cf2.html?hl=id" >Adding Custom Suggestions</a></li><li><a href="../search/searchable-config0cf2.html?hl=id" >Searchable Configuration</a></li></ul></li><li><a href="../ui/multi-window0cf2.html?hl=id" >Multi-Window Support</a></li><li><a href="../ui/drag-drop0cf2.html?hl=id" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="../ui/accessibility/index0cf2.html?hl=id" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../ui/accessibility/apps0cf2.html?hl=id" >Making Apps More Accessible</a></li><li><a href="../ui/accessibility/checklist0cf2.html?hl=id" >Accessibility Developer Checklist</a></li><li><a href="../ui/accessibility/node-tree-debugging0cf2.html?hl=id" >Using Node Tree Debugging</a></li><li><a href="../ui/accessibility/services0cf2.html?hl=id" >Building Accessibility Services</a></li><li><a href="../ui/accessibility/custom-views0cf2.html?hl=id" >Building Accessible Custom Views</a></li></ul></li><li><a href="../ui/themes0cf2.html?hl=id" >Styles and Themes</a></li><li><a href="../ui/custom-components0cf2.html?hl=id" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/index0cf2.html?hl=id" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/overview0cf2.html?hl=id" >Overview</a></li><li><a href="../graphics/prop-animation0cf2.html?hl=id" >Property Animation</a></li><li><a href="../graphics/view-animation0cf2.html?hl=id" >View Animation</a></li><li><a href="../graphics/drawable-animation0cf2.html?hl=id" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/2d-graphics0cf2.html?hl=id" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/vector-drawable-resources0cf2.html?hl=id" >Vector Drawable</a></li></ul></li><li><a href="../graphics/opengl0cf2.html?hl=id" >OpenGL ES</a></li><li><a href="../graphics/hardware-accel0cf2.html?hl=id" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/index0cf2.html?hl=id" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/compute0cf2.html?hl=id" >RenderScript</a></li><li><a href="../renderscript/advanced0cf2.html?hl=id" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/reference/overview0cf2.html?hl=id" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/reference/rs_value_types0cf2.html?hl=id" >Numerical Types</a></li><li><a href="../renderscript/reference/rs_object_types0cf2.html?hl=id" >Object Types</a></li><li><a href="../renderscript/reference/rs_convert0cf2.html?hl=id" >Conversion Functions</a></li><li><a href="../renderscript/reference/rs_math0cf2.html?hl=id" >Mathematical Constants and Functions</a></li><li><a href="../renderscript/reference/rs_vector_math0cf2.html?hl=id" >Vector Math Functions</a></li><li><a href="../renderscript/reference/rs_matrix0cf2.html?hl=id" >Matrix Functions</a></li><li><a href="../renderscript/reference/rs_quaternion0cf2.html?hl=id" >Quaternion Functions</a></li><li><a href="../renderscript/reference/rs_atomic0cf2.html?hl=id" >Atomic Update Functions</a></li><li><a href="../renderscript/reference/rs_time0cf2.html?hl=id" >Time Functions and Types</a></li><li><a href="../renderscript/reference/rs_allocation_data0cf2.html?hl=id" >Allocation Data Access Functions</a></li><li><a href="../renderscript/reference/rs_object_info0cf2.html?hl=id" >Object Characteristics Functions</a></li><li><a href="../renderscript/reference/rs_for_each0cf2.html?hl=id" >Kernel Invocation Functions and Types</a></li><li><a href="../renderscript/reference/rs_io0cf2.html?hl=id" >Input/Output Functions</a></li><li><a href="../renderscript/reference/rs_debug0cf2.html?hl=id" >Debugging Functions</a></li><li><a href="../renderscript/reference/rs_graphics0cf2.html?hl=id" >Graphics Functions and Types</a></li><li><a href="../renderscript/reference/index0cf2.html?hl=id" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/index0cf2.html?hl=id" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/media-apps-overview0cf2.html?hl=id" >Media Apps Overview</a></li><li><a href="../media-apps/working-with-a-media-session0cf2.html?hl=id" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/audio-app/building-an-audio-app0cf2.html?hl=id" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/audio-app/building-a-mediabrowserservice0cf2.html?hl=id" >Building a Media Browser Service</a></li><li><a href="../media-apps/audio-app/building-a-mediabrowser-client0cf2.html?hl=id" >Building a Media Browser Client</a></li><li><a href="../media-apps/audio-app/mediasession-callbacks0cf2.html?hl=id" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/video-app/building-a-video-app0cf2.html?hl=id" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/video-app/building-a-video-player-activity0cf2.html?hl=id" >Building a Video Player Activity</a></li><li><a href="../media-apps/video-app/mediasession-callbacks0cf2.html?hl=id" >Media Session Callbacks</a></li></ul></li><li><a href="../media-apps/mediabuttons0cf2.html?hl=id" >Responding to Media Buttons</a></li><li><a href="../media-apps/volume-and-earphones0cf2.html?hl=id" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media/index0cf2.html?hl=id" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/media-formats0cf2.html?hl=id" >Supported Media Formats</a></li><li><a href="../media/mediaplayer0cf2.html?hl=id" >MediaPlayer</a></li><li><a href="../media/mediarecorder0cf2.html?hl=id" >MediaRecorder</a></li><li><a href="../media/exoplayer0cf2.html?hl=id" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media/media-routing0cf2.html?hl=id" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/mediarouter0cf2.html?hl=id" >MediaRouter API</a></li><li><a href="../media/mediarouteprovider0cf2.html?hl=id" >MediaRouteProvider API</a></li></ul></li><li><a href="../media/camera0cf2.html?hl=id" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../sensors/index0cf2.html?hl=id" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../location/index0cf2.html?hl=id" >Location and Maps</a></li><li><a href="../location/strategies0cf2.html?hl=id" >Location Strategies</a></li><li><a href="../sensors/sensors_overview0cf2.html?hl=id" >Sensors Overview</a></li><li><a href="../sensors/sensors_motion0cf2.html?hl=id" >Motion Sensors</a></li><li><a href="../sensors/sensors_position0cf2.html?hl=id" >Position Sensors</a></li><li><a href="../sensors/sensors_environment0cf2.html?hl=id" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/index0cf2.html?hl=id" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/bluetooth0cf2.html?hl=id" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/bluetooth-le0cf2.html?hl=id" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/nfc/index0cf2.html?hl=id" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/nfc/nfc0cf2.html?hl=id" >NFC Basics</a></li><li><a href="../connectivity/nfc/advanced-nfc0cf2.html?hl=id" >Advanced NFC</a></li><li><a href="../connectivity/nfc/hce0cf2.html?hl=id" >Host-based Card Emulation</a></li></ul></li><li><a href="../connectivity/wifip2p0cf2.html?hl=id" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/usb/index0cf2.html?hl=id" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/usb/accessory0cf2.html?hl=id" >Accessory</a></li><li><a href="../connectivity/usb/host0cf2.html?hl=id" >Host</a></li></ul></li><li><a href="../connectivity/sip0cf2.html?hl=id" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../text/index0cf2.html?hl=id" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/copy-paste0cf2.html?hl=id" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../text/creating-input-method0cf2.html?hl=id" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/image-keyboard0cf2.html?hl=id" >Image Keyboard</a></li></ul></li><li><a href="../text/spell-checker-framework0cf2.html?hl=id" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../data/index0cf2.html?hl=id" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/data-storage0cf2.html?hl=id" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../data/backup0cf2.html?hl=id" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/autobackup0cf2.html?hl=id" >Auto Backup</a></li><li><a href="../data/keyvaluebackup0cf2.html?hl=id" >Key/Value Backup</a></li><li><a href="../data/testingbackup0cf2.html?hl=id" >Testing Backup and Restore</a></li></ul></li><li><a href="../data/install-location0cf2.html?hl=id" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../admin/index0cf2.html?hl=id" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../admin/device-admin0cf2.html?hl=id" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../webapps/index0cf2.html?hl=id" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../webapps/targeting0cf2.html?hl=id" >Supporting Different Screens in Web Apps</a></li><li><a href="../../webapps/webview0cf2.html?hl=id" >Building Web Apps in WebView</a></li><li><a href="../../webapps/migrating0cf2.html?hl=id" >Migrating to WebView in Android 4.4</a></li><li><a href="../../webapps/debugging0cf2.html?hl=id" >Debugging Web Apps</a></li><li><a href="../../webapps/best-practices0cf2.html?hl=id" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../practices/index0cf2.html?hl=id"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../practices/screens_support0cf2.html?hl=id" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../practices/screens-distribution0cf2.html?hl=id" >Distributing to Specific Screens</a></li><li><a href="../../practices/screen-compat-mode0cf2.html?hl=id" >Screen Compatibility Mode</a></li></ul></li><li><a href="../../practices/app-design/seamlessness0cf2.html?hl=id" >Designing for Seamlessness</a></li><li><a href="../../practices/tablets-and-handsets0cf2.html?hl=id" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=id">Beranda</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=id">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=id">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=id">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=id">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=id">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=id"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=id"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=id"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">Pelatihan</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../../index0cf2.html?hl=id"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=id"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Referensi</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=id">Sampel</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=id"
           >Pustaka</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=id"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=id"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=id">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=id">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=id">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=id"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=id">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=id">Konsol Google Play</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=id"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=id"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=id">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=id">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">App Widgets</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
  <div id="qv">

    <h2>In this document</h2>
    <ol>
      <li><a href="#Basics">The Basics</a></li>
      <li><a href="#Manifest">Declaring an App Widget in the Manifest</a></li>
      <li><a href="#MetaData">Adding the AppWidgetProviderInfo Metadata</a></li>
      <li><a href="#CreatingLayout">Creating the App Widget Layout</a></li>
      <li><a href="#AppWidgetProvider">Using the AppWidgetProvider Class</a>
        <ol>
          <li><a href="#ProviderBroadcasts">Receiving App Widget broadcast
Intents</a></li>
        </ol>
      </li>
      <li><a href="#Configuring">Creating an App Widget Configuration
Activity</a>
        <ol>
          <li><a href="#UpdatingFromTheConfiguration">Updating the App Widget
from
            the Configuration Activity</a></li>
        </ol>
      </li>
      <li><a href="#preview">Setting a Preview Image</a></li>
      <li><a href="#collections">Using App Widgets with Collections</a>
        <ol>
          <li><a href="#collection_sample">Sample application</a></li>
          <li><a href="#implementing_collections">Implementing app widgets with
collections
</a></li>
          <li><a href="#fresh">Keeping Collection Data Fresh</a></li>
        </ol>
      </li>
    </ol>

    <h2>Key classes</h2>
    <ol>
      <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code></li>
      <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code></li>
      <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id">AppWidgetManager</a></code></li>
    </ol>
  </div>
</div>


<p>App Widgets are miniature application views that can be embedded in other
applications
(such as the Home screen) and receive periodic updates. These views are
referred
to as Widgets in the user interface,
and you can publish one with an App Widget provider. An application component
that is
able to hold other App Widgets is called an App Widget host. The screenshot
below shows
the Music App Widget.</p>

<img src="../../../images/appwidgets/appwidget0cf2.png?hl=id" alt="" />

<p>This document describes how to publish an App Widget using an App Widget
provider. For a discussion of creating your own <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetHost.html?hl=id">AppWidgetHost</a></code>
to host app widgets, see <a href="host0cf2.html?hl=id">
App Widget Host</a>.</p>

<div class="note design">
<p><strong>Widget Design</strong></p>
  <p>For information about how to design your app widget, read the <a
href="https://developer.android.com/design/patterns/widgets.html?hl=id">Widgets</a> design guide.</p>
</div>


<h2 id="Basics">The Basics</h2>

<p>To create an App Widget, you need the following:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code> object</dt>
  <dd>Describes the metadata for an App Widget, such as the App Widget's layout,
update frequency,
    and the AppWidgetProvider class. This should be defined in XML.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> class implementation</dt>
  <dd>Defines the basic methods that allow you to programmatically interface
with the App Widget,
    based on broadcast events. Through it, you will receive broadcasts when the
App Widget is updated,
    enabled, disabled and deleted.</dd>
  <dt>View layout</dt>
  <dd>Defines the initial layout for the App Widget, defined in XML.</dd>
</dl>

<p>Additionally, you can implement an App Widget configuration Activity. This is
an optional
<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=id">Activity</a></code> that launches when the user adds your App Widget
and allows him or her
to modify App Widget settings at create-time.</p>

<p>The following sections describe how to set up each of these components.</p>


<h2 id="Manifest">Declaring an App Widget in the Manifest</h2>

<p>First, declare the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> class in your
application's
<code>AndroidManifest.xml</code> file. For example:</p>

<pre style="clear:right">
&lt;receiver android:name="ExampleAppWidgetProvider" >
    &lt;intent-filter>
        &lt;action android:name="android.appwidget.action.APPWIDGET_UPDATE" />
    &lt;/intent-filter>
    &lt;meta-data android:name="android.appwidget.provider"
               android:resource="@xml/example_appwidget_info" />
&lt;/receiver>
</pre>

<p>The <code>&lt;receiver&gt;</code> element requires the
<code>android:name</code>
attribute, which specifies the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> used
by the App Widget.</p>

<p>The <code>&lt;intent-filter&gt;</code> element must include an
<code>&lt;action></code>
element with the <code>android:name</code> attribute. This attribute specifies
that the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> accepts the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_UPDATE">ACTION_APPWIDGET_UPDATE</a></code> broadcast.
This is the only broadcast that you must explicitly declare. The <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id">AppWidgetManager</a></code>
automatically sends all other App Widget broadcasts to the AppWidgetProvider as
necessary.</p>

<p>The <code>&lt;meta-data&gt;</code> element specifies the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code> resource and requires the
following attributes:</p>
<ul>
  <li><code>android:name</code> - Specifies the metadata name. Use
<code>android.appwidget.provider</code>
    to identify the data as the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code>
descriptor.</li>
  <li><code>android:resource</code> - Specifies the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code>
    resource location.</li>
</ul>


<h2 id="MetaData">Adding the AppWidgetProviderInfo Metadata</h2>

<p>The <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code> defines the essential
qualities of an App Widget, such as its minimum layout dimensions, its initial
layout resource,
how often to update the App Widget, and (optionally) a configuration Activity to
launch at create-time.
Define the AppWidgetProviderInfo object in an XML resource using a single
<code>&lt;appwidget-provider></code> element and save it in the project's
<code>res/xml/</code>
folder.</p>

<p>For example:</p>

<pre>
&lt;appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    android:minWidth="40dp"
    android:minHeight="40dp"
    android:updatePeriodMillis="86400000"
    android:previewImage="@drawable/preview"
    android:initialLayout="@layout/example_appwidget"
    android:configure="com.example.android.ExampleAppWidgetConfigure"
    android:resizeMode="horizontal|vertical"
    android:widgetCategory="home_screen">
&lt;/appwidget-provider>
</pre>

<p>Here's a summary of the <code>&lt;appwidget-provider></code> attributes:</p>
<ul>
  <li>The values for the <code>minWidth</code> and <code>minHeight</code>
    attributes specify the minimum amount of space the App Widget consumes
    <em>by default</em>. The default Home screen positions App Widgets in its
    window based on a grid of cells that have a defined height and width. If
    the values for an App Widget's minimum width or height don't match the
    dimensions of the cells, then the App Widget dimensions round
    <em>up</em> to the nearest cell size.
    <p>See the <a href="../../practices/ui_guidelines/widget_design0cf2.html?hl=id#anatomy_determining_size">
    App Widget Design Guidelines</a> for more information on sizing your App
    Widgets.</p>

    <p class="note"><strong>Note:</strong> To make your app widget portable
    across devices, your app widget's minimum size should never be larger
    than 4 x 4 cells.</p>
  </li>

  <li>The <code>minResizeWidth</code> and <code>minResizeHeight</code> attributes
    specify the App Widget's absolute minimum size. These values should specify
    the size below which the App Widget would be illegible or otherwise unusable.
    Using these attributes allows the user to resize the widget to a size that
    may be smaller than the default widget size defined by the
    <code>minWidth</code> and <code>minHeight</code> attributes.
    Introduced in Android 3.1.

    <p>See the <a href="../../practices/ui_guidelines/widget_design0cf2.html?hl=id#anatomy_determining_size">
    App Widget Design Guidelines</a> for more information on sizing your App
    Widgets.</p>
  </li>

  <li>The <code>updatePeriodMillis</code> attribute defines how often the App
Widget framework should request an update from the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> by calling the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
callback method. The actual update
is not guaranteed to occur exactly on time with this value and we suggest
updating as infrequently as possible&mdash;perhaps no more than once an hour to
conserve the battery. You might also allow the user to adjust the frequency in a
configuration&mdash;some people might want a stock ticker to update every 15
minutes, or maybe only four times a day.
    	<p class="note"><strong>Note:</strong> If the device is asleep when it
is time for an update
    	(as defined by <code>updatePeriodMillis</code>), then the device will
wake up in order
    	to perform the update. If you don't update more than once per hour, this
probably won't
    	cause significant problems for the battery life. If, however, you need
to update more
    	frequently and/or you do not need to update while the device is asleep,
then you can instead
    	perform updates based on an alarm that will not wake the device. To do
so, set an alarm with
    	an Intent that your AppWidgetProvider receives, using the	<code><a href="https://developer.android.com/reference/android/app/AlarmManager.html?hl=id">AlarmManager</a></code>.
    	Set the alarm type to either <code><a href="https://developer.android.com/reference/android/app/AlarmManager.html?hl=id#ELAPSED_REALTIME">ELAPSED_REALTIME</a></code> or
    	<code><a href="https://developer.android.com/reference/android/app/AlarmManager.html?hl=id#RTC">RTC</a></code>, which will only
    	deliver the alarm when the device is awake. Then set
<code>updatePeriodMillis</code> to
    	zero (<code>"0"</code>).</p>
  </li>
  <li>The <code>initialLayout</code> attribute points to the layout resource
that defines the
    App Widget layout.</li>
  <li>The <code>configure</code> attribute defines the <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=id">Activity</a></code> to launch when
    the user adds the App Widget, in order for him or her to configure App
Widget properties. This is optional
    (read <a href="#Configuring">Creating an App Widget Configuration
Activity</a> below).</li>

   <li>The <code>previewImage</code> attribute specifies a preview of what the
app widget will look like after it's configured, which the user sees when
selecting the app widget. If not supplied, the user instead sees your
application's launcher icon. This field corresponds to the
<code>android:previewImage</code> attribute in the <code>&lt;receiver&gt;</code>
element in the <code>AndroidManifest.xml</code> file. For more discussion of
using <code>previewImage</code>, see <a href="#preview">Setting a Preview
Image</a>. Introduced in Android 3.0.</li>

   <li>The <code>autoAdvanceViewId</code> attribute specifies the view ID of the
app widget subview that should be auto-advanced by the widget's host. Introduced in Android 3.0.</li>

<li>The <code>resizeMode</code> attribute specifies the rules by which a widget
can be resized. You use this attribute to make homescreen widgets
resizeable&mdash;horizontally, vertically, or on both axes. Users touch-hold a
widget to show its resize handles, then drag the horizontal and/or vertical
handles to change the size on the layout grid. Values for the
<code>resizeMode</code> attribute include "horizontal", "vertical", and "none".
To declare a widget as resizeable horizontally and vertically, supply the value
"horizontal|vertical". Introduced in Android 3.1.</li>

<li>The <code>minResizeHeight</code> attribute specifies the minimum height (in dps) to which
the widget can be resized. This field has no effect if it is greater than <code>minHeight</code> or if
vertical resizing isn't enabled (see <code>resizeMode</code>). Introduced in Android 4.0.</li>

<li>The <code> minResizeWidth </code> attribute specifies the minimum width (in dps) to which
the widget can be resized. This field has no effect if it is greater than <code>minWidth</code> or if
horizontal resizing isn't enabled (see <code>resizeMode</code>). Introduced in Android 4.0.</li>

<li>The <code>widgetCategory</code> attribute declares whether your App Widget
can be displayed on the home screen (<code>home_screen</code>), the lock screen
(<code>keyguard</code>), or both. Only Android versions lower than 5.0 support
lock-screen widgets. For Android 5.0 and higher, only <code>home_screen</code> is
valid.</li>

</ul>

<p>See the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id">AppWidgetProviderInfo</a></code> class for more
information on the
attributes accepted by the <code>&lt;appwidget-provider></code> element.</p>


<h2 id="CreatingLayout">Creating the App Widget Layout</h2>

<p>You must define an initial layout for your App Widget in XML and save it in
the project's
<code>res/layout/</code> directory. You can design your App Widget using the
View objects listed
below, but before you begin designing your App Widget, please read and
understand the
<a href="../../practices/ui_guidelines/widget_design0cf2.html?hl=id">App Widget
Design
Guidelines</a>.</p>

<p>Creating the App Widget layout is simple if you're
familiar with <a
href="../ui/declaring-layout0cf2.html?hl=id">Layouts</a>.
However, you must be aware that App Widget layouts are based on <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code>,
which do not support every kind of layout or view widget.</p>

<p>A RemoteViews object (and, consequently, an App Widget) can support the
following layout classes:</p>

<ul class="nolist">
  <li><code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=id">FrameLayout</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/LinearLayout.html?hl=id">LinearLayout</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/RelativeLayout.html?hl=id">RelativeLayout</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/GridLayout.html?hl=id">GridLayout</a></code></li>
</ul>

<p>And the following widget classes:</p>
<ul class="nolist">
  <li><code><a href="https://developer.android.com/reference/android/widget/AnalogClock.html?hl=id">AnalogClock</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/Button.html?hl=id">Button</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/Chronometer.html?hl=id">Chronometer</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/ImageButton.html?hl=id">ImageButton</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/ImageView.html?hl=id">ImageView</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/ProgressBar.html?hl=id">ProgressBar</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/TextView.html?hl=id">TextView</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/ViewFlipper.html?hl=id">ViewFlipper</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=id">ListView</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=id">GridView</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/StackView.html?hl=id">StackView</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/widget/AdapterViewFlipper.html?hl=id">AdapterViewFlipper</a></code></li>
</ul>

<p>Descendants of these classes are not supported.</p>

<p>RemoteViews also supports <code><a href="https://developer.android.com/reference/android/view/ViewStub.html?hl=id">ViewStub</a></code>, which is an invisible, zero-sized View you can use
to lazily inflate layout resources at runtime.</p>


<h3 id="AddingMargins">Adding margins to App Widgets</h3>

<p>Widgets should not generally extend to screen edges and should not visually be flush with other widgets, so you should add margins on all sides around your widget frame.</p>

<p>As of Android 4.0, app widgets are automatically given padding between the widget frame and the app widget's bounding box to provide better alignment with other widgets and icons on the user's home screen. To take advantage of this strongly recommended behavior, set your application's <a href="../manifest/uses-sdk-element0cf2.html?hl=id">targetSdkVersion</a> to 14 or greater.</p>

<p>It's easy to write a single layout that has custom margins applied for earlier versions of the platform, and has no extra margins for Android 4.0 and greater:</p>

<ol>
  <li>Set your application's <code>targetSdkVersion</code> to 14 or greater.</li>
  <li>Create a layout such as the one below, that references a <a href="../resources/more-resources0cf2.html?hl=id#Dimension">dimension resource</a> for its margins:

<pre>
&lt;FrameLayout
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  <strong>android:padding="@dimen/widget_margin"&gt;</strong>

  &lt;LinearLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal"
    android:background="@drawable/my_widget_background"&gt;
    &hellip;
  &lt;/LinearLayout&gt;

&lt;/FrameLayout&gt;
</pre>

  </li>
  <li>Create two dimensions resources, one in <code>res/values/</code> to provide the pre-Android 4.0 custom margins, and one in <code>res/values-v14/</code> to provide no extra padding for Android 4.0 widgets:

    <p><strong>res/values/dimens.xml</strong>:<br>
    <pre>&lt;dimen name="widget_margin"&gt;8dp&lt;/dimen&gt;</pre></p>

    <p><strong>res/values-v14/dimens.xml</strong>:<br>
    <pre>&lt;dimen name="widget_margin"&gt;0dp&lt;/dimen&gt;</pre></p>
  </li>
</ol>

<p>Another option is to simply build extra margins into your <a href="../graphics/2d-graphics0cf2.html?hl=id#nine-patch">nine-patch</a> background assets by default, and provide different nine-patches with no margins for API level 14 or later.</p>


<h2 id="AppWidgetProvider">Using the AppWidgetProvider Class</h2>

<div class="sidebox-wrapper">
<div class="sidebox">
    <p>You must declare your AppWidgetProvider class implementation as a
broadcast receiver
    using the <code>&lt;receiver></code> element in the AndroidManifest (see
    <a href="#Manifest">Declaring an App Widget in the Manifest</a> above).</p>
  </div>
</div>

<p>The <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> class extends
BroadcastReceiver as a convenience
class to handle the App Widget broadcasts. The AppWidgetProvider receives only
the event broadcasts that
are relevant to the App Widget, such as when the App Widget is updated, deleted,
enabled, and disabled.
When these broadcast events occur, the AppWidgetProvider receives the following
method calls:</p>

<dl>
  <dt>
  <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
</dt>
    <dd>This is called to update the App Widget at intervals defined by the
<code>updatePeriodMillis</code>
    attribute in the AppWidgetProviderInfo (see <a href="#MetaData">Adding the
    AppWidgetProviderInfo Metadata</a> above). This method is also called
    when the user adds the App Widget, so it should perform the essential setup,
    such as define event handlers for Views and start a temporary
    <code><a href="https://developer.android.com/reference/android/app/Service.html?hl=id">Service</a></code>, if necessary. However, if you have declared a
configuration
    Activity, <strong>this method is not called</strong> when the user adds the
App Widget,
    but is called for the subsequent updates. It is the responsibility of the
    configuration Activity to perform the first update when configuration is
done.
    (See <a href="#Configuring">Creating an App Widget Configuration
Activity</a> below.)</dd>

<dt>
  <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onAppWidgetOptionsChanged(android.content.Context, android.appwidget.AppWidgetManager, int, android.os.Bundle)">onAppWidgetOptionsChanged()</a></code>
</dt>
<dd>
This is called when the widget is first placed and any time the widget is resized. You can use this callback to show or hide content based on the widget's size ranges. You get the size ranges by calling <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#getAppWidgetOptions(int)">getAppWidgetOptions()</a></code>, which returns a  <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=id">Bundle</a></code> that includes the following:<br /><br />
<ul>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#OPTION_APPWIDGET_MIN_WIDTH">OPTION_APPWIDGET_MIN_WIDTH</a></code>&mdash;Contains
the lower bound on the current width, in dp units, of a widget instance.</li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#OPTION_APPWIDGET_MIN_HEIGHT">OPTION_APPWIDGET_MIN_HEIGHT</a></code>&mdash;Contains
the lower bound on the current height, in dp units, of a widget instance.</li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#OPTION_APPWIDGET_MAX_WIDTH">OPTION_APPWIDGET_MAX_WIDTH</a></code>&mdash;Contains
 the upper bound on the current width, in dp units, of a widget instance.</li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#OPTION_APPWIDGET_MAX_HEIGHT">OPTION_APPWIDGET_MAX_HEIGHT</a></code>&mdash;Contains
the upper bound on the current width, in dp units, of a widget instance.</li>
</ul>

This callback was introduced in API Level 16 (Android 4.1). If you implement this callback, make sure that your app doesn't depend on it since it won't be called on older devices.
</dd>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onDeleted(android.content.Context, int[])">onDeleted(Context, int[])</a></code></dt>
    <dd>This is called every time an App Widget is deleted from the App Widget
host.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onEnabled(android.content.Context)">onEnabled(Context)</a></code></dt>
    <dd>This is called when an instance the App Widget is created for the first
time. For example, if the user
    adds two instances of your App Widget, this is only called the first time.
    If you need to open a new database or perform other setup that only needs to
occur once
    for all App Widget instances, then this is a good place to do it.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onDisabled(android.content.Context)">onDisabled(Context)</a></code></dt>
    <dd>This is called when the last instance of your App Widget is deleted from
the App Widget host.
    This is where you should clean up any work done in
    <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onEnabled(android.content.Context)">onEnabled(Context)</a></code>,
    such as delete a temporary database.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onReceive(android.content.Context, android.content.Intent)">onReceive(Context, Intent)</a></code></dt>
    <dd>This is called for every broadcast and before each of the above callback
methods.
    You normally don't need to implement this method because the default
AppWidgetProvider
    implementation filters all App Widget broadcasts and calls the above
    methods as appropriate.</dd>
</dl>

<p>The most important AppWidgetProvider callback is
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
because it is called when
each App Widget is added to a host (unless you use a configuration Activity). If
your App Widget accepts any user interaction events, then you need to register
the event handlers in this callback. If your App Widget doesn't create temporary
files or databases, or perform other work that requires clean-up, then
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
may be the only callback
method you need to define. For example, if you want an App Widget with a button
that launches an Activity when clicked, you could use the following
implementation of AppWidgetProvider:</p>

<pre>
public class ExampleAppWidgetProvider extends AppWidgetProvider {

    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
        final int N = appWidgetIds.length;

        // Perform this loop procedure for each App Widget that belongs to this provider
        for (int i=0; i&lt;N; i++) {
            int appWidgetId = appWidgetIds[i];

            // Create an Intent to launch ExampleActivity
            Intent intent = new Intent(context, ExampleActivity.class);
            PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);

            // Get the layout for the App Widget and attach an on-click listener
            // to the button
            RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.appwidget_provider_layout);
            views.setOnClickPendingIntent(R.id.button, pendingIntent);

            // Tell the AppWidgetManager to perform an update on the current app widget
            appWidgetManager.updateAppWidget(appWidgetId, views);
        }
    }
}
</pre>

<p>This AppWidgetProvider defines only the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
method for the purpose of
defining a <code><a href="https://developer.android.com/reference/android/app/PendingIntent.html?hl=id">PendingIntent</a></code> that launches an <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=id">Activity</a></code> and attaching it to the App Widget's button with <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id#setOnClickPendingIntent(int, android.app.PendingIntent)">setOnClickPendingIntent(int, PendingIntent)</a></code>. Notice
that it includes a loop that iterates through each entry in
<code>appWidgetIds</code>, which is an array of IDs that identify each App
Widget created by this provider. In this way, if the user creates more than one
instance of the App Widget, then they are all updated simultaneously. However,
only one <code>updatePeriodMillis</code> schedule will be managed for all
instances of the App Widget. For example, if the update schedule is defined to
be every two hours, and a second instance of the App Widget is added one hour
after the first one, then they will both be updated on the period defined by the
first one and the second update period will be ignored (they'll both be updated
every two hours, not every hour).</p>

<p class="note"><strong>Note:</strong> Because <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> is an extension of <code><a href="https://developer.android.com/reference/android/content/BroadcastReceiver.html?hl=id">BroadcastReceiver</a></code>, your process is not guaranteed to keep
running after the callback methods return (see <code><a href="https://developer.android.com/reference/android/content/BroadcastReceiver.html?hl=id">BroadcastReceiver</a></code> for information about the broadcast
lifecycle). If your App Widget setup process can take several seconds (perhaps
while performing web requests) and you require that your process continues,
consider starting a <code><a href="https://developer.android.com/reference/android/app/Service.html?hl=id">Service</a></code> in the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
method. From within the Service, you can perform your own updates
to the App Widget without worrying about the AppWidgetProvider closing down due
to an <a href="https://developer.android.com/training/articles/perf-anr.html?hl=id">Application
Not Responding</a> (ANR) error. See the <a
href="http://code.google.com/p/wiktionary-android/source/browse/trunk/Wiktionary/src/com/example/android/wiktionary/WordWidget.java?hl=id">Wiktionary sample's AppWidgetProvider</a> for an example of an App Widget running a <code><a href="https://developer.android.com/reference/android/app/Service.html?hl=id">Service</a></code>.</p>

<p>Also see the <a
href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/appwidget/ExampleAppWidgetProvider.html?hl=id">ExampleAppWidgetProvider.java</a>
sample class.</p>


<h3 id="ProviderBroadcasts">Receiving App Widget broadcast Intents</h3>

<p><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> is just a convenience class.  If
you would like
to receive the App Widget broadcasts directly, you can implement your own
<code><a href="https://developer.android.com/reference/android/content/BroadcastReceiver.html?hl=id">BroadcastReceiver</a></code> or override the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onReceive(android.content.Context, android.content.Intent)">onReceive(Context, Intent)</a></code> callback.
The Intents you need to care about are as follows:</p>
<ul>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_UPDATE">ACTION_APPWIDGET_UPDATE</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_DELETED">ACTION_APPWIDGET_DELETED</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_ENABLED">ACTION_APPWIDGET_ENABLED</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_DISABLED">ACTION_APPWIDGET_DISABLED</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_OPTIONS_CHANGED">ACTION_APPWIDGET_OPTIONS_CHANGED</a></code></li>
</ul>



<h2 id="Configuring">Creating an App Widget Configuration Activity</h2>

<p>If you would like the user to configure settings when he or she adds a new
App Widget,
you can create an App Widget configuration Activity. This <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=id">Activity</a></code>
will be automatically launched by the App Widget host and allows the user to
configure
available settings for the App Widget at create-time, such as the App Widget
color, size,
update period or other functionality settings.</p>

<p>The configuration Activity should be declared as a normal Activity in the
Android manifest file.
However, it will be launched by the App Widget host with the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#ACTION_APPWIDGET_CONFIGURE">ACTION_APPWIDGET_CONFIGURE</a></code> action,
so the Activity needs to accept this Intent. For example:</p>

<pre>
&lt;activity android:name=".ExampleAppWidgetConfigure">
    &lt;intent-filter>
        &lt;action android:name="android.appwidget.action.APPWIDGET_CONFIGURE"/>
    &lt;/intent-filter>
&lt;/activity>
</pre>

<p>Also, the Activity must be declared in the AppWidgetProviderInfo XML file,
with the
<code>android:configure</code> attribute (see <a href="#MetaData">Adding
the AppWidgetProviderInfo Metadata</a> above). For example, the configuration
Activity
can be declared like this:</p>

<pre>
&lt;appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
    ...
    android:configure="com.example.android.ExampleAppWidgetConfigure"
    ... >
&lt;/appwidget-provider>
</pre>

<p>Notice that the Activity is declared with a fully-qualified namespace,
because
it will be referenced from outside your package scope.</p>

<p>That's all you need to get started with a configuration Activity. Now all you
need is the actual
Activity. There are, however, two important things to remember when you
implement the Activity:</p>
<ul>
  <li>The App Widget host calls the configuration Activity and the configuration
Activity should always
    return a result. The result should include the App Widget ID
    passed by the Intent that launched the Activity (saved in the Intent extras
as
    <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#EXTRA_APPWIDGET_ID">EXTRA_APPWIDGET_ID</a></code>).</li>
  <li>The
  <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
    method <strong>will not be called</strong> when the App Widget
is created
    (the system will not send the ACTION_APPWIDGET_UPDATE broadcast when a
configuration Activity
    is launched). It is the responsibility of the configuration Activity to
request an update from the
    AppWidgetManager when the App Widget is first created. However,
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>
    will be called for subsequent updates&mdash;it is only skipped
the first time.</li>
</ul>

<p>See the code snippets in the following section for an example of how to
return a result
from the configuration and update the App Widget.</p>


<h3 id="UpdatingFromTheConfiguration">Updating the App Widget from the
configuration Activity</h3>

<p>When an App Widget uses a configuration Activity, it is the responsibility of
the Activity
to update the App Widget when configuration is complete.
You can do so by requesting an update directly from the
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id">AppWidgetManager</a></code>.</p>

<p>Here's a summary of the procedure to properly update the App Widget and close
the configuration Activity:</p>

<ol>
  <li>First, get the App Widget ID from the Intent that launched the Activity:
<pre>
Intent intent = getIntent();
Bundle extras = intent.getExtras();
if (extras != null) {
    mAppWidgetId = extras.getInt(
            AppWidgetManager.EXTRA_APPWIDGET_ID,
            AppWidgetManager.INVALID_APPWIDGET_ID);
}
</pre>
  </li>
  <li>Perform your App Widget configuration.</li>
  <li>When the configuration is complete, get an instance of the
AppWidgetManager by calling
    <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#getInstance(android.content.Context)">getInstance(Context)</a></code>:
<pre>
AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);
</pre>
  </li>
  <li>Update the App Widget with a <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code> layout by
calling
    <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#updateAppWidget(int, android.widget.RemoteViews)">updateAppWidget(int, RemoteViews)</a></code>:
<pre>
RemoteViews views = new RemoteViews(context.getPackageName(),
R.layout.example_appwidget);
appWidgetManager.updateAppWidget(mAppWidgetId, views);
</pre>
  </li>
  <li>Finally, create the return Intent, set it with the Activity result, and
finish the Activity:</li>
<pre>
Intent resultValue = new Intent();
resultValue.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, mAppWidgetId);
setResult(RESULT_OK, resultValue);
finish();
</pre>
  </li>
</ol>

<p class="note"><strong>Tip:</strong> When your configuration Activity first
opens, set
the Activity result to RESULT_CANCELED, along with EXTRA_APPWIDGET_ID, as shown
in step 5 above. This way, if the user backs-out of the
Activity before
reaching the end, the App Widget host is notified that the configuration was
cancelled and the
App Widget will not be added.</p>

<p>See the <a
href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/appwidget/ExampleAppWidgetConfigure.html?hl=id">ExampleAppWidgetConfigure.java</a>
sample class in ApiDemos for an example.</p>

<h2 id="preview">Setting a Preview Image</h2>

<p>Android 3.0 introduces the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id#previewImage">previewImage</a></code> field, which specifies a
preview of what the app widget looks like. This preview is shown to the user from the
widget picker. If this field is not supplied, the app widget's icon is used for
the preview.</p>

<p>This is how you specify this setting in XML:</p>

<pre>&lt;appwidget-provider xmlns:android="http://schemas.android.com/apk/res/android"
  ...
  android:previewImage="@drawable/preview">
&lt;/appwidget-provider></pre>

<p>To help create a preview image for your app widget (to specify in the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html?hl=id#previewImage">previewImage</a></code> field), the Android
emulator includes an application called &quot;Widget Preview.&quot; To create a
preview image, launch this application, select the app widget for your
application and set it up how you'd like your preview image to appear, then save
it and place it in your application's drawable resources.</p>

<h2 id="collections">Using App Widgets with Collections</h2>

<p>Android 3.0 introduces app widgets with collections. These kinds of App
Widgets use the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> to display collections
that are backed by remote data, such as from a <a
href="../providers/content-providers0cf2.html?hl=id">content
provider</a>. The data provided by the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>
is presented in the app widget using one of the following view types, which
we’ll refer to as “collection views:”</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=id">ListView</a></code></dt>
  <dd>A view that shows items in a
vertically scrolling
list. For an example, see the Gmail app widget. </dd>
<dt><code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=id">GridView</a></code></dt>
<dd>A view that shows items in
two-dimensional scrolling grid. For an example, see the Bookmarks app
widget.</dd>
<dt><code><a href="https://developer.android.com/reference/android/widget/StackView.html?hl=id">StackView</a></code></dt>
<dd>A
stacked card view (kind of like a rolodex), where the user can flick the  front
card up/down to see the previous/next card, respectively.  Examples include
the YouTube and Books app widgets. </dd>
<dt><code><a href="https://developer.android.com/reference/android/widget/AdapterViewFlipper.html?hl=id">AdapterViewFlipper</a></code></dt>
<dd>An adapter-backed simple
<code><a href="https://developer.android.com/reference/android/widget/ViewAnimator.html?hl=id">ViewAnimator</a></code> that  animates between two or more views. Only one
child is shown at a time.</dd>
</dl>

<p>As stated above, these collection views display collections backed by remote
data. This means that they use an <code><a href="https://developer.android.com/reference/android/widget/Adapter.html?hl=id">Adapter</a></code> to bind their
user interface to their data. An <code><a href="https://developer.android.com/reference/android/widget/Adapter.html?hl=id">Adapter</a></code> binds individual
items from a set of data into individual <code><a href="https://developer.android.com/reference/android/view/View.html?hl=id">View</a></code> objects.
Because these collection views are backed by adapters, the Android framework
must include extra architecture to support their use in app widgets. In the
context of an app widget, the <code><a href="https://developer.android.com/reference/android/widget/Adapter.html?hl=id">Adapter</a></code> is replaced by a
<code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>,
which is simply a thin wrapper around  the <code><a href="https://developer.android.com/reference/android/widget/Adapter.html?hl=id">Adapter</a></code>
interface.
 When
requested for a specific item in the collection, the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> creates
and returns the item for the collection as a <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code>
object.
In order to include a collection view in your app widget, you
must implement <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> and <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>.</p>

<p> <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> is a service that allows a remote
adapter to request <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code> objects. <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> is an
interface for an adapter between a collection view (such as <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=id">ListView</a></code>, <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=id">GridView</a></code>, and so on) and the
underlying data for that view. From the  <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a>, here is an example of the boilerplate code you use to implement
this service and interface:
</p>

<pre>
public class StackWidgetService extends RemoteViewsService {
    &#64;Override
    public RemoteViewsFactory onGetViewFactory(Intent intent) {
        return new StackRemoteViewsFactory(this.getApplicationContext(), intent);
    }
}

class StackRemoteViewsFactory implements RemoteViewsService.RemoteViewsFactory {

//... include adapter-like methods here. See the StackView Widget sample.

}
</pre>

<h3 id="collection_sample">Sample application</h3>

<p>The code excerpts in this section are drawn from the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a>:</p>

<p>
<img src="../../../images/appwidgets/StackWidget0cf2.png?hl=id" alt="" />
</p>

<p>This sample consists of a stack of 10 views, which  display the values
<code>&quot;0!&quot;</code> through <code>&quot;9!&quot;</code> The sample
app widget has these primary behaviors:</p>

<ul>

  <li>The user can vertically fling the top view in the
app widget to display the next or previous view. This is a built-in StackView
behavior.</li>

  <li>Without any user interaction, the app widget automatically advances
through
its views in sequence, like a slide show. This is due to the setting
<code>android:autoAdvanceViewId=&quot;@id/stack_view&quot;</code> in the
<code>res/xml/stackwidgetinfo.xml</code> file. This setting applies to the view
ID,
which in this case is the view ID of the stack view.</li>

  <li>If the user touches the top view, the app widget displays the <code><a href="https://developer.android.com/reference/android/widget/Toast.html?hl=id">Toast</a></code> message &quot;Touched view <em>n</em>,&quot; where
<em>n</em> is the index (position) of the touched view. For more discussion of
how this is implemented, see
<a href="#behavior">Adding behavior to individual items</a>.</li>

</ul>
<h3 id="implementing_collections">Implementing app widgets with collections</h3>

<p>To implement an app widget with collections, you follow the same basic steps
you would use to implement any app widget. The following sections  describe the
additional steps you need to perform to implement an app widget with
collections.</p>

<h4>Manifest for app widgets with collections</h4>

<p> In addition to the requirements listed in <a href="#Manifest">Declaring an
app widget in the Manifest</a>, to make it possible for app widgets with
collections to bind to your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>, you must
declare the service in your manifest file with the permission <code><a href="https://developer.android.com/reference/android/Manifest.permission.html?hl=id#BIND_REMOTEVIEWS">BIND_REMOTEVIEWS</a></code>. This prevents other applications
from freely accessing your app widget's data. For example, when creating an App
Widget that uses <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> to populate a
collection view, the manifest entry may look like this:</p>

<pre>&lt;service android:name=&quot;MyWidgetService&quot;
...
android:permission=&quot;android.permission.BIND_REMOTEVIEWS&quot; /&gt;</pre>

<p>The line <code>android:name=&quot;MyWidgetService&quot;</code>
refers to your subclass of <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>. </p>

<h4>Layout for app widgets with collections</h4>

<p>The main requirement for your app widget layout XML file is that it
include one of the collection views: <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=id">ListView</a></code>,
<code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=id">GridView</a></code>, <code><a href="https://developer.android.com/reference/android/widget/StackView.html?hl=id">StackView</a></code>, or
<code><a href="https://developer.android.com/reference/android/widget/AdapterViewFlipper.html?hl=id">AdapterViewFlipper</a></code>. Here is the
<code>widget_layout.xml</code> for
the <a href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView
Widget sample</a>:</p>

<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;

&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;&gt;
    &lt;StackView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
        android:id=&quot;&#64;+id/stack_view&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:gravity=&quot;center&quot;
        android:loopViews=&quot;true&quot; /&gt;
    &lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
        android:id=&quot;&#64;+id/empty_view&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:gravity=&quot;center&quot;
        android:background=&quot;&#64;drawable/widget_item_background&quot;
        android:textColor=&quot;#ffffff&quot;
        android:textStyle=&quot;bold&quot;
        android:text=&quot;&#64;string/empty_view_text&quot;
        android:textSize=&quot;20sp&quot; /&gt;
&lt;/FrameLayout&gt;</pre>

<p> Note that empty views must be siblings of the collection view for which the
empty view represents empty state. </p>

<p>In addition to the layout file for your entire app widget, you must create
another layout file that defines the layout for each item in the collection (for
example, a layout for each book in a collection of books). For example, the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a> only has one layout file, <code>widget_item.xml</code>, since all
items use the same layout. But the <a
href="https://developer.android.com/resources/samples/WeatherListWidget/index.html?hl=id">
WeatherListWidget sample</a> has two layout files:
<code>dark_widget_item.xml</code> and <code>light_widget_item.xml</code>.</p>



<h4 id="AppWidgetProvider-collections">AppWidgetProvider class for app widgets with collections</h4>

<p>As with a regular app widget, the bulk of your code in your <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> subclass typically goes in <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code>. The major difference in
your implementation for <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code> when creating an app
widget with collections is that you must call <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id#setRemoteAdapter(int, android.content.Intent)">setRemoteAdapter()</a></code>. This tells the
collection view where to get its data. The <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> can then return your implementation of <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>, and
the widget can serve up the appropriate data. When you call this method, you
must pass an intent that  points to your implementation of <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> and the app widget ID that specifies the app
widget to update.</p>


<p>For example, here's how the StackView Widget sample implements the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onUpdate(android.content.Context, android.appwidget.AppWidgetManager, int[])">onUpdate()</a></code> callback method to set
the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> as the remote adapter for the app widget
collection:</p>

<pre>public void onUpdate(Context context, AppWidgetManager appWidgetManager,
int[] appWidgetIds) {
    // update each of the app widgets with the remote adapter
    for (int i = 0; i &lt; appWidgetIds.length; ++i) {

        // Set up the intent that starts the StackViewService, which will
        // provide the views for this collection.
        Intent intent = new Intent(context, StackWidgetService.class);
        // Add the app widget ID to the intent extras.
        intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetIds[i]);
        intent.setData(Uri.parse(intent.toUri(Intent.URI_INTENT_SCHEME)));
        // Instantiate the RemoteViews object for the app widget layout.
        RemoteViews rv = new RemoteViews(context.getPackageName(), R.layout.widget_layout);
        // Set up the RemoteViews object to use a RemoteViews adapter.
        // This adapter connects
        // to a RemoteViewsService  through the specified intent.
        // This is how you populate the data.
        rv.setRemoteAdapter(appWidgetIds[i], R.id.stack_view, intent);

        // The empty view is displayed when the collection has no items.
        // It should be in the same layout used to instantiate the RemoteViews
        // object above.
        rv.setEmptyView(R.id.stack_view, R.id.empty_view);

        //
        // Do additional processing specific to this app widget...
        //

        appWidgetManager.updateAppWidget(appWidgetIds[i], rv);
    }
    super.onUpdate(context, appWidgetManager, appWidgetIds);
}</pre>

<h4>RemoteViewsService class</h4>

<div class="sidebox-wrapper">
<div class="sidebox">
<h3>Persisting data</h3>
   <p>You can’t rely on a single instance of your service, or any data it
contains, to persist. You should therefore not store any data in your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> (unless it is static). If you want your
app widget’s data to persist, the best approach is to use a <code><a href="https://developer.android.com/reference/android/content/ContentProvider.html?hl=id">ContentProvider</a></code> whose data persists beyond the process
lifecycle.</p> </div>
</div>

<p>As described above, your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> subclass
provides the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> used to  populate the remote collection view.</p>

<p>Specifically, you need to
perform these steps:</p>

<ol>
  <li>Subclass <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>. <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> is the service through which
a remote adapter can request <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code>.  </li>

  <li>In your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code> subclass, include a
class that implements the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>
interface. <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> is an interface for an adapter between a remote collection
view (such as <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=id">ListView</a></code>, <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=id">GridView</a></code>,
and so on) and  the underlying data for that view.  Your implementation is
responsible for making a <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code> object  for each
item in the data set. This interface is a thin wrapper around <code><a href="https://developer.android.com/reference/android/widget/Adapter.html?hl=id">Adapter</a></code>.</li>
</ol>

<p>The primary contents of the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>
implementation is its <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>,
described below.</p>

<h4>RemoteViewsFactory interface</h4>

<p>Your custom class that implements the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>
interface provides the app widget with the data for the items in its collection.
To
do this, it combines your app widget item XML layout file with a source of data.
This source of data could be anything from a database to a simple array. In the
<a href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a>, the data source is an array of <code>WidgetItems</code>. The <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>
functions as an adapter to glue the data to the remote collection view.</p>

<p>The two most important methods you need to implement for your

<code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>
subclass are
<code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onCreate()">onCreate()</a></code> and
<code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#getViewAt(int)">getViewAt()</a></code>
.</p>

<p>The system calls <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onCreate()">onCreate()</a></code> when
creating your factory for the first time. This is where you set up any
connections and/or cursors to your data source. For example, the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a> uses <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onCreate()">onCreate()</a></code> to
initialize an array of <code>WidgetItem</code> objects. When your app widget is
active, the system accesses these objects using their index position in the
array and the text they contain is displayed.</p>

<p>Here is an excerpt from the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget</a>
sample's
<code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> implementation that shows portions of the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onCreate()">onCreate()</a></code>
method:</p>

<pre>class StackRemoteViewsFactory implements
RemoteViewsService.RemoteViewsFactory {
    private static final int mCount = 10;
    private List&lt;WidgetItem&gt; mWidgetItems = new ArrayList&lt;WidgetItem&gt;();
    private Context mContext;
    private int mAppWidgetId;

    public StackRemoteViewsFactory(Context context, Intent intent) {
        mContext = context;
        mAppWidgetId = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,
                AppWidgetManager.INVALID_APPWIDGET_ID);
    }

    public void onCreate() {
        // In onCreate() you setup any connections / cursors to your data source. Heavy lifting,
        // for example downloading or creating content etc, should be deferred to onDataSetChanged()
        // or getViewAt(). Taking more than 20 seconds in this call will result in an ANR.
        for (int i = 0; i &lt; mCount; i++) {
            mWidgetItems.add(new WidgetItem(i + &quot;!&quot;));
        }
        ...
    }
...</pre>

<p>The <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> method <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#getViewAt(int)">getViewAt()</a></code>
returns a <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id">RemoteViews</a></code> object corresponding to the data at
the specified <code>position</code> in the data set. Here is an excerpt from
the <a
href="http://developer.android.com/resources/samples/StackWidget/index.html?hl=id">
StackView Widget</a> sample's <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>
implementation:</p>

<pre>public RemoteViews getViewAt(int position) {

    // Construct a remote views item based on the app widget item XML file,
    // and set the text based on the position.
    RemoteViews rv = new RemoteViews(mContext.getPackageName(), R.layout.widget_item);
    rv.setTextViewText(R.id.widget_item, mWidgetItems.get(position).text);

    ...
    // Return the remote views object.
    return rv;
}</pre>

<h4 id="behavior">Adding behavior to individual items</h4>

<p>The above sections show you how to bind your data to your app widget
collection. But what if you want to add dynamic behavior to the individual items
in your collection view?</p>

<p> As described in <a href="#AppWidgetProvider">Using the AppWidgetProvider
Class</a>, you  normally use <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id#setOnClickPendingIntent(int, android.app.PendingIntent)">setOnClickPendingIntent()</a></code> to set an object's click
behavior&mdash;such as to cause a button to launch an <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=id">Activity</a></code>. But this approach is not allowed for child views in an
individual collection item (to clarify, you could use <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id#setOnClickPendingIntent(int, android.app.PendingIntent)">setOnClickPendingIntent()</a></code> to set up a global button
in the Gmail app widget that launches the app, for example, but not on the
individual list items). Instead, to add click behavior to individual items in a
collection, you  use <code><a href="https://developer.android.com/reference/android/widget/RemoteViews.html?hl=id#setOnClickFillInIntent(int, android.content.Intent)">setOnClickFillInIntent()</a></code>. This entails setting up a pending intent template
for your collection view, and then setting a fill-in intent on each item in the
collection via your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>.</p>
<p>This section uses the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a> to describe how to add behavior to individual items. In the <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a>, if the user touches the top view, the app widget displays the <code><a href="https://developer.android.com/reference/android/widget/Toast.html?hl=id">Toast</a></code> message &quot;Touched view <em>n</em>,&quot; where
<em>n</em> is the index (position) of the touched view. This is how it
works:</p>

<ul>
  <li>The <code>StackWidgetProvider</code> (an <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> subclass) creates a pending intent that has
a custom action called <code>TOAST_ACTION</code>.</li>
  <li>When the user touches a view, the intent is fired and it broadcasts
<code>TOAST_ACTION</code>.</li>

  <li>This broadcast is intercepted by the <code>StackWidgetProvider</code>'s
<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onReceive(android.content.Context, android.content.Intent)">onReceive()</a></code> method, and the app widget displays the
<code><a href="https://developer.android.com/reference/android/widget/Toast.html?hl=id">Toast</a></code> message for the touched view. The data for the collection
items is provided by the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>, via
the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.html?hl=id">RemoteViewsService</a></code>.</li>
</ul>

<p class="note"><strong>Note:</strong> The <a
href="https://developer.android.com/resources/samples/StackWidget/index.html?hl=id">StackView Widget
sample</a> uses a broadcast, but typically an app widget would simply launch an
activity in a scenario like this one.</p>

<h5>Setting up the pending intent template</h5>

<p>The <code>StackWidgetProvider</code> (<code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id">AppWidgetProvider</a></code> subclass) sets up a pending intent.
Individuals items of a collection cannot set up their own pending intents.
Instead, the collection as a whole sets up a pending intent template, and the
individual items set a fill-in intent to create unique behavior on an
item-by-item
basis.</p>

<p>This class  also receives the broadcast that is sent when the user touches a
view. It processes this event in its <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetProvider.html?hl=id#onReceive(android.content.Context, android.content.Intent)">onReceive()</a></code> method. If the intent's action is
<code>TOAST_ACTION</code>, the app widget displays a <code><a href="https://developer.android.com/reference/android/widget/Toast.html?hl=id">Toast</a></code>
message for the current view.</p>

<pre>public class StackWidgetProvider extends AppWidgetProvider {
    public static final String TOAST_ACTION = &quot;com.example.android.stackwidget.TOAST_ACTION&quot;;
    public static final String EXTRA_ITEM = &quot;com.example.android.stackwidget.EXTRA_ITEM&quot;;

    ...

    // Called when the BroadcastReceiver receives an Intent broadcast.
    // Checks to see whether the intent's action is TOAST_ACTION. If it is, the app widget
    // displays a Toast message for the current item.
    &#64;Override
    public void onReceive(Context context, Intent intent) {
        AppWidgetManager mgr = AppWidgetManager.getInstance(context);
        if (intent.getAction().equals(TOAST_ACTION)) {
            int appWidgetId = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,
                AppWidgetManager.INVALID_APPWIDGET_ID);
            int viewIndex = intent.getIntExtra(EXTRA_ITEM, 0);
            Toast.makeText(context, &quot;Touched view &quot; + viewIndex, Toast.LENGTH_SHORT).show();
        }
        super.onReceive(context, intent);
    }

    &#64;Override
    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {
        // update each of the app widgets with the remote adapter
        for (int i = 0; i &lt; appWidgetIds.length; ++i) {

            // Sets up the intent that points to the StackViewService that will
            // provide the views for this collection.
            Intent intent = new Intent(context, StackWidgetService.class);
            intent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetIds[i]);
            // When intents are compared, the extras are ignored, so we need to embed the extras
            // into the data so that the extras will not be ignored.
            intent.setData(Uri.parse(intent.toUri(Intent.URI_INTENT_SCHEME)));
            RemoteViews rv = new RemoteViews(context.getPackageName(), R.layout.widget_layout);
            rv.setRemoteAdapter(appWidgetIds[i], R.id.stack_view, intent);

            // The empty view is displayed when the collection has no items. It should be a sibling
            // of the collection view.
            rv.setEmptyView(R.id.stack_view, R.id.empty_view);

            // This section makes it possible for items to have individualized behavior.
            // It does this by setting up a pending intent template. Individuals items of a collection
            // cannot set up their own pending intents. Instead, the collection as a whole sets
            // up a pending intent template, and the individual items set a fillInIntent
            // to create unique behavior on an item-by-item basis.
            Intent toastIntent = new Intent(context, StackWidgetProvider.class);
            // Set the action for the intent.
            // When the user touches a particular view, it will have the effect of
            // broadcasting TOAST_ACTION.
            toastIntent.setAction(StackWidgetProvider.TOAST_ACTION);
            toastIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetIds[i]);
            intent.setData(Uri.parse(intent.toUri(Intent.URI_INTENT_SCHEME)));
            PendingIntent toastPendingIntent = PendingIntent.getBroadcast(context, 0, toastIntent,
                PendingIntent.FLAG_UPDATE_CURRENT);
            rv.setPendingIntentTemplate(R.id.stack_view, toastPendingIntent);

            appWidgetManager.updateAppWidget(appWidgetIds[i], rv);
        }
    super.onUpdate(context, appWidgetManager, appWidgetIds);
    }
}</pre>

<h5><strong>Setting the fill-in Intent</strong></h5>

<p>Your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> must set a fill-in intent on each item in the collection.
This makes it possible to distinguish the individual on-click action of a given
item. The fill-in intent is then combined with the <code><a href="https://developer.android.com/reference/android/app/PendingIntent.html?hl=id">PendingIntent</a></code> template in order to determine the final intent that
will be executed when the item is clicked. </p>

<pre>
public class StackWidgetService extends RemoteViewsService {
    &#64;Override
    public RemoteViewsFactory onGetViewFactory(Intent intent) {
        return new StackRemoteViewsFactory(this.getApplicationContext(), intent);
    }
}

class StackRemoteViewsFactory implements RemoteViewsService.RemoteViewsFactory {
    private static final int mCount = 10;
    private List&lt;WidgetItem&gt; mWidgetItems = new ArrayList&lt;WidgetItem&gt;();
    private Context mContext;
    private int mAppWidgetId;

    public StackRemoteViewsFactory(Context context, Intent intent) {
        mContext = context;
        mAppWidgetId = intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID,
                AppWidgetManager.INVALID_APPWIDGET_ID);
    }

    // Initialize the data set.
        public void onCreate() {
            // In onCreate() you set up any connections / cursors to your data source. Heavy lifting,
            // for example downloading or creating content etc, should be deferred to onDataSetChanged()
            // or getViewAt(). Taking more than 20 seconds in this call will result in an ANR.
            for (int i = 0; i &lt; mCount; i++) {
                mWidgetItems.add(new WidgetItem(i + &quot;!&quot;));
            }
           ...
        }
        ...

        // Given the position (index) of a WidgetItem in the array, use the item's text value in
        // combination with the app widget item XML file to construct a RemoteViews object.
        public RemoteViews getViewAt(int position) {
            // position will always range from 0 to getCount() - 1.

            // Construct a RemoteViews item based on the app widget item XML file, and set the
            // text based on the position.
            RemoteViews rv = new RemoteViews(mContext.getPackageName(), R.layout.widget_item);
            rv.setTextViewText(R.id.widget_item, mWidgetItems.get(position).text);

            // Next, set a fill-intent, which will be used to fill in the pending intent template
            // that is set on the collection view in StackWidgetProvider.
            Bundle extras = new Bundle();
            extras.putInt(StackWidgetProvider.EXTRA_ITEM, position);
            Intent fillInIntent = new Intent();
            fillInIntent.putExtras(extras);
            // Make it possible to distinguish the individual on-click
            // action of a given item
            rv.setOnClickFillInIntent(R.id.widget_item, fillInIntent);

            ...

            // Return the RemoteViews object.
            return rv;
        }
    ...
    }</pre>

<h3 id="fresh">Keeping Collection Data Fresh</h3>

<p>The following figure illustrates the flow that occurs in an app widget that
uses
collections when updates occur. It shows how the app widget code interacts with
the  <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>, and how you can trigger updates:</p>

<img src="../../../images/appwidgets/appwidget_collections0cf2.png?hl=id" alt="" />

<p>One feature of app widgets that use collections is the ability to provide
users with up-to-date content. For example, consider the Android 3.0 Gmail
app widget, which provides users with a snapshot of their inbox. To make this
possible, you need to be able to trigger your <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code> and
collection view to fetch and display new data. You achieve this with the <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id">AppWidgetManager</a></code> call <code><a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html?hl=id#notifyAppWidgetViewDataChanged(int, int)">notifyAppWidgetViewDataChanged()</a></code>. This call results in a callback to your
<code>RemoteViewsFactory</code>’s <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onDataSetChanged()">onDataSetChanged()</a></code> method, which gives you the opportunity to fetch any new
data. Note that you can perform
processing-intensive operations synchronously within the  <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#onDataSetChanged()">onDataSetChanged()</a></code> callback. You are guaranteed that this call will be
completed before the metadata or view data is fetched from the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id">RemoteViewsFactory</a></code>. In
addition, you can perform processing-intensive operations within the <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#getViewAt(int)">getViewAt()</a></code>
method. If this call takes a long time, the loading view (specified by the
<code>RemoteViewsFactory</code>’s  <code><a href="https://developer.android.com/reference/android/widget/RemoteViewsService.RemoteViewsFactory.html?hl=id#getLoadingView()">getLoadingView()</a></code> method)
will be displayed in the corresponding position of the collection view until it
returns.</p>





    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=id" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Blog" target="_blank">Blog</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=id" title="Dukungan">Dukungan</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=id" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=id" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=id" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=id" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="CwJaf9pUI-ryEVuFrR1ZM7WbLFnl0awPoeImqmAkO_Q6MTQ5NzUxNjYwMzcxMTA0MA" />
      <input type="hidden" name="next" value="index.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
             selected="selected" >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
            >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
            >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
            >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Alamat email</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../../ytblogger_lists_unified8481.js?hl=id?v=2017061508" defer></script>
  <script src="../../../android_metadata_en8481.js?hl=id?v=2017061508" defer></script>
  
  <script src="../../../reference/lists8481.js?hl=id?v=2017061508" defer></script>
  <script src="../../../reference/gms_lists8481.js?hl=id?v=2017061508" defer></script>
  <script src="../../../reference/android/support/wearable/lists8481.js?hl=id?v=2017061508" defer></script>
  <script src="../../../reference/android/support/test/lists8481.js?hl=id?v=2017061508" defer></script>
  <script src="../../../reference/android/support/constraint/lists8481.js?hl=id?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=id"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_id.js?hl=id?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/topics/appwidgets/index.html?hl=id by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:10:18 GMT -->
</html>
