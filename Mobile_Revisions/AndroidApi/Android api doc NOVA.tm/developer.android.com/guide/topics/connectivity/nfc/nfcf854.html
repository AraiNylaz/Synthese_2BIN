





<!DOCTYPE html>
<html lang="zh-tw">

<!-- Mirrored from developer.android.com/guide/topics/connectivity/nfc/nfc.html?hl=zh-tw by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:12:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="9enOACIH0XjpULJKzxxymYN7cV12SAOh_cOBEPcV2QY6MTQ5NzUxNjgyMzM4Mjk4MA" />

  
    <link rel="canonical" href="nfc.html">
  

  
    <link rel="alternate" href="nfc.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/connectivity/nfc/nfc.html" hreflang="en-cn">
  

  <link rel="alternate" href="nfc.html" hreflang="x-default">




<link rel="shortcut icon" href="../../../../_static/f304fc21fa/images/android/faviconf854.png?hl=zh-tw">

<link rel="apple-touch-icon" href="../../../../_static/f304fc21fa/images/android/touchicon-180f854.png?hl=zh-tw">


<title>

  NFC Basics | Android Developers

</title>

  <meta name="description" content="This document describes the basic NFC tasks you perform in Android. It explains how to send and receive NFC data in the form of NDEF messages and describes the Android framework APIs that support these features. For more advanced topics, including a discussion…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../../../static/css/default962f.css?hl=zh-tw?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../../../_static/f304fc21fa/js/android_3p-bundlef854.js?hl=zh-tw" type="text/javascript"></script>
<script src="../../../../_static/f304fc21fa/js/script_foot_closure_android__zh_twf854.js?hl=zh-tw"></script>
<script src="../../../../_static/f304fc21fa/js/script_foot_androidf854.js?hl=zh-tw"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../../../static/js/docs962f.js?hl=zh-tw?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;zh-tw&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;en&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;zh-tw&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "zh-tw", "served": "en"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=zh-tw">
          <img class="dac-header-logo-image" src="../../../../static/images/android_logof854.png?hl=zh-tw"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=zh-tw"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=zh-tw"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=zh-tw"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=zh-tw"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=zh-tw" width="18" height="19" alt="Play 管理中心">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="搜尋">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">返回</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../../../indexf854.html?hl=zh-tw" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../components/fundamentalsf854.html?hl=zh-tw" >App Fundamentals</a></li><li><a href="../../../practices/compatibilityf854.html?hl=zh-tw" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../permissions/indexf854.html?hl=zh-tw" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../permissions/requestingf854.html?hl=zh-tw" >Requesting Permissions</a></li><li><a href="../../permissions/definingf854.html?hl=zh-tw" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../../platform/indexf854.html?hl=zh-tw" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../platform/j8-jackf854.html?hl=zh-tw"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../../../practices/verifying-apps-artf854.html?hl=zh-tw" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../../components/indexf854.html?hl=zh-tw" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../../components/intents-filtersf854.html?hl=zh-tw" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../components/intents-commonf854.html?hl=zh-tw" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../../components/activities/indexf854.html?hl=zh-tw" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../components/activities/intro-activitiesf854.html?hl=zh-tw" >Introduction to Activities</a></li><li><a href="../../../components/activities/activity-lifecyclef854.html?hl=zh-tw" >The Activity Lifecycle</a></li><li><a href="../../../components/activities/state-changesf854.html?hl=zh-tw" >Activity State Changes</a></li><li><a href="../../../components/activities/tasks-and-back-stackf854.html?hl=zh-tw" >Tasks and Back Stack</a></li><li><a href="../../../components/activities/process-lifecyclef854.html?hl=zh-tw" >Processes and Application Lifecycle</a></li><li><a href="../../../components/activities/parcelables-and-bundlesf854.html?hl=zh-tw" >Parcelables and Bundles</a></li><li><a href="../../../components/activities/recentsf854.html?hl=zh-tw" >Recents Screen</a></li></ul></li><li><a href="../../../components/fragmentsf854.html?hl=zh-tw" >Fragments</a></li><li><a href="../../../components/loadersf854.html?hl=zh-tw" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../../components/servicesf854.html?hl=zh-tw" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../components/bound-servicesf854.html?hl=zh-tw" >Bound Services</a></li><li><a href="../../../components/aidlf854.html?hl=zh-tw" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../providers/content-providersf854.html?hl=zh-tw" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../providers/content-provider-basicsf854.html?hl=zh-tw" >Content Provider Basics</a></li><li><a href="../../providers/content-provider-creatingf854.html?hl=zh-tw" >Creating a Content Provider</a></li><li><a href="../../providers/calendar-providerf854.html?hl=zh-tw" >Calendar Provider</a></li><li><a href="../../providers/contacts-providerf854.html?hl=zh-tw" >Contacts Provider</a></li><li><a href="../../providers/document-providerf854.html?hl=zh-tw" >Open files using Storage Access Framework</a></li><li><a href="../../providers/create-document-providerf854.html?hl=zh-tw" >Create a Custom Document Provider</a></li></ul></li><li><a href="../../../components/broadcastsf854.html?hl=zh-tw" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../appwidgets/indexf854.html?hl=zh-tw" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../appwidgets/hostf854.html?hl=zh-tw" >App Widget Host</a></li></ul></li><li><a href="../../../components/processes-and-threadsf854.html?hl=zh-tw" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../resources/indexf854.html?hl=zh-tw" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../resources/overviewf854.html?hl=zh-tw" >Overview</a></li><li><a href="../../resources/providing-resourcesf854.html?hl=zh-tw" >Providing Resources</a></li><li><a href="../../resources/accessing-resourcesf854.html?hl=zh-tw" >Accessing Resources</a></li><li><a href="../../resources/runtime-changesf854.html?hl=zh-tw" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../resources/localizationf854.html?hl=zh-tw" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../resources/icu4j-frameworkf854.html?hl=zh-tw" >ICU4J Android Framework APIs</a></li><li><a href="../../resources/multilingual-supportf854.html?hl=zh-tw" >Language and Locale</a></li></ul></li><li><a href="../../resources/complex-xml-resourcesf854.html?hl=zh-tw" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../resources/available-resourcesf854.html?hl=zh-tw" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../resources/animation-resourcef854.html?hl=zh-tw" >Animation</a></li><li><a href="../../resources/color-list-resourcef854.html?hl=zh-tw" >Color State List</a></li><li><a href="../../resources/drawable-resourcef854.html?hl=zh-tw" >Drawable</a></li><li><a href="../../resources/layout-resourcef854.html?hl=zh-tw" >Layout</a></li><li><a href="../../resources/menu-resourcef854.html?hl=zh-tw" >Menu</a></li><li><a href="../../resources/string-resourcef854.html?hl=zh-tw" >String</a></li><li><a href="../../resources/style-resourcef854.html?hl=zh-tw" >Style</a></li><li><a href="../../resources/more-resourcesf854.html?hl=zh-tw" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../manifest/manifest-introf854.html?hl=zh-tw" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../manifest/action-elementf854.html?hl=zh-tw" >&lt;action&gt;</a></li><li><a href="../../manifest/activity-elementf854.html?hl=zh-tw" >&lt;activity&gt;</a></li><li><a href="../../manifest/activity-alias-elementf854.html?hl=zh-tw" >&lt;activity-alias&gt;</a></li><li><a href="../../manifest/application-elementf854.html?hl=zh-tw" >&lt;application&gt;</a></li><li><a href="../../manifest/category-elementf854.html?hl=zh-tw" >&lt;category&gt;</a></li><li><a href="../../manifest/compatible-screens-elementf854.html?hl=zh-tw" >&lt;compatible-screens&gt;</a></li><li><a href="../../manifest/data-elementf854.html?hl=zh-tw" >&lt;data&gt;</a></li><li><a href="../../manifest/grant-uri-permission-elementf854.html?hl=zh-tw" >&lt;grant-uri-permission&gt;</a></li><li><a href="../../manifest/instrumentation-elementf854.html?hl=zh-tw" >&lt;instrumentation&gt;</a></li><li><a href="../../manifest/intent-filter-elementf854.html?hl=zh-tw" >&lt;intent-filter&gt;</a></li><li><a href="../../manifest/manifest-elementf854.html?hl=zh-tw" >&lt;manifest&gt;</a></li><li><a href="../../manifest/meta-data-elementf854.html?hl=zh-tw" >&lt;meta-data&gt;</a></li><li><a href="../../manifest/path-permission-elementf854.html?hl=zh-tw" >&lt;path-permission&gt;</a></li><li><a href="../../manifest/permission-elementf854.html?hl=zh-tw" >&lt;permission&gt;</a></li><li><a href="../../manifest/permission-group-elementf854.html?hl=zh-tw" >&lt;permission-group&gt;</a></li><li><a href="../../manifest/permission-tree-elementf854.html?hl=zh-tw" >&lt;permission-tree&gt;</a></li><li><a href="../../manifest/provider-elementf854.html?hl=zh-tw" >&lt;provider&gt;</a></li><li><a href="../../manifest/receiver-elementf854.html?hl=zh-tw" >&lt;receiver&gt;</a></li><li><a href="../../manifest/service-elementf854.html?hl=zh-tw" >&lt;service&gt;</a></li><li><a href="../../manifest/supports-gl-texture-elementf854.html?hl=zh-tw" >&lt;supports-gl-texture&gt;</a></li><li><a href="../../manifest/supports-screens-elementf854.html?hl=zh-tw" >&lt;supports-screens&gt;</a></li><li><a href="../../manifest/uses-configuration-elementf854.html?hl=zh-tw" >&lt;uses-configuration&gt;</a></li><li><a href="../../manifest/uses-feature-elementf854.html?hl=zh-tw" >&lt;uses-feature&gt;</a></li><li><a href="../../manifest/uses-library-elementf854.html?hl=zh-tw" >&lt;uses-library&gt;</a></li><li><a href="../../manifest/uses-permission-elementf854.html?hl=zh-tw" >&lt;uses-permission&gt;</a></li><li><a href="../../manifest/uses-permission-sdk-23-elementf854.html?hl=zh-tw" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../../manifest/uses-sdk-elementf854.html?hl=zh-tw" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../ui/indexf854.html?hl=zh-tw" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../ui/overviewf854.html?hl=zh-tw" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../ui/declaring-layoutf854.html?hl=zh-tw" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../ui/layout/linearf854.html?hl=zh-tw" >Linear Layout</a></li><li><a href="../../ui/layout/relativef854.html?hl=zh-tw" >Relative Layout</a></li><li><a href="../../ui/layout/recyclerviewf854.html?hl=zh-tw" >Recycler View</a></li><li><a href="../../ui/layout/listviewf854.html?hl=zh-tw" >List View</a></li><li><a href="../../ui/layout/gridviewf854.html?hl=zh-tw" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../ui/controlsf854.html?hl=zh-tw" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../ui/controls/buttonf854.html?hl=zh-tw" >Buttons</a></li><li><a href="../../ui/controls/checkboxf854.html?hl=zh-tw" >Checkboxes</a></li><li><a href="../../ui/controls/radiobuttonf854.html?hl=zh-tw" >Radio Buttons</a></li><li><a href="../../ui/controls/togglebuttonf854.html?hl=zh-tw" >Toggle Buttons</a></li><li><a href="../../ui/controls/spinnerf854.html?hl=zh-tw" >Spinners</a></li><li><a href="../../ui/controls/pickersf854.html?hl=zh-tw" >Pickers</a></li></ul></li><li><a href="../../ui/ui-eventsf854.html?hl=zh-tw" >Input Events</a></li><li><a href="../../ui/menusf854.html?hl=zh-tw" >Menus</a></li><li><a href="../../ui/settingsf854.html?hl=zh-tw" >Settings</a></li><li><a href="../../ui/dialogsf854.html?hl=zh-tw" >Dialogs</a></li><li><a href="../../ui/notifiers/notificationsf854.html?hl=zh-tw" >Notifications</a></li><li><a href="../../ui/notifiers/toastsf854.html?hl=zh-tw" >Toasts</a></li><li><a href="../../ui/shortcutsf854.html?hl=zh-tw" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../search/indexf854.html?hl=zh-tw" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../search/search-dialogf854.html?hl=zh-tw" >Creating a Search Interface</a></li><li><a href="../../search/adding-recent-query-suggestionsf854.html?hl=zh-tw" >Adding Recent Query Suggestions</a></li><li><a href="../../search/adding-custom-suggestionsf854.html?hl=zh-tw" >Adding Custom Suggestions</a></li><li><a href="../../search/searchable-configf854.html?hl=zh-tw" >Searchable Configuration</a></li></ul></li><li><a href="../../ui/multi-windowf854.html?hl=zh-tw" >Multi-Window Support</a></li><li><a href="../../ui/drag-dropf854.html?hl=zh-tw" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../ui/accessibility/indexf854.html?hl=zh-tw" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../ui/accessibility/appsf854.html?hl=zh-tw" >Making Apps More Accessible</a></li><li><a href="../../ui/accessibility/checklistf854.html?hl=zh-tw" >Accessibility Developer Checklist</a></li><li><a href="../../ui/accessibility/node-tree-debuggingf854.html?hl=zh-tw" >Using Node Tree Debugging</a></li><li><a href="../../ui/accessibility/servicesf854.html?hl=zh-tw" >Building Accessibility Services</a></li><li><a href="../../ui/accessibility/custom-viewsf854.html?hl=zh-tw" >Building Accessible Custom Views</a></li></ul></li><li><a href="../../ui/themesf854.html?hl=zh-tw" >Styles and Themes</a></li><li><a href="../../ui/custom-componentsf854.html?hl=zh-tw" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../graphics/indexf854.html?hl=zh-tw" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../graphics/overviewf854.html?hl=zh-tw" >Overview</a></li><li><a href="../../graphics/prop-animationf854.html?hl=zh-tw" >Property Animation</a></li><li><a href="../../graphics/view-animationf854.html?hl=zh-tw" >View Animation</a></li><li><a href="../../graphics/drawable-animationf854.html?hl=zh-tw" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../graphics/2d-graphicsf854.html?hl=zh-tw" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../graphics/vector-drawable-resourcesf854.html?hl=zh-tw" >Vector Drawable</a></li></ul></li><li><a href="../../graphics/openglf854.html?hl=zh-tw" >OpenGL ES</a></li><li><a href="../../graphics/hardware-accelf854.html?hl=zh-tw" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../renderscript/indexf854.html?hl=zh-tw" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../renderscript/computef854.html?hl=zh-tw" >RenderScript</a></li><li><a href="../../renderscript/advancedf854.html?hl=zh-tw" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../renderscript/reference/overviewf854.html?hl=zh-tw" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../renderscript/reference/rs_value_typesf854.html?hl=zh-tw" >Numerical Types</a></li><li><a href="../../renderscript/reference/rs_object_typesf854.html?hl=zh-tw" >Object Types</a></li><li><a href="../../renderscript/reference/rs_convertf854.html?hl=zh-tw" >Conversion Functions</a></li><li><a href="../../renderscript/reference/rs_mathf854.html?hl=zh-tw" >Mathematical Constants and Functions</a></li><li><a href="../../renderscript/reference/rs_vector_mathf854.html?hl=zh-tw" >Vector Math Functions</a></li><li><a href="../../renderscript/reference/rs_matrixf854.html?hl=zh-tw" >Matrix Functions</a></li><li><a href="../../renderscript/reference/rs_quaternionf854.html?hl=zh-tw" >Quaternion Functions</a></li><li><a href="../../renderscript/reference/rs_atomicf854.html?hl=zh-tw" >Atomic Update Functions</a></li><li><a href="../../renderscript/reference/rs_timef854.html?hl=zh-tw" >Time Functions and Types</a></li><li><a href="../../renderscript/reference/rs_allocation_dataf854.html?hl=zh-tw" >Allocation Data Access Functions</a></li><li><a href="../../renderscript/reference/rs_object_infof854.html?hl=zh-tw" >Object Characteristics Functions</a></li><li><a href="../../renderscript/reference/rs_for_eachf854.html?hl=zh-tw" >Kernel Invocation Functions and Types</a></li><li><a href="../../renderscript/reference/rs_iof854.html?hl=zh-tw" >Input/Output Functions</a></li><li><a href="../../renderscript/reference/rs_debugf854.html?hl=zh-tw" >Debugging Functions</a></li><li><a href="../../renderscript/reference/rs_graphicsf854.html?hl=zh-tw" >Graphics Functions and Types</a></li><li><a href="../../renderscript/reference/indexf854.html?hl=zh-tw" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../media-apps/indexf854.html?hl=zh-tw" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../media-apps/media-apps-overviewf854.html?hl=zh-tw" >Media Apps Overview</a></li><li><a href="../../media-apps/working-with-a-media-sessionf854.html?hl=zh-tw" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../media-apps/audio-app/building-an-audio-appf854.html?hl=zh-tw" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../media-apps/audio-app/building-a-mediabrowserservicef854.html?hl=zh-tw" >Building a Media Browser Service</a></li><li><a href="../../media-apps/audio-app/building-a-mediabrowser-clientf854.html?hl=zh-tw" >Building a Media Browser Client</a></li><li><a href="../../media-apps/audio-app/mediasession-callbacksf854.html?hl=zh-tw" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../media-apps/video-app/building-a-video-appf854.html?hl=zh-tw" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../media-apps/video-app/building-a-video-player-activityf854.html?hl=zh-tw" >Building a Video Player Activity</a></li><li><a href="../../media-apps/video-app/mediasession-callbacksf854.html?hl=zh-tw" >Media Session Callbacks</a></li></ul></li><li><a href="../../media-apps/mediabuttonsf854.html?hl=zh-tw" >Responding to Media Buttons</a></li><li><a href="../../media-apps/volume-and-earphonesf854.html?hl=zh-tw" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../media/indexf854.html?hl=zh-tw" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../media/media-formatsf854.html?hl=zh-tw" >Supported Media Formats</a></li><li><a href="../../media/mediaplayerf854.html?hl=zh-tw" >MediaPlayer</a></li><li><a href="../../media/mediarecorderf854.html?hl=zh-tw" >MediaRecorder</a></li><li><a href="../../media/exoplayerf854.html?hl=zh-tw" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../media/media-routingf854.html?hl=zh-tw" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../media/mediarouterf854.html?hl=zh-tw" >MediaRouter API</a></li><li><a href="../../media/mediarouteproviderf854.html?hl=zh-tw" >MediaRouteProvider API</a></li></ul></li><li><a href="../../media/cameraf854.html?hl=zh-tw" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../sensors/indexf854.html?hl=zh-tw" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../location/indexf854.html?hl=zh-tw" >Location and Maps</a></li><li><a href="../../location/strategiesf854.html?hl=zh-tw" >Location Strategies</a></li><li><a href="../../sensors/sensors_overviewf854.html?hl=zh-tw" >Sensors Overview</a></li><li><a href="../../sensors/sensors_motionf854.html?hl=zh-tw" >Motion Sensors</a></li><li><a href="../../sensors/sensors_positionf854.html?hl=zh-tw" >Position Sensors</a></li><li><a href="../../sensors/sensors_environmentf854.html?hl=zh-tw" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../indexf854.html?hl=zh-tw" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../bluetoothf854.html?hl=zh-tw" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../bluetooth-lef854.html?hl=zh-tw" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="indexf854.html?hl=zh-tw" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="nfcf854.html?hl=zh-tw" >NFC Basics</a></li><li><a href="advanced-nfcf854.html?hl=zh-tw" >Advanced NFC</a></li><li><a href="hcef854.html?hl=zh-tw" >Host-based Card Emulation</a></li></ul></li><li><a href="../wifip2pf854.html?hl=zh-tw" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../usb/indexf854.html?hl=zh-tw" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../usb/accessoryf854.html?hl=zh-tw" >Accessory</a></li><li><a href="../usb/hostf854.html?hl=zh-tw" >Host</a></li></ul></li><li><a href="../sipf854.html?hl=zh-tw" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../text/indexf854.html?hl=zh-tw" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../text/copy-pastef854.html?hl=zh-tw" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../text/creating-input-methodf854.html?hl=zh-tw" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../text/image-keyboardf854.html?hl=zh-tw" >Image Keyboard</a></li></ul></li><li><a href="../../text/spell-checker-frameworkf854.html?hl=zh-tw" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../data/indexf854.html?hl=zh-tw" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../data/data-storagef854.html?hl=zh-tw" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../data/backupf854.html?hl=zh-tw" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../data/autobackupf854.html?hl=zh-tw" >Auto Backup</a></li><li><a href="../../data/keyvaluebackupf854.html?hl=zh-tw" >Key/Value Backup</a></li><li><a href="../../data/testingbackupf854.html?hl=zh-tw" >Testing Backup and Restore</a></li></ul></li><li><a href="../../data/install-locationf854.html?hl=zh-tw" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../admin/indexf854.html?hl=zh-tw" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../admin/device-adminf854.html?hl=zh-tw" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../../webapps/indexf854.html?hl=zh-tw" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../webapps/targetingf854.html?hl=zh-tw" >Supporting Different Screens in Web Apps</a></li><li><a href="../../../webapps/webviewf854.html?hl=zh-tw" >Building Web Apps in WebView</a></li><li><a href="../../../webapps/migratingf854.html?hl=zh-tw" >Migrating to WebView in Android 4.4</a></li><li><a href="../../../webapps/debuggingf854.html?hl=zh-tw" >Debugging Web Apps</a></li><li><a href="../../../webapps/best-practicesf854.html?hl=zh-tw" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../../practices/indexf854.html?hl=zh-tw"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../../practices/screens_supportf854.html?hl=zh-tw" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../../practices/screens-distributionf854.html?hl=zh-tw" >Distributing to Specific Screens</a></li><li><a href="../../../practices/screen-compat-modef854.html?hl=zh-tw" >Screen Compatibility Mode</a></li></ul></li><li><a href="../../../practices/app-design/seamlessnessf854.html?hl=zh-tw" >Designing for Seamlessness</a></li><li><a href="../../../practices/tablets-and-handsetsf854.html?hl=zh-tw" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=zh-tw">首頁</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=zh-tw">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=zh-tw">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=zh-tw">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=zh-tw">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=zh-tw">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=zh-tw"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=zh-tw"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=zh-tw"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">訓練</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../../../indexf854.html?hl=zh-tw"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=zh-tw"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">參考資料</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=zh-tw">範例</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=zh-tw"
           >程式庫</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=zh-tw"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=zh-tw"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=zh-tw">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=zh-tw">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=zh-tw">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=zh-tw"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=zh-tw">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=zh-tw">Play 管理中心</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=zh-tw"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=zh-tw"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=zh-tw">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=zh-tw">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">NFC Basics</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">
  <h2>In this document</h2>
  <ol>
    <li><a href="#tag-dispatch">The Tag Dispatch System</a>
      <ol>
        <li><a href="#ndef">How NFC tags are mapped to MIME types and URIs</a></li>
        <li><a href="#dispatching">How NFC Tags are Dispatched to Applications</a></li>
      </ol>
    </li>
    <li><a href="#manifest">Requesting NFC Access in the Android Manifest</a></li>
    <li><a href="#filtering-intents">Filtering for Intents</a>
      <ol>
        <li><a href="#ndef-disc">ACTION_NDEF_DISCOVERED</a></li>
        <li><a href="#tech-disc">ACTION_TECH_DISCOVERED</a></li>
        <li><a href="#tag-disc">ACTION_TAG_DISCOVERED</a></li>
        <li><a href="#obtain-info">Obtaining information from intents</a></li>
      </ol>
    </li>
    <li><a href="#creating-records">Creating Common Types of NDEF Records</a>
      <ol>
        <li><a href="#abs-uri">TNF_ABSOLUTE_URI</a></li>
        <li><a href="#mime">TNF_MIME_MEDIA</a></li>
        <li><a href="#well-known-text">TNF_WELL_KNOWN with RTD_TEXT</a></li>
        <li><a href="#well-known-uri">TNF_WELL_KNOWN with RTD_URI</a></li>
        <li><a href="#ext-type">TNF_EXTERNAL_TYPE</a></li>
        <li><a href="#aar">Android Application Records</a></li>
      </ol>
    </li>
    <li><a href="#p2p">Beaming NDEF Messages to Other Devices</a></li>
  </ol>
</div>
</div>

<p>This document describes the basic NFC tasks you perform in Android. It explains how to send and
receive NFC data in the form of NDEF messages and describes the Android framework APIs that support
these features. For more advanced topics, including a discussion of working with non-NDEF data,
see <a href="advanced-nfcf854.html?hl=zh-tw">Advanced NFC</a>.</p>


<p>There are two major uses cases when working with NDEF data and Android:</p>

<ul>
  <li>Reading NDEF data from an NFC tag</li>
  <li>Beaming NDEF messages from one device to another with <a href="#p2p">Android
Beam&trade;</a></li>
</ul>


<p>Reading NDEF data from an NFC tag is handled with the <a href="#tag-dispatch">tag dispatch
system</a>, which analyzes discovered NFC tags, appropriately categorizes the data, and starts
an application that is interested in the categorized data. An application that wants to handle the
scanned NFC tag can <a href="#filtering-intents">declare an intent filter</a> and
request to handle the data.</p>

<p>The Android Beam&trade; feature allows a device to push an NDEF message onto
another device by physically tapping the devices together. This interaction provides an easier way
to send data than other wireless technologies like Bluetooth, because with NFC, no manual device
discovery or pairing is required. The connection is automatically started when two devices come
into range. Android Beam is available through a set of NFC APIs, so any application can transmit
information between devices. For example, the Contacts, Browser, and YouTube applications use
Android Beam to share contacts, web pages, and videos with other devices.
</p>


<h2 id="tag-dispatch">The Tag Dispatch System</h2>

<p>Android-powered devices are usually looking for NFC tags when the screen
is unlocked, unless NFC is disabled in the device's Settings menu.
When an Android-powered device discovers an NFC tag, the desired behavior
is to have the most appropriate activity handle the intent without asking the user what application
to use. Because devices scan NFC tags at a very short range, it is likely that making users manually
select an activity would force them to move the device away from the tag and break the connection.
You should develop your activity to only handle the NFC tags that your activity cares about to
prevent the Activity Chooser from appearing.</p>

<p>To help you with this goal, Android provides a special tag dispatch system that analyzes scanned
NFC tags, parses them, and tries to locate applications that are interested in the scanned data. It
does this by:</p>

<ol>
  <li>Parsing the NFC tag and figuring out the MIME type or a URI that identifies the data payload
  in the tag.</li>
  <li>Encapsulating the MIME type or URI and the payload into an intent. These first two
  steps are described in <a href="#ndef">How NFC tags are mapped to MIME types and URIs</a>.</li>
  <li>Starts an activity based on the intent. This is described in
  <a href="#dispatching">How NFC Tags are Dispatched to Applications</a>.</li>
</ol>

<h3 id="ndef">How NFC tags are mapped to MIME types and URIs</h3>
<p>Before you begin writing your NFC applications, it is important to understand the different
types of NFC tags, how the tag dispatch system parses NFC tags, and the special work that the tag
dispatch system does when it detects an NDEF message. NFC tags come in a
wide array of technologies and can also have data written to them in many different ways.
Android has the most support for the NDEF standard, which is defined by the <a
href="http://www.nfc-forum.org/home">NFC Forum</a>.
</p>

<p>NDEF data is encapsulated inside a message (<code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code>) that contains one
or more records (<code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code>). Each NDEF record must be well-formed according to
the specification of the type of record that you want to create. Android
also supports other types of tags that do not contain NDEF data, which you can work with by using
the classes in the <code><a href="https://developer.android.com/reference/android/nfc/tech/package-summary.html?hl=zh-tw">android.nfc.tech</a></code> package. To learn more
about these technologies, see the <a href="advanced-nfcf854.html?hl=zh-tw">Advanced NFC</a> topic. Working with these other types of tags involves
writing your own protocol stack to communicate with the tags, so we recommend using NDEF when
possible for ease of development and maximum support for Android-powered devices.
</p>

<p class="note"><strong>Note:</strong>
To download complete NDEF specifications, go to the <a
href="http://www.nfc-forum.org/specs/spec_license">NFC Forum Specification Download</a> site and see
<a href="#creating-records">Creating common types of NDEF records</a> for examples of how to
construct NDEF records. </p>

<p>Now that you have some background in NFC tags, the following sections describe in more detail how
Android handles NDEF formatted tags. When an Android-powered device scans an NFC tag containing NDEF
formatted data, it parses the message and tries to figure out the data's MIME type or identifying
URI. To do this, the system reads the first <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code> inside the <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code> to determine how to interpret the entire NDEF message (an NDEF message can
have multiple NDEF records). In a well-formed NDEF message, the first <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code>
contains the following fields:
<dl>
  <dt><strong>3-bit TNF (Type Name Format)</strong></dt>
  <dd>Indicates how to interpret the variable length type field. Valid values are described in
described in <a href="#table1">Table 1</a>.</dd>

  <dt><strong>Variable length type</strong></dt>
  <dd>Describes the type of the record. If using <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_WELL_KNOWN">TNF_WELL_KNOWN</a></code>, use
this field to specify the Record Type Definition (RTD). Valid RTD values are described in <a
href="#table2">Table 2</a>.</dd>

<dt><strong>Variable length ID</strong></dt>
<dd>A unique identifier for the record. This field is not used often, but
if you need to uniquely identify a tag, you can create an ID for it.</dd>

<dt><strong>Variable length payload</strong></dt>
<dd>The actual data payload that you want to read or write. An NDEF
message can contain multiple NDEF records, so don't assume the full payload is in the first NDEF
record of the NDEF message.</dd>

</dl>

<p>The tag dispatch system uses the TNF and type fields to try to map a MIME type or URI to the
NDEF message. If successful, it encapsulates that information inside of a <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intent along with the actual payload. However, there
are cases when the tag dispatch system cannot determine the type of data based on the first NDEF
record. This happens when the NDEF data cannot be mapped to a MIME type or URI, or when the
NFC tag does not contain NDEF data to begin with. In such cases, a <code><a href="https://developer.android.com/reference/android/nfc/Tag.html?hl=zh-tw">Tag</a></code> object that has information about the tag's technologies and the payload are
encapsulated inside of a <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> intent instead.</p>

<p>
<a href="#table1">Table 1</a> describes how the tag dispatch system maps TNF and type
fields to MIME types or URIs. It also describes which TNFs cannot be mapped to a MIME type or URI.
In these cases, the tag dispatch system falls back to
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.

<p>For example, if the tag dispatch system encounters a record of type <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_ABSOLUTE_URI">TNF_ABSOLUTE_URI</a></code>, it maps the variable length type field of that record
into a URI. The tag dispatch system encapsulates that URI in the data field of an <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intent along with other information about the tag,
such as the payload. On the other hand, if it encounters a record of type <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_UNKNOWN">TNF_UNKNOWN</a></code>, it creates an intent that encapsulates the tag's technologies
instead.</p>


<p class="table-caption" id="table1">
  <strong>Table 1.</strong> Supported TNFs and their mappings</p>
<table id="mappings">
  <tr>
    <th>Type Name Format (TNF)</th>
    <th>Mapping</th>
  </tr>
  <tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_ABSOLUTE_URI">TNF_ABSOLUTE_URI</a></code></td>
    <td>URI based on the type field.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_EMPTY">TNF_EMPTY</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_EXTERNAL_TYPE">TNF_EXTERNAL_TYPE</a></code></td>
    <td>URI based on the URN in the type field. The URN is encoded into the NDEF type field in
        a shortened form: <code><em>&lt;domain_name&gt;:&lt;service_name&gt;</em></code>.
        Android maps this to a URI in the form:
        <code>vnd.android.nfc://ext/<em>&lt;domain_name&gt;:&lt;service_name&gt;</em></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_MIME_MEDIA">TNF_MIME_MEDIA</a></code></td>
    <td>MIME type based on the type field.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_UNCHANGED">TNF_UNCHANGED</a></code></td>
    <td>Invalid in the first record, so falls back to
        <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_UNKNOWN">TNF_UNKNOWN</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_WELL_KNOWN">TNF_WELL_KNOWN</a></code></td>
    <td>MIME type or URI depending on the Record Type Definition (RTD), which you set in the
type field. See <a  href="#well_known">Table 2</a> for more information on
available RTDs and their mappings.</td>
  </tr>
</table>

<p class="table-caption" id="table2">
  <strong>Table 2.</strong> Supported RTDs for TNF_WELL_KNOWN and their
mappings</p>
<table id="well-known">
  <tr>
    <th>Record Type Definition (RTD)</th>
    <th>Mapping</th>
  </tr>
  <tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_ALTERNATIVE_CARRIER">RTD_ALTERNATIVE_CARRIER</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_HANDOVER_CARRIER">RTD_HANDOVER_CARRIER</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_HANDOVER_REQUEST">RTD_HANDOVER_REQUEST</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_HANDOVER_SELECT">RTD_HANDOVER_SELECT</a></code></td>
    <td>Falls back to <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_SMART_POSTER">RTD_SMART_POSTER</a></code></td>
    <td>URI based on parsing the payload.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_TEXT">RTD_TEXT</a></code></td>
    <td>MIME type of <code>text/plain</code>.</td>
  </tr>
    <td><code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#RTD_URI">RTD_URI</a></code></td>
    <td>URI based on payload.</td>
  </tr>
</table>

<h3 id="dispatching">How NFC Tags are Dispatched to Applications</h3>

<p>When the tag dispatch system is done creating an intent that encapsulates the NFC tag and its
identifying information, it sends the intent to an interested application that
filters for the intent. If more than one application can handle the intent, the Activity Chooser
is presented so the user can select the Activity. The tag dispatch system defines three intents,
which are listed in order of highest to lowest priority:</p>

<ol>
  <li>
      <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code>: This intent is used to start an
Activity when a tag that contains an NDEF payload is scanned and is of a recognized type. This is
the highest priority intent, and the tag dispatch system tries to start an Activity with this
intent before any other intent, whenever possible.
  </li>

    <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>: If no activities register to
handle the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code>
intent, the tag dispatch system tries to start an application with this intent. This
intent is also directly started (without starting <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> first) if the tag that is scanned
contains NDEF data that cannot be mapped to a MIME type or URI, or if the tag does not contain NDEF
data but is of a known tag technology.
</li>

    <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code>: This intent is started
    if no activities handle the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> or <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>
    intents.</li>
  </ol>

<p>The basic way the tag dispatch system works is as follows:</p>

<ol>
  <li>Try to start an Activity with the intent that was created by the tag dispatch system
when parsing the NFC tag (either
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> or <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code>).</li>
  <li>If no activities filter for that intent, try to start an Activity with the next
  lowest priority intent (either <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> or <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code>) until an application filters for the
  intent or until the tag dispatch system tries all possible intents.</li>
  <li>If no applications filter for any of the intents, do nothing.</li>
</ol>

<figure id="nfc-tag-dispatch">
  <img src="../../../../images/nfc_tag_dispatchf854.png?hl=zh-tw" />
  <figcaption><strong>Figure 1. </strong> Tag Dispatch System</figcaption>
</figure>

<p>Whenever possible, work with NDEF messages and the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intent, because it is the most specific out of
the three. This intent allows you to start your application at a more appropriate time than the
other two intents, giving the user a better experience.</p>

<h2 id="manifest">Requesting NFC Access in the Android Manifest</h2>

  <p>Before you can access a device's NFC hardware and properly handle NFC intents, declare these
  items in your <code>AndroidManifest.xml</code> file:</p>

  <ul>
    <li>The NFC <code>&lt;uses-permission&gt;</code> element to access the NFC hardware:
      <pre>
&lt;uses-permission android:name="android.permission.NFC" /&gt;
</pre>
    </li>

    <li>The minimum SDK version that your application can support. API level 9 only supports
    limited tag dispatch via <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code>, and only gives
    access to NDEF messages via the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#EXTRA_NDEF_MESSAGES">EXTRA_NDEF_MESSAGES</a></code> extra. No
    other tag properties or I/O operations are accessible. API level 10
    includes comprehensive reader/writer support as well as foreground NDEF pushing, and API level
    14 provides an easier way to push NDEF messages to other devices with Android Beam and extra
    convenience methods to create NDEF records.
<pre class="pretty-print">
&lt;uses-sdk android:minSdkVersion="10"/&gt;
</pre>
    </li>

    <li>The <code>uses-feature</code> element so that your application shows up in Google Play
    only for devices that have NFC hardware:
      <pre>
&lt;uses-feature android:name="android.hardware.nfc" android:required="true" /&gt;
</pre>
<p>If your application uses NFC functionality, but that functionality is not crucial to your
application, you can omit the <code>uses-feature</code> element and check for NFC avalailbility at
runtime by checking to see if <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#getDefaultAdapter(android.content.Context)">getDefaultAdapter()</a></code>
is <code>null</code>.</p>
    </li>
  </ul>

  <h2 id="filtering-intents">Filtering for NFC Intents</h2>

  <p>To start your application when an NFC tag that you want to handle is scanned, your application
can filter for one, two, or all three of the NFC intents in the Android manifest. However, you
usually want to filter for the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intent for the
most control of when your application starts. The <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> intent is a fallback for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> when no applications filter for
 <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> or for when the payload is not
NDEF. Filtering for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code> is usually too general of a
category to filter on.  Many applications will filter for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> or <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> before <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code>, so your application has a low probability of
starting. <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code> is only available as a last resort
for applications to filter for in the cases where no other applications are installed to handle the
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> or <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> intent.</p>

<p>Because NFC tag deployments vary and are many times not under your control, this is not always
possible, which is why you can fallback to the other two intents when necessary. When you have
control over the types of tags and data written, it is recommended that you use NDEF to format your
tags. The following sections describe how to filter for each type of intent.</p>


<h3 id="ndef-disc">ACTION_NDEF_DISCOVERED</h3>
<p>
To filter for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intents, declare the
intent filter along with the type of data that you want to filter for. The
following example filters for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code>
intents with a MIME type of <code>text/plain</code>:
</p>
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED"/&gt;
    &lt;category android:name="android.intent.category.DEFAULT"/&gt;
    &lt;data android:mimeType="text/plain" /&gt;
&lt;/intent-filter&gt;
</pre>
<p>The following example filters for a URI in the form of
<code>http://developer.android.com/index.html</code>.
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED"/&gt;
    &lt;category android:name="android.intent.category.DEFAULT"/&gt;
   &lt;data android:scheme="http"
              android:host="developer.android.com"
              android:pathPrefix="/index.html" />
&lt;/intent-filter&gt;
</pre>


  <h3 id="tech-disc">ACTION_TECH_DISCOVERED</h3>

  <p>If your activity filters for the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> intent,
you must create an XML resource file that specifies the technologies that your activity supports
within a <code>tech-list</code> set. Your activity is
  considered a match if a <code>tech-list</code> set is a subset of the technologies that are
  supported by the tag, which you can obtain by calling <code><a href="https://developer.android.com/reference/android/nfc/Tag.html?hl=zh-tw#getTechList()">getTechList()</a></code>.</p>

  <p>For example, if the tag that is scanned supports MifareClassic, NdefFormatable, and NfcA, your
  <code>tech-list</code> set must specify all three, two, or one of the technologies (and nothing
  else) in order for your activity to be matched.</p>

  <p>The following sample defines all of the technologies. You can remove the ones that you do not
  need. Save this file (you can name it anything you wish) in the
  <code>&lt;project-root&gt;/res/xml</code> folder.</p>
  <pre>
&lt;resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2"&gt;
    &lt;tech-list&gt;
        &lt;tech&gt;android.nfc.tech.IsoDep&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.NfcA&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.NfcB&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.NfcF&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.NfcV&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.NdefFormatable&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.MifareClassic&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.MifareUltralight&lt;/tech&gt;
    &lt;/tech-list&gt;
&lt;/resources&gt;
</pre>

  <p>You can also specify multiple <code>tech-list</code> sets. Each of the <code>tech-list</code>
  sets is considered independently, and your activity is considered a match if any single
  <code>tech-list</code> set is a subset of the technologies that are returned by <code><a href="https://developer.android.com/reference/android/nfc/Tag.html?hl=zh-tw#getTechList()">getTechList()</a></code>. This provides <code>AND</code> and <code>OR</code>
  semantics for matching technologies. The following example matches tags that can support the
  NfcA and Ndef technologies or can support the NfcB and Ndef technologies:</p>
  <pre>
&lt;resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2"&gt;
    &lt;tech-list&gt;
        &lt;tech&gt;android.nfc.tech.NfcA&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;
    &lt;/tech-list&gt;
&lt;/resources&gt;

&lt;resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2"&gt;
    &lt;tech-list&gt;
        &lt;tech&gt;android.nfc.tech.NfcB&lt;/tech&gt;
        &lt;tech&gt;android.nfc.tech.Ndef&lt;/tech&gt;
    &lt;/tech-list&gt;
&lt;/resources&gt;
</pre>

  <p>In your <code>AndroidManifest.xml</code> file, specify the resource file that you just created
  in the <code>&lt;meta-data&gt;</code> element inside the <code>&lt;activity&gt;</code>
  element like in the following example:</p>
  <pre>
&lt;activity&gt;
...
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.TECH_DISCOVERED"/&gt;
&lt;/intent-filter&gt;

&lt;meta-data android:name="android.nfc.action.TECH_DISCOVERED"
    android:resource="@xml/nfc_tech_filter" /&gt;
...
&lt;/activity&gt;
</pre>

<p>For more information about working with tag technologies and the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TECH_DISCOVERED">ACTION_TECH_DISCOVERED</a></code> intent, see <a
href="advanced-nfcf854.html?hl=zh-tw#tag-tech">Working with Supported Tag
Technologies</a> in the Advanced NFC document.</p>
<h3 id="tag-disc">ACTION_TAG_DISCOVERED</h3>
<p>To filter for <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_TAG_DISCOVERED">ACTION_TAG_DISCOVERED</a></code> use the following intent
filter:</p>


<pre>&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.TAG_DISCOVERED"/&gt;
&lt;/intent-filter&gt;
</pre>



<h3 id="obtain-info">Obtaining information from intents</h3>

<p>If an activity starts because of an NFC intent, you can obtain information about the scanned NFC
tag from the intent. Intents can contain the following extras depending on the tag that was scanned:

<ul>
  <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#EXTRA_TAG">EXTRA_TAG</a></code> (required): A <code><a href="https://developer.android.com/reference/android/nfc/Tag.html?hl=zh-tw">Tag</a></code> object
representing the scanned tag.</li>
  <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#EXTRA_NDEF_MESSAGES">EXTRA_NDEF_MESSAGES</a></code> (optional): An array of NDEF messages
parsed from the tag. This extra is mandatory on
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code> intents.</li>
  <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#EXTRA_ID">EXTRA_ID</a></code> (optional): The low-level ID of the tag.</li></ul>

<p>To obtain these extras, check to see if your activity was launched with one of
the NFC intents to ensure that a tag was scanned, and then obtain the extras out of the
intent. The following example checks for the <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#ACTION_NDEF_DISCOVERED">ACTION_NDEF_DISCOVERED</a></code>
intent and gets the NDEF messages from an intent extra.</p>

<pre>
&#64;Override
protected void onNewIntent(Intent intent) {
    super.onNewIntent(intent);
    ...
    if (intent != null &amp;&amp; NfcAdapter.ACTION_NDEF_DISCOVERED.equals(intent.getAction())) {
        Parcelable[] rawMessages =
            intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);
        if (rawMessages != null) {
            NdefMessage[] messages = new NdefMessage[rawMessages.length];
            for (int i = 0; i < rawMessages.length; i++) {
                messages[i] = (NdefMessage) rawMessages[i];
            }
            // Process the messages array.
            ...
        }
    }
}
</pre>

<p>Alternatively, you can obtain a <code><a href="https://developer.android.com/reference/android/nfc/Tag.html?hl=zh-tw">Tag</a></code> object from the intent, which will
contain the payload and allow you to enumerate the tag's technologies:</p>

<pre>Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);</pre>


<h2 id="creating-records">Creating Common Types of NDEF Records</h2>
<p>This section describes how to create common types of NDEF records to help you when writing to
NFC tags or sending data with Android Beam. Starting with Android 4.0 (API level 14), the
<code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createUri(android.net.Uri)">createUri()</a></code> method is available to help you create
URI records automatically. Starting in Android 4.1 (API level 16),
<code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createExternal(java.lang.String, java.lang.String, byte[])">createExternal()</a></code>
and <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createMime(java.lang.String, byte[])">createMime()</a></code> are available to help you create
MIME and external type NDEF records. Use these helper methods whenever possible to avoid mistakes
when manually creating NDEF records.</p>

<p>
This section also describes how to create the corresponding
intent filter for the record. All of these NDEF record examples should be in the first NDEF
record of the NDEF message that you are writing to a tag or beaming.</p>

<h3 id="abs-uri">TNF_ABSOLUTE_URI</h3>
<p class="note"><strong>Note:</strong> We recommend that you use the
  <a href="#well-known-uri"><code>RTD_URI</code></a> type instead
  of <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_ABSOLUTE_URI">TNF_ABSOLUTE_URI</a></code>, because it is more efficient.</p>

<p>You can create a <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_ABSOLUTE_URI">TNF_ABSOLUTE_URI</a></code> NDEF record in the following way
:</p>

<pre>
NdefRecord uriRecord = new NdefRecord(
    NdefRecord.TNF_ABSOLUTE_URI ,
    "http://developer.android.com/index.html".getBytes(Charset.forName("US-ASCII")),
    new byte[0], new byte[0]);
</pre>

<p>The intent filter for the previous NDEF record would look like this:</p>
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED" /&gt;
    &lt;category android:name="android.intent.category.DEFAULT" /&gt;
    &lt;data android:scheme="http"
        android:host="developer.android.com"
        android:pathPrefix="/index.html" /&gt;
&lt;/intent-filter&gt;
</pre>

<h3 id="mime">TNF_MIME_MEDIA</h3>
<p>You can create a <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_MIME_MEDIA">TNF_MIME_MEDIA</a></code> NDEF record in the following ways:
</p>

<p>Using the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createMime(java.lang.String, byte[])">createMime()</a></code> method:</p>
<pre>
NdefRecord mimeRecord = NdefRecord.createMime("application/vnd.com.example.android.beam",
    "Beam me up, Android".getBytes(Charset.forName("US-ASCII")));
</pre>

<p>Creating the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code> manually:</p>
<pre>
NdefRecord mimeRecord = new NdefRecord(
    NdefRecord.TNF_MIME_MEDIA ,
    "application/vnd.com.example.android.beam".getBytes(Charset.forName("US-ASCII")),
    new byte[0], "Beam me up, Android!".getBytes(Charset.forName("US-ASCII")));
</pre>

<p>The intent filter for the previous NDEF record would look like this:</p>
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED" /&gt;
    &lt;category android:name="android.intent.category.DEFAULT" /&gt;
    &lt;data android:mimeType="application/vnd.com.example.android.beam" /&gt;
&lt;/intent-filter&gt;
</pre>

<h3 id="well-known-text">TNF_WELL_KNOWN with RTD_TEXT</h3>

<p>You can create a <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_WELL_KNOWN">TNF_WELL_KNOWN</a></code> NDEF record in the following way:
</p>
<pre>
public NdefRecord createTextRecord(String payload, Locale locale, boolean encodeInUtf8) {
    byte[] langBytes = locale.getLanguage().getBytes(Charset.forName("US-ASCII"));
    Charset utfEncoding = encodeInUtf8 ? Charset.forName("UTF-8") : Charset.forName("UTF-16");
    byte[] textBytes = payload.getBytes(utfEncoding);
    int utfBit = encodeInUtf8 ? 0 : (1 &lt;&lt; 7);
    char status = (char) (utfBit + langBytes.length);
    byte[] data = new byte[1 + langBytes.length + textBytes.length];
    data[0] = (byte) status;
    System.arraycopy(langBytes, 0, data, 1, langBytes.length);
    System.arraycopy(textBytes, 0, data, 1 + langBytes.length, textBytes.length);
    NdefRecord record = new NdefRecord(NdefRecord.TNF_WELL_KNOWN,
    NdefRecord.RTD_TEXT, new byte[0], data);
    return record;
}
</pre>

<p>The intent filter for the previous NDEF record would look like this:</p>
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED" /&gt;
    &lt;category android:name="android.intent.category.DEFAULT" /&gt;
    &lt;data android:mimeType="text/plain" /&gt;
&lt;/intent-filter&gt;
</pre>


<h3 id="well-known-uri">TNF_WELL_KNOWN with RTD_URI</h3>

<p>You can create a <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_WELL_KNOWN">TNF_WELL_KNOWN</a></code> NDEF record in the following ways:
</p>

<p>Using the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createUri(java.lang.String)">createUri(String)</a></code> method:</p>
<pre>
NdefRecord rtdUriRecord1 = NdefRecord.createUri("http://example.com");
</pre>

<p>Using the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createUri(android.net.Uri)">createUri(Uri)</a></code> method:</p>
<pre>
Uri uri = new Uri("http://example.com");
NdefRecord rtdUriRecord2 = NdefRecord.createUri(uri);
</pre>

<p>Creating the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code> manually:</p>
<pre>
byte[] uriField = "example.com".getBytes(Charset.forName("US-ASCII"));
byte[] payload = new byte[uriField.length + 1];              //add 1 for the URI Prefix
byte payload[0] = 0x01;                                      //prefixes http://www. to the URI
System.arraycopy(uriField, 0, payload, 1, uriField.length);  //appends URI to payload
NdefRecord rtdUriRecord = new NdefRecord(
    NdefRecord.TNF_WELL_KNOWN, NdefRecord.RTD_URI, new byte[0], payload);
</pre>

<p>The intent filter for the previous NDEF record would look like this:</p>

<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED" /&gt;
    &lt;category android:name="android.intent.category.DEFAULT" /&gt;
    &lt;data android:scheme="http"
        android:host="example.com"
        android:pathPrefix="" /&gt;
&lt;/intent-filter&gt;
</pre>

<h3 id="ext-type">TNF_EXTERNAL_TYPE</h3>
<p>You can create a <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_EXTERNAL_TYPE">TNF_EXTERNAL_TYPE</a></code> NDEF record in the following
ways:</p>

<p>Using the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createExternal(java.lang.String, java.lang.String, byte[])">createExternal()</a></code> method:
<pre>
byte[] payload; //assign to your data
String domain = "com.example"; //usually your app's package name
String type = "externalType";
NdefRecord extRecord = NdefRecord.createExternal(domain, type, payload);
</pre>

<p>Creating the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code> manually:</p>
<pre>
byte[] payload;
...
NdefRecord extRecord = new NdefRecord(
    NdefRecord.TNF_EXTERNAL_TYPE, "com.example:externalType", new byte[0], payload);
</pre>

<p>The intent filter for the previous NDEF record would look like this:</p>
<pre>
&lt;intent-filter&gt;
    &lt;action android:name="android.nfc.action.NDEF_DISCOVERED" /&gt;
    &lt;category android:name="android.intent.category.DEFAULT" /&gt;
    &lt;data android:scheme="vnd.android.nfc"
        android:host="ext"
        android:pathPrefix="/com.example:externalType"/&gt;
&lt;/intent-filter&gt;
</pre>


<p>Use <code>TNF_EXTERNAL_TYPE</code> for more generic NFC tag deployments to better support both
Android-powered and non-Android-powered devices.</p>

<p class="note"><strong>Note</strong>: URNs for <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#TNF_EXTERNAL_TYPE">TNF_EXTERNAL_TYPE</a></code> have a canonical format of:
<code>urn:nfc:ext:example.com:externalType</code>, however the NFC Forum RTD specification
declares that the <code>urn:nfc:ext:</code> portion of the URN must be ommitted from the
NDEF record. So all you need to provide is the domain (<code>example.com</code> in the example)
and type (<code>externalType</code> in the example) separated by a colon.
When dispatching <code>TNF_EXTERNAL_TYPE</code>, Android converts the <code>urn:nfc:ext:example.com:externalType
</code> URN to a <code>vnd.android.nfc://ext/example.com:externalType</code> URI, which is what the
intent filter in the example declares.</p>

<h3 id="aar">Android Application Records</h3>

<p>
Introduced in Android 4.0 (API level 14), an Android Application Record (AAR) provides a stronger
certainty that your application is started when an NFC tag is scanned. An AAR has the package name
of an application embedded inside an NDEF record. You can add an AAR to any NDEF record of your NDEF
message, because Android searches the entire NDEF message for AARs. If it finds an AAR, it starts
the application based on the package name inside the AAR. If the application is not present on the
device, Google Play is launched to download the application.</p>

<p>AARs are useful if you want to prevent other applications from filtering for the same intent and
potentially handling specific tags that you have deployed. AARs are only supported at the
application level, because of the package name constraint, and not at the Activity level as with
intent filtering. If you want to handle an intent at the Activity level, <a
href="#filtering-intents">use intent filters</a>.
</p>



<p>If a tag contains an AAR, the tag dispatch system dispatches in the following manner:</p>
<ol>
  <li>Try to start an Activity using an intent filter as normal. If the Activity that matches
the intent also matches the AAR, start the Activity.</li>
  <li>If the Activity that filters for the intent does not match the
AAR, if multiple Activities can handle the intent, or if no Activity handles the intent, start the
application specified by the AAR.</li>
  <li>If no application can start with the AAR, go to Google Play to download the
application based on the AAR.</li>
</ol>

</p>

<p class="note"><strong>Note:</strong> You can override AARs and the intent dispatch system with the
 <ahref="/guide/topics/connectivity/nfc/advanced-nfc.html#foreground-dispatch">foreground
 dispatch system</a>, which allows a foreground activity to have priority when an NFC tag is
 discovered. With this method, the activity must be in the foreground to override AARs and the
 intent dispatch system.</p>

<p>If you still want to filter for scanned tags that do not contain an AAR, you can declare
intent filters as normal. This is useful if your application is interested in other tags
that do not contain an AAR. For example, maybe you want to guarantee that your application handles
proprietary tags that you deploy as well as general tags deployed by third parties. Keep in mind
that AARs are specific to Android 4.0 devices or later, so when deploying tags, you most likely want
to use a combination of AARs and MIME types/URIs to support the widest range of devices. In
addition, when you deploy NFC tags, think about how you want to write your NFC tags to enable
support for the most devices (Android-powered and other devices). You can do this by
defining a relatively unique MIME type or URI to make it easier for applications to distinguish.
</p>

<p>Android provides a simple API to create an AAR,
<code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw#createApplicationRecord(java.lang.String)">createApplicationRecord()</a></code>. All you need to
do is embed the AAR anywhere in your <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code>. You do not want
to use the first record of your <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code>, unless the AAR is the only
record in the <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code>. This is because the Android
system checks the first record of an <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code> to determine the MIME type or
URI of the tag, which is used to create an intent for applications to filter. The following code
shows you how to create an AAR:</p>

<pre>
NdefMessage msg = new NdefMessage(
        new NdefRecord[] {
            ...,
            NdefRecord.createApplicationRecord("com.example.android.beam")}
</pre>


<h2 id="p2p">Beaming NDEF Messages to Other Devices</h2>

<p>Android Beam allows simple peer-to-peer data exchange between two Android-powered devices. The
application that wants to beam data to another device must be in the foreground and the device
receiving the data must not be locked. When the beaming device comes in close enough contact with a
receiving device, the beaming device displays the "Touch to Beam" UI. The user can then choose
whether or not to beam the message to the receiving device.</p>

<p class="note"><strong>Note:</strong> Foreground NDEF pushing was available at API level 10,
which provides similar functionality to Android Beam. These APIs have since been deprecated, but
are available to support older devices. See <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#enableForegroundNdefPush(android.app.Activity, android.nfc.NdefMessage)">enableForegroundNdefPush()</a></code> for more information.</p>

<p>You can enable Android Beam for your application by calling one of the two methods:</p>
  <ul>
    <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessage(android.nfc.NdefMessage, android.app.Activity, android.app.Activity...)">setNdefPushMessage()</a></code>: Accepts an
<code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code> to set as the message to beam. Automatically beams the message
when two devices are in close enough proximity.</li>
    <li><code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessageCallback(android.nfc.NfcAdapter.CreateNdefMessageCallback, android.app.Activity, android.app.Activity...)">setNdefPushMessageCallback()</a></code>:
Accepts a callback that contains a
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.CreateNdefMessageCallback.html?hl=zh-tw#createNdefMessage(android.nfc.NfcEvent)">createNdefMessage()</a></code>
which is called when a device is in range to beam data to. The callback lets you create
the NDEF message only when necessary.</li>
  </ul>

<p>An activity can only push one NDEF message at a time, so <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessageCallback(android.nfc.NfcAdapter.CreateNdefMessageCallback, android.app.Activity, android.app.Activity...)">setNdefPushMessageCallback()</a></code> takes precedence
over <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessage(android.nfc.NdefMessage, android.app.Activity, android.app.Activity...)">setNdefPushMessage()</a></code> if both are set. To use
Android Beam, the following general guidelines must be met:
</p>

  <ul>
    <li>The activity that is beaming the data must be in the foreground. Both devices must have
their screens unlocked.</li>

    <li>You must encapsulate the data that you are beaming in an <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code>
    object.</li>

    <li>The NFC device that is receiving the beamed data must support the
    <code>com.android.npp</code> NDEF push protocol or NFC Forum's SNEP (Simple NDEF Exchange
Protocol). The <code>com.android.npp</code> protocol is required for devices on API level 9 (Android
2.3) to API level 13 (Android 3.2). <code>com.android.npp</code> and SNEP are both required on
API level 14 (Android 4.0) and later.</li>
</li>
  </ul>

  <p class="note"><strong>Note:</strong> If your activity enables Android Beam and is
in the foreground, the standard intent dispatch system is disabled. However, if your activity also
enables <a href="advanced-nfcf854.html?hl=zh-tw#foreground-dispatch">
foreground dispatching</a>, then it can still scan tags that match the intent filters set in the
foreground dispatching.</p>

  <p>To enable Android Beam:</p>

  <ol>
    <li>Create an <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code> that contains the <code><a href="https://developer.android.com/reference/android/nfc/NdefRecord.html?hl=zh-tw">NdefRecord</a></code>s
that you want to push onto the other device.</li>

    <li>Call <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessage(android.nfc.NdefMessage, android.app.Activity, android.app.Activity...)">setNdefPushMessage()</a></code> with a <code><a href="https://developer.android.com/reference/android/nfc/NdefMessage.html?hl=zh-tw">NdefMessage</a></code> or call <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessageCallback(android.nfc.NfcAdapter.CreateNdefMessageCallback, android.app.Activity, android.app.Activity...)">setNdefPushMessageCallback</a></code> passing in a <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.CreateNdefMessageCallback.html?hl=zh-tw">NfcAdapter.CreateNdefMessageCallback</a></code> object in the <code>onCreate()</code> method of
your activity. These methods require at least one activity that you want to enable with Android
Beam, along with an optional list of other activities to activate.

<p>In general, you normally use <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessage(android.nfc.NdefMessage, android.app.Activity, android.app.Activity...)">setNdefPushMessage()</a></code> if your Activity only needs to
push the same NDEF message at all times, when two devices are in range to communicate. You use
<code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.html?hl=zh-tw#setNdefPushMessageCallback(android.nfc.NfcAdapter.CreateNdefMessageCallback, android.app.Activity, android.app.Activity...)">setNdefPushMessageCallback</a></code> when your
application cares about the current context of the application and wants to push an NDEF message
depending on what the user is doing in your application.</p>
    </li>
  </ol>

<p>The following sample shows how a simple activity calls <code><a href="https://developer.android.com/reference/android/nfc/NfcAdapter.CreateNdefMessageCallback.html?hl=zh-tw">NfcAdapter.CreateNdefMessageCallback</a></code> in the <code>onCreate()</code> method of an
activity (see <a href="https://developer.android.com/resources/samples/AndroidBeamDemo/index.html?hl=zh-tw">AndroidBeamDemo</a>
for the complete sample). This example also has methods to help you create a MIME record:</p>

<pre id="code-example">
package com.example.android.beam;

import android.app.Activity;
import android.content.Intent;
import android.nfc.NdefMessage;
import android.nfc.NdefRecord;
import android.nfc.NfcAdapter;
import android.nfc.NfcAdapter.CreateNdefMessageCallback;
import android.nfc.NfcEvent;
import android.os.Bundle;
import android.os.Parcelable;
import android.widget.TextView;
import android.widget.Toast;
import java.nio.charset.Charset;


public class Beam extends Activity implements CreateNdefMessageCallback {
    NfcAdapter mNfcAdapter;
    TextView textView;

    &#064;Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        TextView textView = (TextView) findViewById(R.id.textView);
        // Check for available NFC Adapter
        mNfcAdapter = NfcAdapter.getDefaultAdapter(this);
        if (mNfcAdapter == null) {
            Toast.makeText(this, "NFC is not available", Toast.LENGTH_LONG).show();
            finish();
            return;
        }
        // Register callback
        mNfcAdapter.setNdefPushMessageCallback(this, this);
    }

    &#064;Override
    public NdefMessage createNdefMessage(NfcEvent event) {
        String text = ("Beam me up, Android!\n\n" +
                "Beam Time: " + System.currentTimeMillis());
        NdefMessage msg = new NdefMessage(
                new NdefRecord[] { createMime(
                        "application/vnd.com.example.android.beam", text.getBytes())
         /**
          * The Android Application Record (AAR) is commented out. When a device
          * receives a push with an AAR in it, the application specified in the AAR
          * is guaranteed to run. The AAR overrides the tag dispatch system.
          * You can add it back in to guarantee that this
          * activity starts when receiving a beamed message. For now, this code
          * uses the tag dispatch system.
          */
          //,NdefRecord.createApplicationRecord("com.example.android.beam")
        });
        return msg;
    }

    &#064;Override
    public void onResume() {
        super.onResume();
        // Check to see that the Activity started due to an Android Beam
        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(getIntent().getAction())) {
            processIntent(getIntent());
        }
    }

    &#064;Override
    public void onNewIntent(Intent intent) {
        // onResume gets called after this to handle the intent
        setIntent(intent);
    }

    /**
     * Parses the NDEF Message from the intent and prints to the TextView
     */
    void processIntent(Intent intent) {
        textView = (TextView) findViewById(R.id.textView);
        Parcelable[] rawMsgs = intent.getParcelableArrayExtra(
                NfcAdapter.EXTRA_NDEF_MESSAGES);
        // only one message sent during the beam
        NdefMessage msg = (NdefMessage) rawMsgs[0];
        // record 0 contains the MIME type, record 1 is the AAR, if present
        textView.setText(new String(msg.getRecords()[0].getPayload()));
    }
}
</pre>

<p>Note that this code comments out an AAR, which you can remove. If you enable the AAR, the
application specified in the AAR always receives the Android Beam message. If the application is not
present, Google Play is started to download the application. Therefore, the following intent
filter is not technically necessary for Android 4.0 devices or later if the AAR is used:
</p>

<pre>
&lt;intent-filter&gt;
  &lt;action android:name="android.nfc.action.NDEF_DISCOVERED"/&gt;
  &lt;category android:name="android.intent.category.DEFAULT"/&gt;
  &lt;data android:mimeType="application/vnd.com.example.android.beam"/&gt;
&lt;/intent-filter&gt;
</pre>
<p>With this intent filter, the <code>com.example.android.beam</code> application now can be started
when it scans an NFC tag or receives an Android Beam with an AAR of
type <code>com.example.android.beam</code>, or when an NDEF formatted message contains a MIME record
of type <code>application/vnd.com.example.android.beam</code>.</p>

<p>Even though AARs guarantee an application is started or downloaded, intent filters are
recommended, because they let you start an Activity of your choice in your
application instead of always starting the main Activity within the package specified by an AAR.
AARs do not have Activity level granularity. Also, because some Android-powered devices do not
support AARs, you should also embed identifying information in the first NDEF record of your NDEF
messages and filter for that as well, just in case. See <a href="#creating-records">Creating Common
Types of NDEF records</a> for more information on how to create records.
</p>



    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=zh-tw" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="網誌" target="_blank">網誌</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=zh-tw" title="完備支援">完備支援</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=zh-tw" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=zh-tw" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=zh-tw" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=zh-tw" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="9enOACIH0XjpULJKzxxymYN7cV12SAOh_cOBEPcV2QY6MTQ5NzUxNjgyMzM4Mjk4MA" />
      <input type="hidden" name="next" value="/guide/topics/connectivity/nfc/nfc.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
            >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
            >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
            >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
             selected="selected" >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">電子郵件地址</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../../../ytblogger_lists_unified962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="../../../../android_metadata_en962f.js?hl=zh-tw?v=2017061508" defer></script>
  
  <script src="../../../../reference/lists962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="../../../../reference/gms_lists962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="../../../../reference/android/support/wearable/lists962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="../../../../reference/android/support/test/lists962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="../../../../reference/android/support/constraint/lists962f.js?hl=zh-tw?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=zh-tw"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_zh-tw.js?hl=zh-tw?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/topics/connectivity/nfc/nfc.html?hl=zh-tw by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:12:16 GMT -->
</html>
