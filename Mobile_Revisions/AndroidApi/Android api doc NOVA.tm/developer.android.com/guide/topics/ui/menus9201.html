





<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from developer.android.com/guide/topics/ui/menus.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:07:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="ej_ikjbbFi0v3nc1BRJAyJFQw72nH4ir1smKqU8m38E6MTQ5NzUxNjM5NDg0NjM3MA" />

  
    <link rel="canonical" href="menus9201.html?hl=ru">
  

  
    <link rel="alternate" href="menus9201.html?hl=ru" hreflang="ru">
  
    <link rel="alternate" href="menusf854.html?hl=zh-tw" hreflang="zh-Hant">
  
    <link rel="alternate" href="menus327f.html?hl=vi" hreflang="vi">
  
    <link rel="alternate" href="menus.html" hreflang="en">
  
    <link rel="alternate" href="menus0b8e.html?hl=zh-cn" hreflang="zh-Hans">
  
    <link rel="alternate" href="menus7554.html?hl=es-419" hreflang="es-419">
  
    <link rel="alternate" href="menus232e.html?hl=ko" hreflang="ko">
  
    <link rel="alternate" href="menus9e29.html?hl=ja" hreflang="ja">
  
    <link rel="alternate" href="menusde3a.html?hl=es" hreflang="es">
  
    <link rel="alternate" href="menus0cf2.html?hl=id" hreflang="id">
  
    <link rel="alternate" href="menus6dd3.html?hl=pt-br" hreflang="pt-br">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=ru" hreflang="ru-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=zh-tw" hreflang="zh-Hant-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=vi" hreflang="vi-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html" hreflang="en-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=zh-cn" hreflang="zh-Hans-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=es-419" hreflang="es-419-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=ko" hreflang="ko-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=ja" hreflang="ja-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=es" hreflang="es-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=id" hreflang="id-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/menus.html?hl=pt-br" hreflang="pt-br-cn">
  

  <link rel="alternate" href="menus.html" hreflang="x-default">




<link rel="shortcut icon" href="../../../_static/f304fc21fa/images/android/favicon9201.png?hl=ru">

<link rel="apple-touch-icon" href="../../../_static/f304fc21fa/images/android/touchicon-1809201.png?hl=ru">


<title>

  Меню | Android Developers

</title>

  <meta name="description" content="Меню являются стандартным компонентом пользовательского интерфейса в приложениях многих типов. Для обеспечения привычной и единообразной технологии работы с приложением следует представлять действия пользователя и другие варианты выбора в своих операциях…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../../static/css/default05ec.css?hl=ru?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../../_static/f304fc21fa/js/android_3p-bundle9201.js?hl=ru" type="text/javascript"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_closure_android__ru9201.js?hl=ru"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_android9201.js?hl=ru"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../../static/js/docs05ec.js?hl=ru?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "ru", "served": "ru"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=ru">
          <img class="dac-header-logo-image" src="../../../static/images/android_logo9201.png?hl=ru"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=ru"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=ru"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=ru"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=ru"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=ru" width="18" height="19" alt="Play Console">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Поиск">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Назад</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../../index9201.html?hl=ru" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/fundamentals9201.html?hl=ru" >App Fundamentals</a></li><li><a href="../../practices/compatibility9201.html?hl=ru" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../permissions/index9201.html?hl=ru" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../permissions/requesting9201.html?hl=ru" >Requesting Permissions</a></li><li><a href="../permissions/defining9201.html?hl=ru" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../platform/index9201.html?hl=ru" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../platform/j8-jack9201.html?hl=ru"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../../practices/verifying-apps-art9201.html?hl=ru" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/index9201.html?hl=ru" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../components/intents-filters9201.html?hl=ru" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/intents-common9201.html?hl=ru" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/activities/index9201.html?hl=ru" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/activities/intro-activities9201.html?hl=ru" >Introduction to Activities</a></li><li><a href="../../components/activities/activity-lifecycle9201.html?hl=ru" >The Activity Lifecycle</a></li><li><a href="../../components/activities/state-changes9201.html?hl=ru" >Activity State Changes</a></li><li><a href="../../components/activities/tasks-and-back-stack9201.html?hl=ru" >Tasks and Back Stack</a></li><li><a href="../../components/activities/process-lifecycle9201.html?hl=ru" >Processes and Application Lifecycle</a></li><li><a href="../../components/activities/parcelables-and-bundles9201.html?hl=ru" >Parcelables and Bundles</a></li><li><a href="../../components/activities/recents9201.html?hl=ru" >Recents Screen</a></li></ul></li><li><a href="../../components/fragments9201.html?hl=ru" >Fragments</a></li><li><a href="../../components/loaders9201.html?hl=ru" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/services9201.html?hl=ru" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/bound-services9201.html?hl=ru" >Bound Services</a></li><li><a href="../../components/aidl9201.html?hl=ru" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../providers/content-providers9201.html?hl=ru" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../providers/content-provider-basics9201.html?hl=ru" >Content Provider Basics</a></li><li><a href="../providers/content-provider-creating9201.html?hl=ru" >Creating a Content Provider</a></li><li><a href="../providers/calendar-provider9201.html?hl=ru" >Calendar Provider</a></li><li><a href="../providers/contacts-provider9201.html?hl=ru" >Contacts Provider</a></li><li><a href="../providers/document-provider9201.html?hl=ru" >Open files using Storage Access Framework</a></li><li><a href="../providers/create-document-provider9201.html?hl=ru" >Create a Custom Document Provider</a></li></ul></li><li><a href="../../components/broadcasts9201.html?hl=ru" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../appwidgets/index9201.html?hl=ru" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../appwidgets/host9201.html?hl=ru" >App Widget Host</a></li></ul></li><li><a href="../../components/processes-and-threads9201.html?hl=ru" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/index9201.html?hl=ru" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/overview9201.html?hl=ru" >Overview</a></li><li><a href="../resources/providing-resources9201.html?hl=ru" >Providing Resources</a></li><li><a href="../resources/accessing-resources9201.html?hl=ru" >Accessing Resources</a></li><li><a href="../resources/runtime-changes9201.html?hl=ru" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/localization9201.html?hl=ru" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/icu4j-framework9201.html?hl=ru" >ICU4J Android Framework APIs</a></li><li><a href="../resources/multilingual-support9201.html?hl=ru" >Language and Locale</a></li></ul></li><li><a href="../resources/complex-xml-resources9201.html?hl=ru" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/available-resources9201.html?hl=ru" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/animation-resource9201.html?hl=ru" >Animation</a></li><li><a href="../resources/color-list-resource9201.html?hl=ru" >Color State List</a></li><li><a href="../resources/drawable-resource9201.html?hl=ru" >Drawable</a></li><li><a href="../resources/layout-resource9201.html?hl=ru" >Layout</a></li><li><a href="../resources/menu-resource9201.html?hl=ru" >Menu</a></li><li><a href="../resources/string-resource9201.html?hl=ru" >String</a></li><li><a href="../resources/style-resource9201.html?hl=ru" >Style</a></li><li><a href="../resources/more-resources9201.html?hl=ru" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../manifest/manifest-intro9201.html?hl=ru" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../manifest/action-element9201.html?hl=ru" >&lt;action&gt;</a></li><li><a href="../manifest/activity-element9201.html?hl=ru" >&lt;activity&gt;</a></li><li><a href="../manifest/activity-alias-element9201.html?hl=ru" >&lt;activity-alias&gt;</a></li><li><a href="../manifest/application-element9201.html?hl=ru" >&lt;application&gt;</a></li><li><a href="../manifest/category-element9201.html?hl=ru" >&lt;category&gt;</a></li><li><a href="../manifest/compatible-screens-element9201.html?hl=ru" >&lt;compatible-screens&gt;</a></li><li><a href="../manifest/data-element9201.html?hl=ru" >&lt;data&gt;</a></li><li><a href="../manifest/grant-uri-permission-element9201.html?hl=ru" >&lt;grant-uri-permission&gt;</a></li><li><a href="../manifest/instrumentation-element9201.html?hl=ru" >&lt;instrumentation&gt;</a></li><li><a href="../manifest/intent-filter-element9201.html?hl=ru" >&lt;intent-filter&gt;</a></li><li><a href="../manifest/manifest-element9201.html?hl=ru" >&lt;manifest&gt;</a></li><li><a href="../manifest/meta-data-element9201.html?hl=ru" >&lt;meta-data&gt;</a></li><li><a href="../manifest/path-permission-element9201.html?hl=ru" >&lt;path-permission&gt;</a></li><li><a href="../manifest/permission-element9201.html?hl=ru" >&lt;permission&gt;</a></li><li><a href="../manifest/permission-group-element9201.html?hl=ru" >&lt;permission-group&gt;</a></li><li><a href="../manifest/permission-tree-element9201.html?hl=ru" >&lt;permission-tree&gt;</a></li><li><a href="../manifest/provider-element9201.html?hl=ru" >&lt;provider&gt;</a></li><li><a href="../manifest/receiver-element9201.html?hl=ru" >&lt;receiver&gt;</a></li><li><a href="../manifest/service-element9201.html?hl=ru" >&lt;service&gt;</a></li><li><a href="../manifest/supports-gl-texture-element9201.html?hl=ru" >&lt;supports-gl-texture&gt;</a></li><li><a href="../manifest/supports-screens-element9201.html?hl=ru" >&lt;supports-screens&gt;</a></li><li><a href="../manifest/uses-configuration-element9201.html?hl=ru" >&lt;uses-configuration&gt;</a></li><li><a href="../manifest/uses-feature-element9201.html?hl=ru" >&lt;uses-feature&gt;</a></li><li><a href="../manifest/uses-library-element9201.html?hl=ru" >&lt;uses-library&gt;</a></li><li><a href="../manifest/uses-permission-element9201.html?hl=ru" >&lt;uses-permission&gt;</a></li><li><a href="../manifest/uses-permission-sdk-23-element9201.html?hl=ru" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../manifest/uses-sdk-element9201.html?hl=ru" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="index9201.html?hl=ru" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="overview9201.html?hl=ru" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="declaring-layout9201.html?hl=ru" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="layout/linear9201.html?hl=ru" >Linear Layout</a></li><li><a href="layout/relative9201.html?hl=ru" >Relative Layout</a></li><li><a href="layout/recyclerview9201.html?hl=ru" >Recycler View</a></li><li><a href="layout/listview9201.html?hl=ru" >List View</a></li><li><a href="layout/gridview9201.html?hl=ru" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="controls9201.html?hl=ru" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="controls/button9201.html?hl=ru" >Buttons</a></li><li><a href="controls/checkbox9201.html?hl=ru" >Checkboxes</a></li><li><a href="controls/radiobutton9201.html?hl=ru" >Radio Buttons</a></li><li><a href="controls/togglebutton9201.html?hl=ru" >Toggle Buttons</a></li><li><a href="controls/spinner9201.html?hl=ru" >Spinners</a></li><li><a href="controls/pickers9201.html?hl=ru" >Pickers</a></li></ul></li><li><a href="ui-events9201.html?hl=ru" >Input Events</a></li><li><a href="menus9201.html?hl=ru" >Menus</a></li><li><a href="settings9201.html?hl=ru" >Settings</a></li><li><a href="dialogs9201.html?hl=ru" >Dialogs</a></li><li><a href="notifiers/notifications9201.html?hl=ru" >Notifications</a></li><li><a href="notifiers/toasts9201.html?hl=ru" >Toasts</a></li><li><a href="shortcuts9201.html?hl=ru" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../search/index9201.html?hl=ru" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../search/search-dialog9201.html?hl=ru" >Creating a Search Interface</a></li><li><a href="../search/adding-recent-query-suggestions9201.html?hl=ru" >Adding Recent Query Suggestions</a></li><li><a href="../search/adding-custom-suggestions9201.html?hl=ru" >Adding Custom Suggestions</a></li><li><a href="../search/searchable-config9201.html?hl=ru" >Searchable Configuration</a></li></ul></li><li><a href="multi-window9201.html?hl=ru" >Multi-Window Support</a></li><li><a href="drag-drop9201.html?hl=ru" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="accessibility/index9201.html?hl=ru" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="accessibility/apps9201.html?hl=ru" >Making Apps More Accessible</a></li><li><a href="accessibility/checklist9201.html?hl=ru" >Accessibility Developer Checklist</a></li><li><a href="accessibility/node-tree-debugging9201.html?hl=ru" >Using Node Tree Debugging</a></li><li><a href="accessibility/services9201.html?hl=ru" >Building Accessibility Services</a></li><li><a href="accessibility/custom-views9201.html?hl=ru" >Building Accessible Custom Views</a></li></ul></li><li><a href="themes9201.html?hl=ru" >Styles and Themes</a></li><li><a href="custom-components9201.html?hl=ru" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/index9201.html?hl=ru" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/overview9201.html?hl=ru" >Overview</a></li><li><a href="../graphics/prop-animation9201.html?hl=ru" >Property Animation</a></li><li><a href="../graphics/view-animation9201.html?hl=ru" >View Animation</a></li><li><a href="../graphics/drawable-animation9201.html?hl=ru" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/2d-graphics9201.html?hl=ru" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/vector-drawable-resources9201.html?hl=ru" >Vector Drawable</a></li></ul></li><li><a href="../graphics/opengl9201.html?hl=ru" >OpenGL ES</a></li><li><a href="../graphics/hardware-accel9201.html?hl=ru" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/index9201.html?hl=ru" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/compute9201.html?hl=ru" >RenderScript</a></li><li><a href="../renderscript/advanced9201.html?hl=ru" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/reference/overview9201.html?hl=ru" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/reference/rs_value_types9201.html?hl=ru" >Numerical Types</a></li><li><a href="../renderscript/reference/rs_object_types9201.html?hl=ru" >Object Types</a></li><li><a href="../renderscript/reference/rs_convert9201.html?hl=ru" >Conversion Functions</a></li><li><a href="../renderscript/reference/rs_math9201.html?hl=ru" >Mathematical Constants and Functions</a></li><li><a href="../renderscript/reference/rs_vector_math9201.html?hl=ru" >Vector Math Functions</a></li><li><a href="../renderscript/reference/rs_matrix9201.html?hl=ru" >Matrix Functions</a></li><li><a href="../renderscript/reference/rs_quaternion9201.html?hl=ru" >Quaternion Functions</a></li><li><a href="../renderscript/reference/rs_atomic9201.html?hl=ru" >Atomic Update Functions</a></li><li><a href="../renderscript/reference/rs_time9201.html?hl=ru" >Time Functions and Types</a></li><li><a href="../renderscript/reference/rs_allocation_data9201.html?hl=ru" >Allocation Data Access Functions</a></li><li><a href="../renderscript/reference/rs_object_info9201.html?hl=ru" >Object Characteristics Functions</a></li><li><a href="../renderscript/reference/rs_for_each9201.html?hl=ru" >Kernel Invocation Functions and Types</a></li><li><a href="../renderscript/reference/rs_io9201.html?hl=ru" >Input/Output Functions</a></li><li><a href="../renderscript/reference/rs_debug9201.html?hl=ru" >Debugging Functions</a></li><li><a href="../renderscript/reference/rs_graphics9201.html?hl=ru" >Graphics Functions and Types</a></li><li><a href="../renderscript/reference/index9201.html?hl=ru" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/index9201.html?hl=ru" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/media-apps-overview9201.html?hl=ru" >Media Apps Overview</a></li><li><a href="../media-apps/working-with-a-media-session9201.html?hl=ru" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/audio-app/building-an-audio-app9201.html?hl=ru" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/audio-app/building-a-mediabrowserservice9201.html?hl=ru" >Building a Media Browser Service</a></li><li><a href="../media-apps/audio-app/building-a-mediabrowser-client9201.html?hl=ru" >Building a Media Browser Client</a></li><li><a href="../media-apps/audio-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/video-app/building-a-video-app9201.html?hl=ru" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/video-app/building-a-video-player-activity9201.html?hl=ru" >Building a Video Player Activity</a></li><li><a href="../media-apps/video-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li><a href="../media-apps/mediabuttons9201.html?hl=ru" >Responding to Media Buttons</a></li><li><a href="../media-apps/volume-and-earphones9201.html?hl=ru" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media/index9201.html?hl=ru" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/media-formats9201.html?hl=ru" >Supported Media Formats</a></li><li><a href="../media/mediaplayer9201.html?hl=ru" >MediaPlayer</a></li><li><a href="../media/mediarecorder9201.html?hl=ru" >MediaRecorder</a></li><li><a href="../media/exoplayer9201.html?hl=ru" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media/media-routing9201.html?hl=ru" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/mediarouter9201.html?hl=ru" >MediaRouter API</a></li><li><a href="../media/mediarouteprovider9201.html?hl=ru" >MediaRouteProvider API</a></li></ul></li><li><a href="../media/camera9201.html?hl=ru" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../sensors/index9201.html?hl=ru" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../location/index9201.html?hl=ru" >Location and Maps</a></li><li><a href="../location/strategies9201.html?hl=ru" >Location Strategies</a></li><li><a href="../sensors/sensors_overview9201.html?hl=ru" >Sensors Overview</a></li><li><a href="../sensors/sensors_motion9201.html?hl=ru" >Motion Sensors</a></li><li><a href="../sensors/sensors_position9201.html?hl=ru" >Position Sensors</a></li><li><a href="../sensors/sensors_environment9201.html?hl=ru" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/index9201.html?hl=ru" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/bluetooth9201.html?hl=ru" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/bluetooth-le9201.html?hl=ru" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/nfc/index9201.html?hl=ru" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/nfc/nfc9201.html?hl=ru" >NFC Basics</a></li><li><a href="../connectivity/nfc/advanced-nfc9201.html?hl=ru" >Advanced NFC</a></li><li><a href="../connectivity/nfc/hce9201.html?hl=ru" >Host-based Card Emulation</a></li></ul></li><li><a href="../connectivity/wifip2p9201.html?hl=ru" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/usb/index9201.html?hl=ru" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/usb/accessory9201.html?hl=ru" >Accessory</a></li><li><a href="../connectivity/usb/host9201.html?hl=ru" >Host</a></li></ul></li><li><a href="../connectivity/sip9201.html?hl=ru" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../text/index9201.html?hl=ru" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/copy-paste9201.html?hl=ru" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../text/creating-input-method9201.html?hl=ru" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/image-keyboard9201.html?hl=ru" >Image Keyboard</a></li></ul></li><li><a href="../text/spell-checker-framework9201.html?hl=ru" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../data/index9201.html?hl=ru" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/data-storage9201.html?hl=ru" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../data/backup9201.html?hl=ru" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/autobackup9201.html?hl=ru" >Auto Backup</a></li><li><a href="../data/keyvaluebackup9201.html?hl=ru" >Key/Value Backup</a></li><li><a href="../data/testingbackup9201.html?hl=ru" >Testing Backup and Restore</a></li></ul></li><li><a href="../data/install-location9201.html?hl=ru" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../admin/index9201.html?hl=ru" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../admin/device-admin9201.html?hl=ru" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../webapps/index9201.html?hl=ru" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../webapps/targeting9201.html?hl=ru" >Supporting Different Screens in Web Apps</a></li><li><a href="../../webapps/webview9201.html?hl=ru" >Building Web Apps in WebView</a></li><li><a href="../../webapps/migrating9201.html?hl=ru" >Migrating to WebView in Android 4.4</a></li><li><a href="../../webapps/debugging9201.html?hl=ru" >Debugging Web Apps</a></li><li><a href="../../webapps/best-practices9201.html?hl=ru" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../practices/index9201.html?hl=ru"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../practices/screens_support9201.html?hl=ru" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../practices/screens-distribution9201.html?hl=ru" >Distributing to Specific Screens</a></li><li><a href="../../practices/screen-compat-mode9201.html?hl=ru" >Screen Compatibility Mode</a></li></ul></li><li><a href="../../practices/app-design/seamlessness9201.html?hl=ru" >Designing for Seamlessness</a></li><li><a href="../../practices/tablets-and-handsets9201.html?hl=ru" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=ru">Начало</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=ru">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=ru">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=ru">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=ru">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=ru">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=ru"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=ru"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=ru"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">Обучение</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../../index9201.html?hl=ru"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=ru"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Справочники</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=ru">Примеры</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=ru"
           >Библиотеки</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=ru"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=ru"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=ru">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=ru">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=ru">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=ru"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=ru">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=ru">Play Console</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=ru"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=ru"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=ru">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=ru">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Меню</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">
  <h2>Содержание документа</h2>
<ol>
  <li><a href="#xml">Определение меню в файле XML</a></li>
  <li><a href="#options-menu">Создание меню параметров</a>
    <ol>
      <li><a href="#RespondingOptionsMenu">Обработка нажатий</a></li>
      <li><a href="#ChangingTheMenu">Изменение пунктов меню во время выполнения</a></li>
    </ol>
  </li>
  <li><a href="#context-menu">Создание контекстного меню</a>
    <ol>
      <li><a href="#FloatingContextMenu">Создание плавающего контекстного меню</a></li>
      <li><a href="#CAB">Использование режима контекстных действий</a></li>
    </ol>
  </li>
  <li><a href="#PopupMenu">Создание всплывающего меню</a>
    <ol>
      <li><a href="#PopupEvents">Обработка нажатий</a></li>
    </ol>
  </li>
  <li><a href="#groups">Создание групп меню</a>
    <ol>
      <li><a href="#checkable">Использование пунктов меню, которые можно пометить</a></li>
    </ol>
  </li>
  <li><a href="#intents">Добавление пунктов меню на основе объектов Intent</a>
    <ol>
      <li><a href="#AllowingToAdd">Предоставление возможности добавить свою операцию в другие меню</a></li>
    </ol>
  </li>
</ol>

  <h2>Основные классы</h2>
  <ol>
    <li><code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru">MenuItem</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/view/ContextMenu.html?hl=ru">ContextMenu</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code></li>
  </ol>

  <h2>См. также</h2>
  <ol>
    <li><a href="https://developer.android.com/training/appbar/index.html?hl=ru">Строка действий</a></li>
    <li><a href="../resources/menu-resource9201.html?hl=ru">Ресурс меню</a></li>
    <li><a href="http://android-developers.blogspot.com/2012/01/say-goodbye-to-menu-button.html">Попрощайтесь
с кнопкой "Меню"</a></li>
  </ol>
</div>
</div>

<p>Меню являются стандартным компонентом пользовательского интерфейса в приложениях многих типов. Для обеспечения привычной
и единообразной технологии работы с приложением следует представлять действия пользователя и другие варианты выбора в своих операциях
с помощью API-интерфейсов класса <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code>.</p>

<p>Начиная с версии Android 3.0 (уровень API 11) в устройствах, работающих под управлением Android,
наличие отдельной кнопки <em>Меню</em> больше не требуется. С учетом этого изменения приложения для Android должны перестать
зависеть от традиционной панели меню из 6 пунктов. Вместо нее в них должна быть строка действий с часто используемыми
действиями пользователя.</p>

<p>Несмотря на то что оформление и поведение некоторых пунктов меню изменились, семантика для определения
набора действий и вариантов по-прежнему основана на API-интерфейсах класса <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code>. В этом
руководстве рассказывается, как создавать три основополагающих типа меню или представлений действий в системе
Android всех версий:</p>

<dl>
  <dt><strong>Меню параметров и строка действий</strong></dt>
    <dd>Пункты <a href="#options-menu">меню параметров</a> представляют собой основные варианты выбора действий в пределах
операции. Именно здесь следует размещать действия, которые затрагивают приложение в целом, например:
"Поиск", "Составить сообщение эл. почты" и "Настройки".
  <p>При разработке приложений для версии Android 2.3 или более ранних версий пользователи могут
открыть панель меню параметров нажатием кнопки <em>Меню</em>.</p>
  <p>В версии Android 3.0 и последующих версиях пункты меню параметров размещаются в <a href="https://developer.android.com/training/appbar/index.html?hl=ru">строке действий</a> в виде сочетания отображаемых на экране вариантов
действий и раскрывающегося списка дополнительных вариантов выбора. Начиная с Android 3.0 кнопка <em>Меню</em> больше не используется (на некоторых
устройствах
ее нет), поэтому для предоставления доступа к действиям и другим вариантам выбора вам следует перейти к использованию
строки действий.</p>
  <p>См. раздел <a href="#options-menu">Создание меню параметров</a></p>
    </dd>

  <dt><strong>Контекстное меню и режим контекстных действий</strong></dt>

   <dd>Контекстное меню ― это <a href="#FloatingContextMenu">плавающее меню</a>, которое открывается, когда
пользователь длительно нажимает на элемент. В нем содержатся действия, которые затрагивают выбранный контент или
контекстный кадр.
  <p>При разработке приложения для версии Android 3.0 или выше вместо этого для обеспечения действий с выбранным контентом следует использовать <a href="#CAB">режим контекстных действий</a>. В этом режиме
в строке, расположенной вверху экрана, отображаются пункты действий, затрагивающие выбранный контент, причем пользователь может
выбрать сразу несколько элементов.</p>
  <p>См. раздел <a href="#context-menu">Создание контекстного меню</a></p>
</dd>

  <dt><strong>Всплывающее меню</strong></dt>
    <dd>Во всплывающем меню отображается вертикальный список пунктов, который привязан к представлению,
вызвавшему меню. Он хорошо подходит для предоставления возможности дополнительных вариантов действий, относящихся к определенному контенту или
для выдачи вариантов для второй части команды. Действия во всплывающем меню
<strong>не</strong> должны напрямую затрагивать соответствующий контент &mdash; для этого предназначены контекстные
действия. Всплывающее меню предназначено для расширенных действий, относящихся к областям контента в вашей
операции.
  <p>См. раздел <a href="#PopupMenu">Создание всплывающего меню</a></p>
</dd>
</dl>



<h2 id="xml">Определение меню в файле XML</h2>

<p>Для определения пунктов меню всех типов в Android используется стандартный формат XML.
Вместо того чтобы создавать меню в коде своей операции, определять меню и все его пункты следует в
 <a href="../resources/menu-resource9201.html?hl=ru">ресурсе меню</a> формата XML. После этого
ресурс меню можно будет загружать как объект <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code> в свои операции или
фрагменты.</p>

<p>Использовать ресурсы меню рекомендуется по нескольким причинам:</p>
<ul>
  <li>в XML проще визуализировать структуру меню;</li>
  <li>это позволяет отделить контент для меню от кода, определяющего работу приложения;</li>
  <li>это позволяет создавать альтернативные варианты меню для разных версий платформы,
размеров экрана и других конфигураций путем использования структуры <a href="../resources/index9201.html?hl=ru">ресурсов приложения</a>.</li>
</ul>

<p>Чтобы определить меню, создайте файл XML в папке <code>res/menu/</code>
вашего проекта и постройте меню со следующими элементами:</p>
<dl>
  <dt><code>&lt;menu></code></dt>
    <dd>Определяет класс <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code>, который является контейнером для пунктов меню. Элемент
<code>&lt;menu></code> должен быть корневым узлом файла, в котором может находиться один или несколько элементов
<code>&lt;item></code> и <code>&lt;group></code>.</dd>

  <dt><code>&lt;item></code></dt>
    <dd>Создает класс <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru">MenuItem</a></code>, который представляет один пункт меню. Этот
элемент может содержать вложенный элемент <code>&lt;menu></code> для создания вложенных меню.</dd>

  <dt><code>&lt;group></code></dt>
    <dd>Необязательный, невидимый контейнер для элементов <code>&amp;lt;item&amp;gt;</code>. Он позволяет
разделять пункты меню на категории и назначать им одинаковые свойства, такие как активное состояние и видимость. Подробные
сведения изложены в разделе <a href="#groups">Создание групп меню</a>.</dd>
</dl>


<p>Вот пример меню с именем <code>game_menu.xml</code>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/new_game"
          android:icon="@drawable/ic_new_game"
          android:title="@string/new_game"
          android:showAsAction="ifRoom"/&gt;
    &lt;item android:id="@+id/help"
          android:icon="@drawable/ic_help"
          android:title="@string/help" /&gt;
&lt;/menu&gt;
</pre>

<p>Элемент <code>&lt;item></code> поддерживает несколько атрибутов, с помощью которых можно определить внешний вид и
поведение пункта меню. Пункты приведенного выше меню имеют следующие атрибуты:</p>

<dl>
  <dt><code>android:id</code></dt>
    <dd>Идентификатор ресурса, который является уникальным для этого пункта, что позволяет приложению распознавать пункт,
когда его выбирает пользователь.</dd>
  <dt><code>android:icon</code></dt>
    <dd>Ссылка на графический элемент, который будет использоваться в качестве значка пункта меню.</dd>
  <dt><code>android:title</code></dt>
    <dd>Ссылка на строку, которая будет использоваться в качестве названия пункта меню.</dd>
  <dt><code>android:showAsAction</code></dt>
    <dd>Указывает, когда и как этот пункт должен отображаться в <a href="https://developer.android.com/training/appbar/index.html?hl=ru">строке действий</a>.</dd>
</dl>

<p>Это самые важные атрибуты, которые следует использовать, но есть также множество других атрибутов.
Сведения обо всех поддерживаемых атрибутах см. в документе <a href="../resources/menu-resource9201.html?hl=ru">Ресурс меню</a>.</p>

<p>К пункту любого меню (кроме вложенного меню) можно прикрепить вложенное меню, добавив элемент <code>&amp;lt;menu&amp;gt;</code>
в качестве дочернего элемента <code>&amp;lt;item&amp;gt;</code>. Вложенные меню полезны, когда в приложении имеется множество
функций, которые можно разделить на категории подобно строке меню приложения для ПК ("Файл",
"Правка", "Вид" и т. д.). Например:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/file"
          android:title="@string/file" &gt;
        &lt;!-- "file" submenu --&gt;
        &lt;menu&gt;
            &lt;item android:id="@+id/create_new"
                  android:title="@string/create_new" /&gt;
            &lt;item android:id="@+id/open"
                  android:title="@string/open" /&gt;
        &lt;/menu&gt;
    &lt;/item&gt;
&lt;/menu&gt;
</pre>

<p>Для использования меню в операции необходимо загрузить ресурс меню (преобразовать ресурс XML
в программируемый объект) с помощью метода <code><a href="https://developer.android.com/reference/android/view/MenuInflater.html?hl=ru#inflate(int, android.view.Menu)">MenuInflater.inflate()</a></code>. В приведенных далее разделах рассказывается, как загружать меню
каждого типа.</p>



<h2 id="options-menu">Создание меню параметров</h2>

<div class="figure" style="width:200px;margin:0">
  <img src="../../../images/options_menu9201.png?hl=ru" height="333" alt="" />
  <p class="img-caption"><strong>Рисунок 1.</strong> Меню параметров в
браузере на Android 2.3.</p>
</div>

<p>В меню параметров следует размещать действия и другие варианты выбора, которые имеют отношение к
контексту текущей операции, например: "Поиск", "Составить сообщение эл. почты" и "Настройки".</p>

<p>Место, где отображаются на экране пункты вашего меню параметров, определяется версией платформы, для которой
разработано приложение.</p>

<ul>
  <li>Если приложение написано для версии <strong>Android 2.3.x (уровень API 10) или
более ранней</strong>, содержимое вашего меню параметров отображается внизу экрана, когда пользователь
нажимает кнопку <em>Меню</em>, как показано на рисунке 1. Когда меню открывается, первой видимой частью является меню
значков,
в котором имеется шесть пунктов. Если в вашем меню больше шести пунктов, система Android разместит
шестой и остальные пункты в дополнительном меню, которое пользователь может открыть, выбрав вариант
 <em>Еще</em>.</li>

  <li>Если приложение предназначено для версии <strong>Android 3.0 (уровень API 11) и
более поздних</strong>, пункты меню параметров будут отображаться в <a href="https://developer.android.com/training/appbar/index.html?hl=ru">строке действий</a>. По умолчанию система
размещает все действия на панели дополнительных вариантов, которые пользователь может открыть с помощью значка дополнительных действий, расположенного
с правой стороны строки действий (либо нажатием кнопки <em>Меню</em>, если на устройстве есть такая кнопка). Чтобы
обеспечить
быстрый доступ к важным действиям, можно принудительно разместить несколько пунктов меню в строке действий, добавив
<code>android:showAsAction="ifRoom"</code> к соответствующим элементам <code>&amp;lt;item&amp;gt;</code> (см. рисунок
2). <p>Подробные сведения о пунктах действий и других особенностях строки действий см. в руководстве <a href="https://developer.android.com/training/appbar/index.html?hl=ru">Строка действий</a>. </p>
<p class="note"><strong>Примечание.</strong> Даже если ваше приложение <em>не</em> предназначено для работы в версии Android 3.0 или
более поздней, можно создать собственный макет со строкой действий, чтобы реализовать похожий эффект. Пример того, как можно
поддерживать работу строки действий в старых версиях Android см. в образце кода, иллюстрирующем
 <a href="https://developer.android.com/resources/samples/ActionBarCompat/index.html?hl=ru">Совместимость строки действий</a>.</p>
</li>
</ul>

<img src="../../../images/ui/actionbar9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 2.</strong> Строка действий из приложения <a href="https://developer.android.com/resources/samples/HoneycombGallery/index.html?hl=ru">Honeycomb Gallery</a>, содержащая
вкладки навигации и пункт включения камеры (а также кнопку открытия дополнительной панели действий).</p>

<p>Объявлять пункты меню параметров можно либо из подкласса <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>,
либо из подкласса <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>. Если и ваша операция, и фрагменты
объявляют пункты меню параметров, в пользовательском интерфейсе они объединяются. Сначала отображаются пункты
операции, а за ними следуют пункты фрагментов в том порядке, в котором каждый фрагмент добавляется в
операцию. При необходимости можно изменить порядок следования пунктов меню с помощью атрибута <code>android:orderInCategory</code>,
указываемого в каждом <code>&amp;lt;item&amp;gt;</code>, который требуется переместить.</p>

<p>Чтобы указать меню параметров для операции, переопределите <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> (фрагменты предоставляют собственный обратный
вызов <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>). В этом
методе можно загрузить собственный ресурс меню (<a href="#xml">определенный в XML</a>) в класс <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code>, имеющийся в обратном вызове. Например:</p>

<pre>
&#64;Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#getMenuInflater()">getMenuInflater()</a></code>;
    inflater.inflate(R.menu.game_menu, menu);
    return true;
}
</pre>

<p>Пункты меню также можно добавлять с помощью <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#add(int, int, int, int)">add()</a></code>, а получать их с помощью <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#findItem(int)">findItem()</a></code> для пересмотра их
свойств с помощью API-интерфейсов <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru">MenuItem</a></code>.</p>

<p>Если ваше приложение предназначено для версии Android 2.3.x или более ранней, система вызывает метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> для создания меню параметров,
когда пользователь открывает это меню впервые. Если приложение предназначено для версии Android 3.0 и или более поздней, система
вызывает метод<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> при
запуске операции, чтобы отобразить пункты в строке действий.</p>



<h3 id="RespondingOptionsMenu">Обработка нажатий</h3>

<p>Когда пользователь выбирает пункт меню параметров (в том числе пункты действий из строки действий),
система вызывает метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> вашей операции. Этот метод передает выбранный класс <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru">MenuItem</a></code>. Идентифицировать
пункт меню можно, вызвав метод <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru#getItemId()">getItemId()</a></code>, который возвращает уникальный
идентификатор пункта меню (определенный атрибутом <code>android:id</code> из ресурса меню или
целым числом, переданным методу <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#add(int, int, int, int)">add()</a></code>). Этот идентификатор
можно сопоставить с известными пунктами меню, чтобы выполнить соответствующее действие. Например:</p>

<pre>
&#64;Override
public boolean onOptionsItemSelected(MenuItem item) {
    // Handle item selection
    switch (item.getItemId()) {
        case R.id.new_game:
            newGame();
            return true;
        case R.id.help:
            showHelp();
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
}
</pre>

<p>Когда пункт меню успешно обработан, возвращается <code>true</code>. Если пункт меню не
обрабатывается, следует вызвать реализацию суперкласса <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> (реализация
по умолчанию возвращает значение false).</p>

<p>Если в вашей операции имеются фрагменты, система сначала вызовет метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> для операции, а затем
будет вызывать этот метод для каждого фрагмента (в том порядке, в котором они были добавлены), пока он не возвратит
значение<code>true</code> или не закончатся фрагменты.</p>

<p class="note"><strong>Совет.</strong> В Android 3.0 появилась возможность определять в XML поведение
при нажатии для пунктов меню с помощью атрибута <code>android:onClick</code>. Значением этого
атрибута должно быть имя метода, определенное операцией с помощью меню. Этот метод
должен быть общедоступным и принимать один параметр <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru">MenuItem</a></code>, &mdash; когда система
вызывает этот метод, она передает ему выбранный пункт меню. Подробные сведения и пример см. в документе <a href="../resources/menu-resource9201.html?hl=ru">Ресурс меню</a>.</p>

<p class="note"><strong>Совет.</strong> Если в приложении предусмотрено несколько операций и
в некоторых из них имеются одинаковые меню параметров, рассмотрите возможность создания
операции, которая будет использовать исключительно методы <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> и <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code>. Затем распространите этот класс на все операции, у которых должно быть
одинаковое меню параметров. Таким образом можно управлять одним набором кода для обработки действий
меню, а каждый класс-потомок при этом будет наследовать режимы работы меню.
Если требуется добавить пункты меню в одну из операций-потомков,
переопределите метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> в этой операции. Вызовите метод <code>super.onCreateOptionsMenu(menu)</code>, с тем чтобы
создать первоначальные пункты меню, а затем добавьте новые пункты меню с помощью метода <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#add(int, int, int, int)">menu.add()</a></code>. Также можно переопределять режимы работы
суперкласса для отдельных пунктов меню.</p>


<h3 id="ChangingTheMenu">Изменение пунктов меню во время выполнения</h3>

<p>После того как система вызовет метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code>, она сохранит заполненный вами экземпляр <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code> и
будет вызывать метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code>
,только если меню по каким-то причинам станет некорректным. Однако метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> следует использовать только для создания начального
состояния меню, а не для внесения в него изменений в течение жизненного цикла операции.</p>

<p>Если вам требуется изменять меню параметров в зависимости от
событий, которые возникают в течение жизненного цикла операции, сделать это можно в
методе<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code>. Этот
метод передает объект <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code> в том виде, в котором он в данный момент существует. Его-то и можно изменить
путем, например, добавления, удаления или отключения пунктов меню. (Фрагменты также предоставляют обратный вызов <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code>.)</p>

<p>В версии Android 2.3.x или более ранней система вызывает метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code> каждый раз, когда пользователь открывает меню параметров (нажимает кнопку <em>Меню</em>
).</p>

<p>В версии Android 3.0 и последующих версиях считается, что меню параметров всегда открыто, когда пункты меню
приведены в строке действий. Когда возникает событие и требуется обновить меню, следует
вызвать метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#invalidateOptionsMenu()">invalidateOptionsMenu()</a></code>, чтобы запросить у
системы вызов метода <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code>.</p>

<p class="note"><strong>Примечание.</strong>
Никогда не следует изменять пункты меню параметров с учетом класса <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, действующего
в данный момент. В сенсорном режиме (когда пользователь не использует трекбол или кнопки направления движения) фокус
не может переводиться на представления, поэтому никогда не следует использовать фокус в качестве основы для изменения
пунктов меню параметров. Если вы желаете предоставить пункты меню, которые зависят от контекста <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, используйте <a href="#context-menu">контекстное меню</a>.</p>




<h2 id="context-menu">Создание контекстного меню</h2>

<div class="figure" style="width:420px;margin-top:-1em">
  <img src="../../../images/ui/menu-context9201.png?hl=ru" alt="" />
  <p class="img-caption"><strong>Рисунок 3</strong>. Снимки экрана с плавающим контекстным меню (слева)
и строкой контекстных действий (справа).</p>
</div>

<p>В контекстном меню содержатся действия, которые затрагивают определенный элемент или контекстный кадр в пользовательском интерфейсе. Контекстное
меню можно создать для любого представления, но чаще всего они используются для элементов из <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code>, <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=ru">GridView</a></code> или других групп представлений, в которых
пользователь может выполнять действия непосредственно с каждым элементом.</p>

<p>Существует два способа предоставления возможности контекстных действий:</p>
<ul>
  <li>В <a href="#FloatingContextMenu">плавающем контекстном меню</a>. Меню отображается в виде
плавающего списка пунктов меню (наподобие диалогового окна), когда пользователь длительно нажимает на экран (нажимает и
удерживает нажатым) в представлении, которое объявляет поддержку контекстного меню. Пользователи могут каждый раз выполнять контекстное
действие только с одним элементом.</li>

  <li>В <a href="#CAB">режиме контекстных действий</a>. Этот режим является системной реализацией
<code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code>, которая отображает <em>строку контекстных действий</em> вверху
экрана с пунктами действий, которые затрагивают выбранные элементы. Когда этот режим активен, пользователи
могут одновременно выполнять действие с несколькими элементами (если это допускается приложением).</li>
</ul>

<p class="note"><strong>Примечание.</strong> Режим контекстных действий поддерживается в версии Android 3.0 (уровень API
11) и последующих версиях. Если этот режим предусмотрен, именно его рекомендуется использовать для отображения контекстных
действий. Если ваше приложение поддерживает версии ниже 3.0, то для этих устройств следует вернуться к плавающему
контекстному меню.</p>


<h3 id="FloatingContextMenu">Создание плавающего контекстного меню</h3>

<p>Программирование плавающего контекстного меню</p>
<ol>
  <li>Зарегистрируйте класс <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, с которым следует связать контекстное меню,
вызвав метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code> и передав
ему <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>.
  <p>Если операция использует <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code> или <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=ru">GridView</a></code> и
требуется, чтобы каждый элемент предоставлял одинаковое контекстное меню, зарегистрируйте все элементы для контекстного меню,
передав <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code> или <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=ru">GridView</a></code> методу <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code>.</p>
</li>

  <li>Реализуйте метод <code><a href="https://developer.android.com/reference/android/view/View.OnCreateContextMenuListener.html?hl=ru#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code> в
 <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code> или <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>.
  <p>Когда зарегистрированное представление примет событие длительного нажатия, система вызовет ваш метод <code><a href="https://developer.android.com/reference/android/view/View.OnCreateContextMenuListener.html?hl=ru#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>
. Именно здесь определяются пункты меню. Делается это обычно путем загрузки ресурса меню. Например:
</p>
<pre>
&#64;Override
public void onCreateContextMenu(ContextMenu menu, View v,
                                ContextMenuInfo menuInfo) {
    super.onCreateContextMenu(menu, v, menuInfo);
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.context_menu, menu);
}
</pre>

<p><code><a href="https://developer.android.com/reference/android/view/MenuInflater.html?hl=ru">MenuInflater</a></code> позволяет загружать контекстное меню из <a href="../resources/menu-resource9201.html?hl=ru">ресурса меню</a>. В число параметров метода
обратного вызова входят <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>,
выбранный пользователем, и объект<code><a href="https://developer.android.com/reference/android/view/ContextMenu.ContextMenuInfo.html?hl=ru">ContextMenu.ContextMenuInfo</a></code>, который предоставляет
дополнительную информацию о выбранном элементе. Если в вашей операции есть несколько представлений и все они предоставляют
разные контекстные меню, то с помощью этих параметров можно определять, какое контекстное меню
загружать.</p>
</li>

<li>Реализуйте метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onContextItemSelected(android.view.MenuItem)">onContextItemSelected()</a></code>.
  <p>Когда пользователь выбирает пункт меню, система вызывает этот метод, с тем чтобы вы могли выполнить
соответствующее действие. Например:</p>

<pre>
&#64;Override
public boolean onContextItemSelected(MenuItem item) {
    AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();
    switch (item.getItemId()) {
        case R.id.edit:
            editNote(info.id);
            return true;
        case R.id.delete:
            deleteNote(info.id);
            return true;
        default:
            return super.onContextItemSelected(item);
    }
}
</pre>

<p>Метод <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru#getItemId()">getItemId()</a></code> запрашивает идентификатор для
выбранного пункта меню. Идентификаторы должны быть назначены каждому пункту меню в файле XML с помощью атрибута <code>android:id</code>, как описано в разделе <a href="#xml">Определение меню в файле
XML</a>.</p>

<p>Когда пункт меню успешно обработан, возвращается <code>true</code>. Если пункт меню не
обрабатывается, следует передать его реализации суперкласса. Если в вашей операции есть фрагменты,
то она получит этот обратный вызов первой. Вызывая суперкласс, когда пункт меню не обрабатывается, система
передает событие соответствующему методу обратного вызова в каждом фрагменте по одному (в порядке
добавления каждого фрагмента), пока не будет возвращено значение <code>true</code> или <code>false</code>. (Реализация
<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code> и <code>android.app.Fragment</code> по умолчанию возвращает <code>false</code>, поэтому, когда событие не обрабатывается, следует всегда вызывать суперкласс.)</p>
</li>
</ol>


<h3 id="CAB">Использование режима контекстных действий</h3>

<p>Режим контекстных действий представляет собой системную реализацию класса <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code>, которая
направляет пользователя на выполнение контекстных действий при взаимодействии с приложением. Когда
пользователь использует этот режим, выбирая элемент, вверху экрана открывается <em>строка контекстных действий</em>,
содержащая действия, которые пользователь может выполнить с выбранными в данный момент элементами. В этом режиме
пользователь может выбирать несколько элементов (если это допускается приложением), снимать выделения с элементов и продолжать
навигацию в операции (в тех пределах, в которых это поддерживается приложением). Режим контекстных действий отключается,
а строка контекстных действий исчезает, когда пользователь снимет выделение со всех элементов, нажмет кнопку НАЗАД
или выберет действие <em>Готово</em>, расположенное с левой стороны строки.</p>

<p class="note"><strong>Примечание.</strong> Строка контекстных действий не обязательно бывает
связана со <a href="https://developer.android.com/training/appbar/index.html?hl=ru">строкой действий</a>. Они работают
независимо друг от друга, даже несмотря на то, что визуально строка контекстных действий занимает положение
строки действий.</p>

<p>Если вы разрабатываете приложение для версии Android 3.0 (уровень API 11) или последующих версий, то
обычно вместо <a href="#FloatingContextMenu">плавающего контекстного меню</a> вам следует использовать контекстные действия.</p>

<p>Для представлений, которые предоставляют возможность контекстные действия, обычно следует вызывать режим контекстных действий
при возникновении одного из двух (или сразу обоих) событий:</p>
<ul>
  <li>пользователь длительно нажимает в представлении;</li>
  <li>пользователь устанавливает флажок или выбирает другой подобный компонент пользовательского интерфейса в представлении.</li>
</ul>

<p>То, каким образом ваше представление вызывает режим контекстных действий и определяет поведение каждого
действия, зависит от вас. Есть два базовых варианта:</p>
<ul>
  <li>для контекстных действий в отдельных, произвольных представлениях;</li>
  <li>для пакетных контекстных действий с группами элементов в <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code> или <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=ru">GridView</a></code> (что позволяет пользователю выбирать по несколько
элементов и выполнять действие с ними всеми).</li>
</ul>

<p>В следующих разделах описывается конфигурация, необходимая для каждого из этих вариантов.</p>


<h4 id="CABforViews">Включение режима контекстных действий для отдельных представлений</h4>

<p>Если вам требуется вызывать режим контекстных действий, только когда пользователь выбирает определенные
представления, то вам следует:</p>
<ol>
  <li>Реализовать интерфейс <code><a href="https://developer.android.com/reference/android/view/ActionMode.Callback.html?hl=ru">ActionMode.Callback</a></code>. В его методах обратного вызова вы
можете указать действия для строки контекстных действий, реагировать на нажатия пунктов действий и
обрабатывать другие события жизненного цикла для режима действий.</li>
  <li>Вызывайте <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code>, когда требуется показать
строку (например, когда пользователь выполняет длительное нажатие представления).</li>
</ol>

<p>Например:</p>

<ol>
  <li>Реализуйте интерфейс <code><a href="https://developer.android.com/reference/android/view/ActionMode.Callback.html?hl=ru">ActionMode.Callback</a></code>:
<pre>
private ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {

    // Called when the action mode is created; startActionMode() was called
    &#64;Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        // Inflate a menu resource providing context menu items
        MenuInflater inflater = mode.getMenuInflater();
        inflater.inflate(R.menu.context_menu, menu);
        return true;
    }

    // Called each time the action mode is shown. Always called after onCreateActionMode, but
    // may be called multiple times if the mode is invalidated.
    &#64;Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {
        return false; // Return false if nothing is done
    }

    // Called when the user selects a contextual menu item
    &#64;Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        switch (item.getItemId()) {
            case R.id.menu_share:
                shareCurrentItem();
                mode.finish(); // Action picked, so close the CAB
                return true;
            default:
                return false;
        }
    }

    // Called when the user exits the action mode
    &#64;Override
    public void onDestroyActionMode(ActionMode mode) {
        mActionMode = null;
    }
};
</pre>

<p>Обратите внимание, что эти обратные вызовы событий почти точно такие же, как и обратные вызовы для <a href="#options-menu">меню параметров</a>. Отличаются они только тем, что каждый из них также передает объект <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code>, связанный с событием. С помощью API-интерфейсов <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code> можно вносить различные изменения в CAB, например, указывать другой заголовок и
подзаголовок с помощью <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru#setTitle(int)">setTitle()</a></code> и <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru#setSubtitle(int)">setSubtitle()</a></code> (удобно для указания количества выбранных
элементов).</p>

<p>Также обратите внимание, что приведенный выше образец кода задает для переменной <code>mActionMode</code> значение null, когда
режим действия прекращает свое существование. Далее вы узнаете, каким образом он инициализируется и чем может быть
полезно сохранение составной переменной в операции или фрагменте.</p>
</li>

  <li>Для включения режима контекстных действий, когда это необходимо,
например, в ответ на длительное нажатие <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, вызывайте <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code>:</p>

<pre>
someView.setOnLongClickListener(new View.OnLongClickListener() {
    // Called when the user long-clicks on someView
    public boolean onLongClick(View view) {
        if (mActionMode != null) {
            return false;
        }

        // Start the CAB using the ActionMode.Callback defined above
        mActionMode = getActivity().startActionMode(mActionModeCallback);
        view.setSelected(true);
        return true;
    }
});
</pre>

<p>При вызове метода <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code> система возвращает
созданный класс <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code>. Сохранив его в составной переменной, вы сможете
вносить изменения в строку контекстных действий в ответ на другие события. В приведенном выше образце кода
<code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code> используется для того, чтобы экземпляр <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru">ActionMode</a></code>
не создавался повторно, если он уже активен. Достигается это путем проверки, имеет ли элемент значение null перед запуском
режима действий.</p>
</li>
</ol>



<h4 id="CABforListView">Включение пакетных контекстных действий в ListView или GridView</h4>

<p>Если при наличии набора элементов в <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code> или <code><a href="https://developer.android.com/reference/android/widget/GridView.html?hl=ru">GridView</a></code> (либо другом расширении <code><a href="https://developer.android.com/reference/android/widget/AbsListView.html?hl=ru">AbsListView</a></code>) требуется
разрешить пользователям выполнять пакетные действия, следует:</p>

<ul>
  <li>реализовать интерфейс <code><a href="https://developer.android.com/reference/android/widget/AbsListView.MultiChoiceModeListener.html?hl=ru">AbsListView.MultiChoiceModeListener</a></code> и задать его
для группы представлений с помощью метода <code><a href="https://developer.android.com/reference/android/widget/AbsListView.html?hl=ru#setMultiChoiceModeListener(android.widget.AbsListView.MultiChoiceModeListener)">setMultiChoiceModeListener()</a></code>; в методах обратного вызова приемника событий вы можете указывать действия
для строки контекстных действий, реагировать на нажатия пунктов действий и обрабатывать другие обратные вызовы,
унаследованные от интерфейса <code><a href="https://developer.android.com/reference/android/view/ActionMode.Callback.html?hl=ru">ActionMode.Callback</a></code>;</li>

  <li>вызвать метод <code><a href="https://developer.android.com/reference/android/widget/AbsListView.html?hl=ru#setChoiceMode(int)">setChoiceMode()</a></code> с аргументом <code><a href="https://developer.android.com/reference/android/widget/AbsListView.html?hl=ru#CHOICE_MODE_MULTIPLE_MODAL">CHOICE_MODE_MULTIPLE_MODAL</a></code>.</li>
</ul>

<p>Например:</p>

<pre>
ListView listView = getListView();
listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL);
listView.setMultiChoiceModeListener(new MultiChoiceModeListener() {

    &#64;Override
    public void onItemCheckedStateChanged(ActionMode mode, int position,
                                          long id, boolean checked) {
        // Here you can do something when items are selected/de-selected,
        // such as update the title in the CAB
    }

    &#64;Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        // Respond to clicks on the actions in the CAB
        switch (item.getItemId()) {
            case R.id.menu_delete:
                deleteSelectedItems();
                mode.finish(); // Action picked, so close the CAB
                return true;
            default:
                return false;
        }
    }

    &#64;Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        // Inflate the menu for the CAB
        MenuInflater inflater = mode.getMenuInflater();
        inflater.inflate(R.menu.context, menu);
        return true;
    }

    &#64;Override
    public void onDestroyActionMode(ActionMode mode) {
        // Here you can make any necessary updates to the activity when
        // the CAB is removed. By default, selected items are deselected/unchecked.
    }

    &#64;Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {
        // Here you can perform updates to the CAB due to
        // an <code><a href="https://developer.android.com/reference/android/view/ActionMode.html?hl=ru#invalidate()">invalidate()</a></code> request
        return false;
    }
});
</pre>

<p>Готово. Теперь, когда пользователь выберет элемент с помощью длительного нажатия, система вызовет метод <code><a href="https://developer.android.com/reference/android/view/ActionMode.Callback.html?hl=ru#onCreateActionMode(android.view.ActionMode, android.view.Menu)">onCreateActionMode()</a></code>
и отобразит строку контекстных действий с указанными действиями. Пока строка
контекстных действий отображается, пользователи могут выбирать дополнительные элементы.</p>

<p>В некоторых случаях, когда контекстные действия содержат общие пункты, можно
добавить флажок или другой подобный элемент пользовательского интерфейса, с помощью которого пользователи могут выбирать пункты, поскольку они
могут не обнаружить варианта с длительным нажатием. Когда пользователь устанавливает флажок, можно
вызывать режим контекстных действий, переводя соответствующий элемент списка в выбранное
состояние с помощью <code><a href="https://developer.android.com/reference/android/widget/AbsListView.html?hl=ru#setItemChecked(int, boolean)">setItemChecked()</a></code>.</p>




<h2 id="PopupMenu">Создание всплывающего меню</h2>

<div class="figure" style="width:220px">
<img src="../../../images/ui/popupmenu9201.png?hl=ru" alt="" />
<p><strong>Рисунок 4</strong>. Всплывающее меню в приложении Gmail, привязанное к расположенной вверху справа кнопке открытия панели
дополнительных пунктов.</p>
</div>

<p><code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru">PopupMenu</a></code> является модальным меню, привязанным к <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>.
Оно отображается ниже представления, к которому привязано, если там есть место, либо поверх него. Варианты использования:</p>
<ul>
  <li>Предоставление меню с дополнительными пунктами для действий, которые <em>относятся к</em> определенному контенту (например,
к заголовкам сообщений Gmail, показанным на рисунке 4).
    <p class="note"><strong>Примечание.</strong> Оно отличается от контекстного меню, которое
обычно используется для действий, <em>затрагивающих</em> выбранный контент. Для действий, которые затрагивают выбранный
контент, используйте <a href="#CAB">режим контекстных действий</a> или <a href="#FloatingContextMenu">плавающее контекстное меню</a>.</p></li>
  <li>Предоставление второй части командной последовательности (например, кнопки, обозначенной как "Добавить",
которая открывает всплывающее меню с различными вариантами добавления);</li>
  <li>Предоставление раскрывающегося меню наподобие <code><a href="https://developer.android.com/reference/android/widget/Spinner.html?hl=ru">Spinner</a></code>, которое не сохраняет
постоянное выделение.</li>
</ul>


<p class="note"><strong>Примечание.</strong> Использование класса <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru">PopupMenu</a></code> поддерживается на уровне API
 11 и выше.</p>

<p>Если для <a href="#xml">определения меню используется XML</a>, вот каким образом можно показать всплывающее меню:</p>
<ol>
  <li>Создайте экземпляр класса <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru">PopupMenu</a></code> с помощью его конструктора, принимающий
текущие <code><a href="https://developer.android.com/reference/android/content/Context.html?hl=ru">Context</a></code> и <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code> приложения, к которым
должно быть привязано меню.</li>
  <li>С помощью <code><a href="https://developer.android.com/reference/android/view/MenuInflater.html?hl=ru">MenuInflater</a></code> загрузите свой ресурс меню в объект <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru">Menu</a></code>, возвращенный методом <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru#getMenu()">PopupMenu.getMenu()</a></code>. На API уровня 14 и выше вместо этого можно использовать
<code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru#inflate(int)">PopupMenu.inflate()</a></code>.</li>
  <li>Вызовите метод <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru#show()">PopupMenu.show()</a></code>.</li>
</ol>

<p>Например, вот кнопка с атрибутом <code><a href="https://developer.android.com/reference/android/R.attr.html?hl=ru#onClick">android:onClick</a></code>,
которая показывает всплывающее меню:</p>

<pre>
&lt;ImageButton
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/ic_overflow_holo_dark"
    android:contentDescription="@string/descr_overflow_button"
    android:onClick="showPopup" />
</pre>

<p>После этого операция сможет показать вот такое всплывающее меню:</p>

<pre>
public void showPopup(View v) {
    PopupMenu popup = new PopupMenu(this, v);
    MenuInflater inflater = popup.getMenuInflater();
    inflater.inflate(R.menu.actions, popup.getMenu());
    popup.show();
}
</pre>

<p>На API уровня 14 и выше можно объединить две строки, которые загружают меню, с помощью <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru#inflate(int)">PopupMenu.inflate()</a></code>.</p>

<p>Меню закрывается, когда пользователь выбирает один из пунктов или касается экрана за пределами области
меню. Прослушивать событие закрытия меню можно с помощью <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.OnDismissListener.html?hl=ru">PopupMenu.OnDismissListener</a></code>.</p>

<h3 id="PopupEvents">Обработка нажатий</h3>

<p>Для выполнения
действия, когда пользователь выбирает пункт меню, необходимо реализовать интерфейс <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.OnMenuItemClickListener.html?hl=ru">PopupMenu.OnMenuItemClickListener</a></code> и зарегистрировать его в своем <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru">PopupMenu</a></code>, вызвав метод <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.html?hl=ru#setOnMenuItemClickListener(android.widget.PopupMenu.OnMenuItemClickListener)">setOnMenuItemclickListener()</a></code>. Когда пользователь выбирает пункт меню, система выполняет обратный вызов <code><a href="https://developer.android.com/reference/android/widget/PopupMenu.OnMenuItemClickListener.html?hl=ru#onMenuItemClick(android.view.MenuItem)">onMenuItemClick()</a></code> в
вашем интерфейсе.</p>

<p>Например:</p>

<pre>
public void showMenu(View v) {
    PopupMenu popup = new PopupMenu(this, v);

    // This activity implements OnMenuItemClickListener
    popup.setOnMenuItemClickListener(this);
    popup.inflate(R.menu.actions);
    popup.show();
}

&#64;Override
public boolean onMenuItemClick(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.archive:
            archive(item);
            return true;
        case R.id.delete:
            delete(item);
            return true;
        default:
            return false;
    }
}
</pre>


<h2 id="groups">Создание групп меню</h2>

<p>Группа меню ― это набор пунктов меню с рядом общих характеристик. С помощью группы
можно:</p>
<ul>
  <li>показывать или скрывать все пункты с помощью <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#setGroupVisible(int, boolean)">setGroupVisible()</a></code>;</li>
  <li>включать или отключать все пункты с помощью <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#setGroupEnabled(int, boolean)">setGroupEnabled()</a></code>;</li>
  <li>Указывать, можно ли помечать все пункты, с помощью <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#setGroupCheckable(int, boolean, boolean)">setGroupCheckable()</a></code>.</li>
</ul>

<p>Для создания группы необходимо вложить элементы <code>&amp;lt;item&amp;gt;</code> в элемент <code>&amp;lt;group&amp;gt;</code>
в своем ресурсе меню либо указать идентификатор группы с помощью метода <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#add(int, int, int, int)">add()</a></code>.</p>

<p>Вот пример ресурса меню, в котором имеется группа:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/menu_save"
          android:icon="@drawable/menu_save"
          android:title="@string/menu_save" /&gt;
    &lt;!-- menu group --&gt;
    &lt;group android:id="@+id/group_delete"&gt;
        &lt;item android:id="@+id/menu_archive"
              android:title="@string/menu_archive" /&gt;
        &lt;item android:id="@+id/menu_delete"
              android:title="@string/menu_delete" /&gt;
    &lt;/group&gt;
&lt;/menu&gt;
</pre>

<p>Элементы, находящиеся в группе, отображаются на одном уровне с первым элементом &mdash; все три пункта
меню являются элементами одного уровня. Однако можно изменить характеристики двух
пунктов из группы, указав ссылку на идентификатор группы и воспользовавшись приведенными выше методами. Кроме того,
система никогда не будет разделять сгруппированные пункты. Например, если объявить <code>android:showAsAction="ifRoom"</code> для каждого пункта, то они оба будут отображены либо в строке
действий, либо в дополнительных действиях.</p>


<h3 id="checkable">Использование пунктов меню, которые можно пометить</h3>

<div class="figure" style="width:200px">
  <img src="../../../images/radio_buttons9201.png?hl=ru" height="333" alt="" />
  <p class="img-caption"><strong>Рисунок 5</strong>. Снимок экрана с вложенным меню, пункты которого можно
пометить.</p>
</div>

<p>Такое меню можно использовать в качестве интерфейса для включения и отключения тех или иных параметров. При этом для автономных
параметров используется флажок, а для групп
взаимоисключающих вариантов ― переключатель. На рисунке 5 показано вложенное меню с пунктами, которые можно выбирать с помощью
переключателей.</p>

<p class="note"><strong>Примечание.</strong> Пункты в меню значков (из меню параметров) не могут
отображать флажки или переключатели. Если вы решите сделать так, чтобы пункты меню значков можно было помечать,
вам необходимо будет вручную указать помеченное состояние путем замены значка и/или теста
при каждом изменении состояния.</p>

<p>Определять возможность помечать отдельные пункты меню можно с помощью атрибута <code>android:checkable</code> в элементе <code>&amp;lt;item&amp;gt;</code>, а для всей группы это делается с помощью
атрибута <code>android:checkableBehavior</code> в элементе <code>&amp;lt;group&amp;gt;</code>. Например
, все пункты этой группы меню можно помечать с помощью переключателей:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;group android:checkableBehavior="single"&gt;
        &lt;item android:id="@+id/red"
              android:title="@string/red" /&gt;
        &lt;item android:id="@+id/blue"
              android:title="@string/blue" /&gt;
    &lt;/group&gt;
&lt;/menu&gt;
</pre>

<p>Атрибут <code>android:checkableBehavior</code> принимает один из трех параметров:
<dl>
  <dt><code>single</code></dt>
    <dd>Только один пункт из группы можно пометить (переключатель)</dd>
  <dt><code>all</code></dt>
    <dd>Все пункты можно пометить (флажки)</dd>
  <dt><code>none</code></dt>
    <dd>Пометить нельзя ни один пункт</dd>
</dl>

<p>Для того чтобы применить к пункту помеченное состояние по умолчанию, служит атрибут <code>android:checked</code> в
элементе <code>&amp;lt;item&amp;gt;</code>, а изменить его в коде можно с помощью метода <code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru#setChecked(boolean)">setChecked()</a></code>.</p>

<p>Когда выбирается пункт, который может быть помечен, система вызывает соответствующий ему метод обратного вызова
(например <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code>). Именно
здесь необходимо задать состояние флажка, поскольку флажок или переключатель не
изменяет свое состояние автоматически. Запросить текущее состояние пункта (в котором он находился до того, как был
выбран пользователем) можно с помощью<code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru#isChecked()">isChecked()</a></code>, а затем задать помеченное состояние с помощью
<code><a href="https://developer.android.com/reference/android/view/MenuItem.html?hl=ru#setChecked(boolean)">setChecked()</a></code>. Например:</p>

<pre>
&#64;Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.vibrate:
        case R.id.dont_vibrate:
            if (item.isChecked()) item.setChecked(false);
            else item.setChecked(true);
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
}
</pre>

<p>Если помеченное состояние не установить этим способом, то, когда пользователь выберет пункт, его отображаемое состояние (флажок или
переключатель) не
изменится. Если же помеченное состояние установить, операция сохранит его
для пункта, с тем чтобы, когда пользователь откроет это меню, он увидел,
что галочка поставлена.</p>

<p class="note"><strong>Примечание.</strong>
Пункты меню, которые можно пометить галочкой, предназначены для использования только в рамках одного сеанса. Они не сохраняются после
прекращения существования приложения. Если имеются настройки приложения, которые требуется сохранить для пользователя,
делать это следует с помощью <a href="../data/data-storage9201.html?hl=ru#pref">общих настроек</a>.</p>



<h2 id="intents">Добавление пунктов меню на основе объектов Intent</h2>

<p>Иногда требуется, чтобы пункт меню запускал операцию с помощью объекта <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru">Intent</a></code>
(это может быть операция как из вашего, так и из другого приложения). Когда вам известен объект Intent, который
требуется использовать, и у вас есть определенный пункт меню, который должен инициировать этот объект Intent, можно выполнить объект
Intent с помощью <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#startActivity(android.content.Intent)">startActivity()</a></code> во время
выполнения соответствующего метода обратного вызова, запускаемого при выборе пункта меню (например, обратного вызова <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code>).</p>

<p>Однако если вы не уверены, что на устройстве пользователя
есть приложение, которое может обработать этот объект Intent, добавление пункта меню, который его вызывает, может привести
к тому, что он не будет работать, поскольку объект Intent может не быть передан в
операцию. Чтобы решить эту проблему, Android позволяет динамически добавлять в меню пункты,
когда система Android обнаруживает на устройстве операции, которые могут обработать ваш объект Intent.</p>

<p>Добавление пунктов меню на основе имеющихся операций, которые принимают объект Intent:</p>
<ol>
  <li>Определите объект
с категорией <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#CATEGORY_ALTERNATIVE">CATEGORY_ALTERNATIVE</a></code> и/или
<code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code>, а также с любыми другими условиями.</li>
  <li>Вызовите метод <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">Menu.addIntentOptions()</a></code>. Затем Android выполнит поиск приложений, которые могут выполнить этот объект Intent,
и добавит их в ваше меню.</li>
</ol>

<p>При отсутствии установленных приложений,
которые удовлетворяют требованиям объекта Intent, ни одного пункта меню добавлено не будет.</p>

<p class="note"><strong>Примечание.</strong>
<code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code> используется для обработки элемента, выбранного
в данный момент на экране. Поэтому его следует использовать только при создании меню в <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>.</p>

<p>Например:</p>

<pre>
&#64;Override
public boolean onCreateOptionsMenu(Menu menu){
    super.onCreateOptionsMenu(menu);

    // Create an Intent that describes the requirements to fulfill, to be included
    // in our menu. The offering app must include a category value of Intent.CATEGORY_ALTERNATIVE.
    Intent intent = new Intent(null, dataUri);
    intent.addCategory(Intent.CATEGORY_ALTERNATIVE);

    // Search and populate the menu with acceptable offering applications.
    menu.addIntentOptions(
         R.id.intent_group,  // Menu group to which new items will be added
         0,      // Unique item ID (none)
         0,      // Order for the items (none)
         this.getComponentName(),   // The current activity name
         null,   // Specific items to place first (none)
         intent, // Intent created above that describes our requirements
         0,      // Additional flags to control items (none)
         null);  // Array of MenuItems that correlate to specific items (none)

    return true;
}</pre>

<p>Каждая обнаруженная операция, в которой имеется фильтр Intent, соответствующий данному объекту Intent, добавляется в виде
пункта меню. Для этого значение из элемента <code>android:label</code> фильтра Intent используется в качестве
заголовка пункта меню, а значок приложения ― в качестве значка этого пункта меню. Метод
<code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">addIntentOptions()</a></code> возвращает количество добавленных пунктов меню.</p>

<p class="note"><strong>Примечание.</strong> При вызове метода <code><a href="https://developer.android.com/reference/android/view/Menu.html?hl=ru#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">addIntentOptions()</a></code> он переопределяет все пункты меню по группе меню, указанной в первом
аргументе.</p>


<h3 id="AllowingToAdd">Предоставление возможности добавить свою операцию в другие меню</h3>

<p>Вы также можете предоставить другим приложениям возможность воспользоваться своей операцией, с тем чтобы ваше
приложение могло быть включено в меню других приложений (процедура, обратная описанной выше).</p>

<p>Чтобы операция могла быть включена в меню других приложений, необходимо определить фильтр
Intent обычным образом, но непременно включить в него значения <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#CATEGORY_ALTERNATIVE">CATEGORY_ALTERNATIVE</a></code>
и/или <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code> для категории фильтра
Intent. Например:</p>
<pre>
&lt;intent-filter label="&#64;string/resize_image">
    ...
    &lt;category android:name="android.intent.category.ALTERNATIVE" />
    &lt;category android:name="android.intent.category.SELECTED_ALTERNATIVE" />
    ...
&lt;/intent-filter>
</pre>

<p>Подробные сведения о написании фильтров Intent см. в документе
<a href="../../components/intents-filters9201.html?hl=ru">Объекты Intent и фильтры объектов Intent</a>.</p>

<p>Образец приложения, в котором используется эта методика, см. в образце кода
<a href="https://developer.android.com/resources/samples/NotePad/src/com/example/android/notepad/NoteEditor.html?hl=ru">Note
Pad</a>.</p>



    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=ru" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Блог" target="_blank">Блог</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=ru" title="Поддержка">Поддержка</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=ru" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=ru" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=ru" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=ru" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="ej_ikjbbFi0v3nc1BRJAyJFQw72nH4ir1smKqU8m38E6MTQ5NzUxNjM5NDg0NjM3MA" />
      <input type="hidden" name="next" value="menus.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
            >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
            >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
             selected="selected" >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
            >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Адрес электронной почты</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../../ytblogger_lists_unified05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../android_metadata_en05ec.js?hl=ru?v=2017061508" defer></script>
  
  <script src="../../../reference/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/gms_lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/wearable/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/test/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/constraint/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=ru"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_ru.js?hl=ru?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/topics/ui/menus.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:07:18 GMT -->
</html>
