





<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from developer.android.com/guide/topics/ui/settings.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:07:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="sJy38HSvt1UImP1QX-WCQXhS0t6LWCeoqaQt4xTd5x06MTQ5NzUxNjM5NTQ2MDk3MA" />

  
    <link rel="canonical" href="settings9201.html?hl=ru">
  

  
    <link rel="alternate" href="settings9201.html?hl=ru" hreflang="ru">
  
    <link rel="alternate" href="settingsf854.html?hl=zh-tw" hreflang="zh-Hant">
  
    <link rel="alternate" href="settings327f.html?hl=vi" hreflang="vi">
  
    <link rel="alternate" href="settings0b8e.html?hl=zh-cn" hreflang="zh-Hans">
  
    <link rel="alternate" href="settings7554.html?hl=es-419" hreflang="es-419">
  
    <link rel="alternate" href="settings232e.html?hl=ko" hreflang="ko">
  
    <link rel="alternate" href="settings0cf2.html?hl=id" hreflang="id">
  
    <link rel="alternate" href="settings9e29.html?hl=ja" hreflang="ja">
  
    <link rel="alternate" href="settings6dd3.html?hl=pt-br" hreflang="pt-br">
  
    <link rel="alternate" href="settings.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=ru" hreflang="ru-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=zh-tw" hreflang="zh-Hant-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=vi" hreflang="vi-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=zh-cn" hreflang="zh-Hans-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=es-419" hreflang="es-419-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=ko" hreflang="ko-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=id" hreflang="id-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=ja" hreflang="ja-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html?hl=pt-br" hreflang="pt-br-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/topics/ui/settings.html" hreflang="en-cn">
  

  <link rel="alternate" href="settings.html" hreflang="x-default">




<link rel="shortcut icon" href="../../../_static/f304fc21fa/images/android/favicon9201.png?hl=ru">

<link rel="apple-touch-icon" href="../../../_static/f304fc21fa/images/android/touchicon-1809201.png?hl=ru">


<title>

  Настройки | Android Developers

</title>

  <meta name="description" content="В приложениях часто содержатся настройки, которые позволяют пользователю изменять возможности и поведение приложения. Например, некоторые приложения позволяют пользователям включать и выключать уведомления или указывать частоту синхронизации данных приложения…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../../static/css/default05ec.css?hl=ru?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../../_static/f304fc21fa/js/android_3p-bundle9201.js?hl=ru" type="text/javascript"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_closure_android__ru9201.js?hl=ru"></script>
<script src="../../../_static/f304fc21fa/js/script_foot_android9201.js?hl=ru"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../../static/js/docs05ec.js?hl=ru?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "ru", "served": "ru"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=ru">
          <img class="dac-header-logo-image" src="../../../static/images/android_logo9201.png?hl=ru"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=ru"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=ru"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=ru"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=ru"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=ru" width="18" height="19" alt="Play Console">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Поиск">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Назад</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../../index9201.html?hl=ru" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/fundamentals9201.html?hl=ru" >App Fundamentals</a></li><li><a href="../../practices/compatibility9201.html?hl=ru" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../permissions/index9201.html?hl=ru" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../permissions/requesting9201.html?hl=ru" >Requesting Permissions</a></li><li><a href="../permissions/defining9201.html?hl=ru" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../platform/index9201.html?hl=ru" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../platform/j8-jack9201.html?hl=ru"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../../practices/verifying-apps-art9201.html?hl=ru" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/index9201.html?hl=ru" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../components/intents-filters9201.html?hl=ru" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/intents-common9201.html?hl=ru" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/activities/index9201.html?hl=ru" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/activities/intro-activities9201.html?hl=ru" >Introduction to Activities</a></li><li><a href="../../components/activities/activity-lifecycle9201.html?hl=ru" >The Activity Lifecycle</a></li><li><a href="../../components/activities/state-changes9201.html?hl=ru" >Activity State Changes</a></li><li><a href="../../components/activities/tasks-and-back-stack9201.html?hl=ru" >Tasks and Back Stack</a></li><li><a href="../../components/activities/process-lifecycle9201.html?hl=ru" >Processes and Application Lifecycle</a></li><li><a href="../../components/activities/parcelables-and-bundles9201.html?hl=ru" >Parcelables and Bundles</a></li><li><a href="../../components/activities/recents9201.html?hl=ru" >Recents Screen</a></li></ul></li><li><a href="../../components/fragments9201.html?hl=ru" >Fragments</a></li><li><a href="../../components/loaders9201.html?hl=ru" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="../../components/services9201.html?hl=ru" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../components/bound-services9201.html?hl=ru" >Bound Services</a></li><li><a href="../../components/aidl9201.html?hl=ru" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../providers/content-providers9201.html?hl=ru" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../providers/content-provider-basics9201.html?hl=ru" >Content Provider Basics</a></li><li><a href="../providers/content-provider-creating9201.html?hl=ru" >Creating a Content Provider</a></li><li><a href="../providers/calendar-provider9201.html?hl=ru" >Calendar Provider</a></li><li><a href="../providers/contacts-provider9201.html?hl=ru" >Contacts Provider</a></li><li><a href="../providers/document-provider9201.html?hl=ru" >Open files using Storage Access Framework</a></li><li><a href="../providers/create-document-provider9201.html?hl=ru" >Create a Custom Document Provider</a></li></ul></li><li><a href="../../components/broadcasts9201.html?hl=ru" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../appwidgets/index9201.html?hl=ru" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../appwidgets/host9201.html?hl=ru" >App Widget Host</a></li></ul></li><li><a href="../../components/processes-and-threads9201.html?hl=ru" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/index9201.html?hl=ru" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/overview9201.html?hl=ru" >Overview</a></li><li><a href="../resources/providing-resources9201.html?hl=ru" >Providing Resources</a></li><li><a href="../resources/accessing-resources9201.html?hl=ru" >Accessing Resources</a></li><li><a href="../resources/runtime-changes9201.html?hl=ru" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/localization9201.html?hl=ru" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/icu4j-framework9201.html?hl=ru" >ICU4J Android Framework APIs</a></li><li><a href="../resources/multilingual-support9201.html?hl=ru" >Language and Locale</a></li></ul></li><li><a href="../resources/complex-xml-resources9201.html?hl=ru" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../resources/available-resources9201.html?hl=ru" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../resources/animation-resource9201.html?hl=ru" >Animation</a></li><li><a href="../resources/color-list-resource9201.html?hl=ru" >Color State List</a></li><li><a href="../resources/drawable-resource9201.html?hl=ru" >Drawable</a></li><li><a href="../resources/layout-resource9201.html?hl=ru" >Layout</a></li><li><a href="../resources/menu-resource9201.html?hl=ru" >Menu</a></li><li><a href="../resources/string-resource9201.html?hl=ru" >String</a></li><li><a href="../resources/style-resource9201.html?hl=ru" >Style</a></li><li><a href="../resources/more-resources9201.html?hl=ru" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../manifest/manifest-intro9201.html?hl=ru" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../manifest/action-element9201.html?hl=ru" >&lt;action&gt;</a></li><li><a href="../manifest/activity-element9201.html?hl=ru" >&lt;activity&gt;</a></li><li><a href="../manifest/activity-alias-element9201.html?hl=ru" >&lt;activity-alias&gt;</a></li><li><a href="../manifest/application-element9201.html?hl=ru" >&lt;application&gt;</a></li><li><a href="../manifest/category-element9201.html?hl=ru" >&lt;category&gt;</a></li><li><a href="../manifest/compatible-screens-element9201.html?hl=ru" >&lt;compatible-screens&gt;</a></li><li><a href="../manifest/data-element9201.html?hl=ru" >&lt;data&gt;</a></li><li><a href="../manifest/grant-uri-permission-element9201.html?hl=ru" >&lt;grant-uri-permission&gt;</a></li><li><a href="../manifest/instrumentation-element9201.html?hl=ru" >&lt;instrumentation&gt;</a></li><li><a href="../manifest/intent-filter-element9201.html?hl=ru" >&lt;intent-filter&gt;</a></li><li><a href="../manifest/manifest-element9201.html?hl=ru" >&lt;manifest&gt;</a></li><li><a href="../manifest/meta-data-element9201.html?hl=ru" >&lt;meta-data&gt;</a></li><li><a href="../manifest/path-permission-element9201.html?hl=ru" >&lt;path-permission&gt;</a></li><li><a href="../manifest/permission-element9201.html?hl=ru" >&lt;permission&gt;</a></li><li><a href="../manifest/permission-group-element9201.html?hl=ru" >&lt;permission-group&gt;</a></li><li><a href="../manifest/permission-tree-element9201.html?hl=ru" >&lt;permission-tree&gt;</a></li><li><a href="../manifest/provider-element9201.html?hl=ru" >&lt;provider&gt;</a></li><li><a href="../manifest/receiver-element9201.html?hl=ru" >&lt;receiver&gt;</a></li><li><a href="../manifest/service-element9201.html?hl=ru" >&lt;service&gt;</a></li><li><a href="../manifest/supports-gl-texture-element9201.html?hl=ru" >&lt;supports-gl-texture&gt;</a></li><li><a href="../manifest/supports-screens-element9201.html?hl=ru" >&lt;supports-screens&gt;</a></li><li><a href="../manifest/uses-configuration-element9201.html?hl=ru" >&lt;uses-configuration&gt;</a></li><li><a href="../manifest/uses-feature-element9201.html?hl=ru" >&lt;uses-feature&gt;</a></li><li><a href="../manifest/uses-library-element9201.html?hl=ru" >&lt;uses-library&gt;</a></li><li><a href="../manifest/uses-permission-element9201.html?hl=ru" >&lt;uses-permission&gt;</a></li><li><a href="../manifest/uses-permission-sdk-23-element9201.html?hl=ru" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../manifest/uses-sdk-element9201.html?hl=ru" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="index9201.html?hl=ru" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="overview9201.html?hl=ru" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="declaring-layout9201.html?hl=ru" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="layout/linear9201.html?hl=ru" >Linear Layout</a></li><li><a href="layout/relative9201.html?hl=ru" >Relative Layout</a></li><li><a href="layout/recyclerview9201.html?hl=ru" >Recycler View</a></li><li><a href="layout/listview9201.html?hl=ru" >List View</a></li><li><a href="layout/gridview9201.html?hl=ru" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="controls9201.html?hl=ru" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="controls/button9201.html?hl=ru" >Buttons</a></li><li><a href="controls/checkbox9201.html?hl=ru" >Checkboxes</a></li><li><a href="controls/radiobutton9201.html?hl=ru" >Radio Buttons</a></li><li><a href="controls/togglebutton9201.html?hl=ru" >Toggle Buttons</a></li><li><a href="controls/spinner9201.html?hl=ru" >Spinners</a></li><li><a href="controls/pickers9201.html?hl=ru" >Pickers</a></li></ul></li><li><a href="ui-events9201.html?hl=ru" >Input Events</a></li><li><a href="menus9201.html?hl=ru" >Menus</a></li><li><a href="settings9201.html?hl=ru" >Settings</a></li><li><a href="dialogs9201.html?hl=ru" >Dialogs</a></li><li><a href="notifiers/notifications9201.html?hl=ru" >Notifications</a></li><li><a href="notifiers/toasts9201.html?hl=ru" >Toasts</a></li><li><a href="shortcuts9201.html?hl=ru" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../search/index9201.html?hl=ru" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../search/search-dialog9201.html?hl=ru" >Creating a Search Interface</a></li><li><a href="../search/adding-recent-query-suggestions9201.html?hl=ru" >Adding Recent Query Suggestions</a></li><li><a href="../search/adding-custom-suggestions9201.html?hl=ru" >Adding Custom Suggestions</a></li><li><a href="../search/searchable-config9201.html?hl=ru" >Searchable Configuration</a></li></ul></li><li><a href="multi-window9201.html?hl=ru" >Multi-Window Support</a></li><li><a href="drag-drop9201.html?hl=ru" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="accessibility/index9201.html?hl=ru" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="accessibility/apps9201.html?hl=ru" >Making Apps More Accessible</a></li><li><a href="accessibility/checklist9201.html?hl=ru" >Accessibility Developer Checklist</a></li><li><a href="accessibility/node-tree-debugging9201.html?hl=ru" >Using Node Tree Debugging</a></li><li><a href="accessibility/services9201.html?hl=ru" >Building Accessibility Services</a></li><li><a href="accessibility/custom-views9201.html?hl=ru" >Building Accessible Custom Views</a></li></ul></li><li><a href="themes9201.html?hl=ru" >Styles and Themes</a></li><li><a href="custom-components9201.html?hl=ru" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/index9201.html?hl=ru" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/overview9201.html?hl=ru" >Overview</a></li><li><a href="../graphics/prop-animation9201.html?hl=ru" >Property Animation</a></li><li><a href="../graphics/view-animation9201.html?hl=ru" >View Animation</a></li><li><a href="../graphics/drawable-animation9201.html?hl=ru" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../graphics/2d-graphics9201.html?hl=ru" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../graphics/vector-drawable-resources9201.html?hl=ru" >Vector Drawable</a></li></ul></li><li><a href="../graphics/opengl9201.html?hl=ru" >OpenGL ES</a></li><li><a href="../graphics/hardware-accel9201.html?hl=ru" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/index9201.html?hl=ru" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/compute9201.html?hl=ru" >RenderScript</a></li><li><a href="../renderscript/advanced9201.html?hl=ru" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../renderscript/reference/overview9201.html?hl=ru" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../renderscript/reference/rs_value_types9201.html?hl=ru" >Numerical Types</a></li><li><a href="../renderscript/reference/rs_object_types9201.html?hl=ru" >Object Types</a></li><li><a href="../renderscript/reference/rs_convert9201.html?hl=ru" >Conversion Functions</a></li><li><a href="../renderscript/reference/rs_math9201.html?hl=ru" >Mathematical Constants and Functions</a></li><li><a href="../renderscript/reference/rs_vector_math9201.html?hl=ru" >Vector Math Functions</a></li><li><a href="../renderscript/reference/rs_matrix9201.html?hl=ru" >Matrix Functions</a></li><li><a href="../renderscript/reference/rs_quaternion9201.html?hl=ru" >Quaternion Functions</a></li><li><a href="../renderscript/reference/rs_atomic9201.html?hl=ru" >Atomic Update Functions</a></li><li><a href="../renderscript/reference/rs_time9201.html?hl=ru" >Time Functions and Types</a></li><li><a href="../renderscript/reference/rs_allocation_data9201.html?hl=ru" >Allocation Data Access Functions</a></li><li><a href="../renderscript/reference/rs_object_info9201.html?hl=ru" >Object Characteristics Functions</a></li><li><a href="../renderscript/reference/rs_for_each9201.html?hl=ru" >Kernel Invocation Functions and Types</a></li><li><a href="../renderscript/reference/rs_io9201.html?hl=ru" >Input/Output Functions</a></li><li><a href="../renderscript/reference/rs_debug9201.html?hl=ru" >Debugging Functions</a></li><li><a href="../renderscript/reference/rs_graphics9201.html?hl=ru" >Graphics Functions and Types</a></li><li><a href="../renderscript/reference/index9201.html?hl=ru" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/index9201.html?hl=ru" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/media-apps-overview9201.html?hl=ru" >Media Apps Overview</a></li><li><a href="../media-apps/working-with-a-media-session9201.html?hl=ru" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/audio-app/building-an-audio-app9201.html?hl=ru" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/audio-app/building-a-mediabrowserservice9201.html?hl=ru" >Building a Media Browser Service</a></li><li><a href="../media-apps/audio-app/building-a-mediabrowser-client9201.html?hl=ru" >Building a Media Browser Client</a></li><li><a href="../media-apps/audio-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media-apps/video-app/building-a-video-app9201.html?hl=ru" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media-apps/video-app/building-a-video-player-activity9201.html?hl=ru" >Building a Video Player Activity</a></li><li><a href="../media-apps/video-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li><a href="../media-apps/mediabuttons9201.html?hl=ru" >Responding to Media Buttons</a></li><li><a href="../media-apps/volume-and-earphones9201.html?hl=ru" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../media/index9201.html?hl=ru" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/media-formats9201.html?hl=ru" >Supported Media Formats</a></li><li><a href="../media/mediaplayer9201.html?hl=ru" >MediaPlayer</a></li><li><a href="../media/mediarecorder9201.html?hl=ru" >MediaRecorder</a></li><li><a href="../media/exoplayer9201.html?hl=ru" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../media/media-routing9201.html?hl=ru" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../media/mediarouter9201.html?hl=ru" >MediaRouter API</a></li><li><a href="../media/mediarouteprovider9201.html?hl=ru" >MediaRouteProvider API</a></li></ul></li><li><a href="../media/camera9201.html?hl=ru" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../sensors/index9201.html?hl=ru" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../location/index9201.html?hl=ru" >Location and Maps</a></li><li><a href="../location/strategies9201.html?hl=ru" >Location Strategies</a></li><li><a href="../sensors/sensors_overview9201.html?hl=ru" >Sensors Overview</a></li><li><a href="../sensors/sensors_motion9201.html?hl=ru" >Motion Sensors</a></li><li><a href="../sensors/sensors_position9201.html?hl=ru" >Position Sensors</a></li><li><a href="../sensors/sensors_environment9201.html?hl=ru" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/index9201.html?hl=ru" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/bluetooth9201.html?hl=ru" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/bluetooth-le9201.html?hl=ru" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/nfc/index9201.html?hl=ru" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/nfc/nfc9201.html?hl=ru" >NFC Basics</a></li><li><a href="../connectivity/nfc/advanced-nfc9201.html?hl=ru" >Advanced NFC</a></li><li><a href="../connectivity/nfc/hce9201.html?hl=ru" >Host-based Card Emulation</a></li></ul></li><li><a href="../connectivity/wifip2p9201.html?hl=ru" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../connectivity/usb/index9201.html?hl=ru" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../connectivity/usb/accessory9201.html?hl=ru" >Accessory</a></li><li><a href="../connectivity/usb/host9201.html?hl=ru" >Host</a></li></ul></li><li><a href="../connectivity/sip9201.html?hl=ru" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../text/index9201.html?hl=ru" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/copy-paste9201.html?hl=ru" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../text/creating-input-method9201.html?hl=ru" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../text/image-keyboard9201.html?hl=ru" >Image Keyboard</a></li></ul></li><li><a href="../text/spell-checker-framework9201.html?hl=ru" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../data/index9201.html?hl=ru" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/data-storage9201.html?hl=ru" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../data/backup9201.html?hl=ru" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../data/autobackup9201.html?hl=ru" >Auto Backup</a></li><li><a href="../data/keyvaluebackup9201.html?hl=ru" >Key/Value Backup</a></li><li><a href="../data/testingbackup9201.html?hl=ru" >Testing Backup and Restore</a></li></ul></li><li><a href="../data/install-location9201.html?hl=ru" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../admin/index9201.html?hl=ru" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../admin/device-admin9201.html?hl=ru" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../webapps/index9201.html?hl=ru" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../webapps/targeting9201.html?hl=ru" >Supporting Different Screens in Web Apps</a></li><li><a href="../../webapps/webview9201.html?hl=ru" >Building Web Apps in WebView</a></li><li><a href="../../webapps/migrating9201.html?hl=ru" >Migrating to WebView in Android 4.4</a></li><li><a href="../../webapps/debugging9201.html?hl=ru" >Debugging Web Apps</a></li><li><a href="../../webapps/best-practices9201.html?hl=ru" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../../practices/index9201.html?hl=ru"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../../practices/screens_support9201.html?hl=ru" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../../practices/screens-distribution9201.html?hl=ru" >Distributing to Specific Screens</a></li><li><a href="../../practices/screen-compat-mode9201.html?hl=ru" >Screen Compatibility Mode</a></li></ul></li><li><a href="../../practices/app-design/seamlessness9201.html?hl=ru" >Designing for Seamlessness</a></li><li><a href="../../practices/tablets-and-handsets9201.html?hl=ru" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=ru">Начало</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=ru">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=ru">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=ru">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=ru">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=ru">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=ru"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=ru"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=ru"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">Обучение</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../../index9201.html?hl=ru"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=ru"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Справочники</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=ru">Примеры</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=ru"
           >Библиотеки</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=ru"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=ru"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=ru">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=ru">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=ru">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=ru"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=ru">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=ru">Play Console</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=ru"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=ru"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=ru">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=ru">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Настройки</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">

<h2>Содержание документа</h2>
<ol>
  <li><a href="#Overview">Обзор</a>
    <ol>
      <li><a href="#SettingTypes">Предпочтения</a></li>
    </ol>
  </li>
  <li><a href="#DefiningPrefs">Определение предпочтений в XML</a>
    <ol>
      <li><a href="#Groups">Создание групп настроек</a></li>
      <li><a href="#Intents">Использование намерений</a></li>
    </ol>
  </li>
  <li><a href="#Activity">Создание операции предпочтений</a></li>
  <li><a href="#Fragment">Использование фрагментов предпочтений</a></li>
  <li><a href="#Defaults">Значения настроек по умолчанию</a></li>
  <li><a href="#PreferenceHeaders">Использование заголовков предпочтений</a>
    <ol>
      <li><a href="#CreateHeaders">Создание файла заголовков</a></li>
      <li><a href="#DisplayHeaders">Отображение заголовков</a></li>
      <li><a href="#BackCompatHeaders">Поддержка старых версий посредством заголовков предпочтений</a></li>
    </ol>
  </li>
  <li><a href="#ReadingPrefs">Чтение предпочтений</a>
    <ol>
      <li><a href="#Listening">Отслеживание изменений предпочтений</a></li>
    </ol>
  </li>
  <li><a href="#NetworkUsage">Контроль использования сети</a></li>
  <li><a href="#Custom">Построение пользовательского предпочтения</a>
    <ol>
      <li><a href="#CustomSelected">Указание пользовательского интерфейса</a></li>
      <li><a href="#CustomSave">Сохранение значения настройки</a></li>
      <li><a href="#CustomInitialize">Инициализация текущего значения</a></li>
      <li><a href="#CustomDefault">Предоставление значения по умолчанию</a></li>
      <li><a href="#CustomSaveState">Сохранение и восстановление состояния предпочтений</a></li>
    </ol>
  </li>
</ol>

<h2>Основные классы</h2>
<ol>
  <li><code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code></li>
  <li><code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code></li>
</ol>


<h2>См. также:</h2>
<ol>
  <li><a href="https://developer.android.com/design/patterns/settings.html?hl=ru">Руководство по дизайну настроек</a></li>
</ol>
</div>
</div>




<p>В приложениях часто содержатся настройки, которые позволяют пользователю изменять возможности и поведение приложения. Например,
некоторые приложения позволяют пользователям включать и выключать уведомления или указывать частоту синхронизации
данных приложения с облаком.</p>

<p>Если вы хотите предоставить настройки для вашего приложения, вы должны использовать
API-интерфейсы <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> системы Android для построения интерфейса, согласованного с
привычным для пользователей других приложений Android (включая системные настройки). В этом документе показано,
как построить настройки вашего приложения посредством API-интерфейсов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>.</p>

<div class="note design">
<p><strong>Дизайн настроек</strong></p>
  <p>Подробную информацию о дизайне настроек см. в руководстве по дизайну <a href="https://developer.android.com/design/patterns/settings.html?hl=ru">настроек</a>.</p>
</div>


<img src="../../../images/ui/settings/settings9201.png?hl=ru" alt="" width="435" />
<p class="img-caption"><strong>Рисунок 1.</strong> Снимки экранов настроек приложения Android
для обмена сообщениями. Выбор элемента, заданного посредством <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>,
открывает интерфейс для изменения значения.</p>




<h2 id="Overview">Обзор</h2>

<p>Вместо использования отображаемых объектов <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code> для построения пользовательского интерфейса, настройки создаются
с помощью различных подклассов класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, который вы
объявляете в XML-файле.</p>

<p>Объект <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> является строительным блоком для отдельной
настройки. Каждый объект <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> отображается в виде элемента в списке и предоставляет
соответствующий пользовательский интерфейс для изменения настройки пользователями. Например, <code><a href="https://developer.android.com/reference/android/preference/CheckBoxPreference.html?hl=ru">CheckBoxPreference</a></code> создает элемент списка, который показывает флажок, а <code><a href="https://developer.android.com/reference/android/preference/ListPreference.html?hl=ru">ListPreference</a></code> создает элемент, который открывает диалоговое окно со списком вариантов для выбора.</p>

<p>Каждый добавляемый вами объект <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> имеет соответствующую пару «ключ-значение»,
которую система использует для сохранения настройки в файле <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>
значений настроек вашего приложения по умолчанию. Когда пользователь изменяет настройку, система обновляет соответствующее
значение в файле <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>. Вам потребуется
напрямую взаимодействовать с файлом, связанным с <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>, только в случае,
когда нужно прочитать значение для определения поведения вашего приложения на основе пользовательских настроек.</p>

<p>Значение, сохраненное в <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code> для каждой настройки, может относиться к одному из
следующих типов данных:</p>

<ul>
  <li>Логическое значение</li>
  <li>Число с плавающей точкой</li>
  <li>Целое число</li>
  <li>Длинное целое число</li>
  <li>Строка</li>
  <li>Строка <code><a href="https://developer.android.com/reference/java/util/Set.html?hl=ru">Set</a></code></li>
</ul>

<p>Поскольку пользовательский интерфейс настроек вашего приложения создается посредством объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>,
а не
объектов <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, вам потребуется использовать специализированные подклассы <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code> или
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> для отображения настроек из списка:</p>

<ul>
  <li>Если ваше приложение поддерживает версии Android старше 3.0 (API уровня 10 и ниже), для построения операции
необходимо наследовать класс <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>.</li>
  <li>В операционных системах Android 3.0 и более поздних версиях вы должны вместо этого использовать традиционный класс <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>,
который содержит объект <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> для отображения настроек вашего приложения.
Однако, когда у вас есть несколько групп настроек, вы можете также
использовать <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> для создания макета с двумя панелями для больших экранов.</li>
</ul>

<p>Настройка объекта <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> и экземпляров <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> описана в разделах <a href="#Activity">Создание операции предпочтения</a> и <a href="#Fragment">Использование
фрагментов предпочтений</a>.</p>


<h3 id="SettingTypes">Предпочтения</h3>

<p>Каждая настройка для вашего приложения представлена конкретным подклассом класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Каждый подкласс содержит набор основных свойств, которые позволяют вам
указывать, например, заголовок для настройки и ее значение по умолчанию. Каждый подкласс также содержит
собственные специализированные свойства и пользовательский интерфейс. В качестве примера на рисунке 1 показан снимок экрана настроек
приложения Android для обмена сообщениями. Каждый элемент списка на экране настроек возвращается отдельным объектом <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>.</p>

<p>Ниже приведены самые распространенные предпочтения:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/preference/CheckBoxPreference.html?hl=ru">CheckBoxPreference</a></code></dt>
  <dd>Отображает элемент с флажком для настройки, которая может быть включена или выключена. Сохраненное
значение является логическим (<code>true</code>, если флажок установлен).</dd>

  <dt><code><a href="https://developer.android.com/reference/android/preference/ListPreference.html?hl=ru">ListPreference</a></code></dt>
  <dd>Открывает диалоговое окно со списком переключателей. Сохраненное значение
может относиться к одному из поддерживаемых типов значений (перечисленных выше).</dd>

  <dt><code><a href="https://developer.android.com/reference/android/preference/EditTextPreference.html?hl=ru">EditTextPreference</a></code></dt>
  <dd>Открывает диалоговое окно с виджетом <code><a href="https://developer.android.com/reference/android/widget/EditText.html?hl=ru">EditText</a></code>. Сохраненное значение — <code><a href="https://developer.android.com/reference/java/lang/String.html?hl=ru">String</a></code>.</dd>
</dl>

<p>См. класс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, который содержит список всех остальных подклассов и их
соответствующих свойств.</p>

<p>Конечно, встроенные классы не обеспечивают всех потребностей, и вашему приложению может понадобиться
что-либо более специализированное. Например, в настоящее время система не предоставляет класс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> для выбора числа или даты. Поэтому вам может потребоваться определить
свой собственный подкласс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. См. раздел <a href="#Custom">Построение пользовательского предпочтения</a>.</p>



<h2 id="DefiningPrefs">Определение предпочтений в XML</h2>

<p>Хотя вы можете создавать новые экземпляры объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> в режиме выполнения, вы должны
определить список настроек в файле XML с иерархией
объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Использование файла XML для определения вашей коллекции настроек предпочтительней, поскольку файл
обладает удобочитаемой структурой, которую легко обновлять. Кроме того, настройки вашего приложения
обычно определены заранее, хотя у вас сохраняется возможность изменять коллекцию в режиме выполнения.</p>

<p>Каждый подкласс класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> может быть объявлен посредством элемента XML,
который соответствует имени класса, например, <code>&amp;lt;CheckBoxPreference&amp;gt;</code>.</p>

<p>Вы должны сохранить файл XML в каталоге <code>res/xml/</code>. Хотя вы можете назвать файл любым
именем, традиционно его называют <code>preferences.xml</code>. Обычно вам требуется лишь один файл,
поскольку ветви иерархии (которые открывают собственный список настроек) объявлены с помощью вложенных
экземпляров <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">PreferenceScreen</a></code>.</p>

<p class="note"><strong>Примечание.</strong> Если вы хотите создать макет с несколькими панелями для ваших
настроек, вам потребуются отдельные файлы XML для каждого фрагмента.</p>

<p>Корневой узел XML-файла должен быть элементом <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">&lt;PreferenceScreen&gt;</a></code>. Внутри этого элемента вы добавляете каждый элемент <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Каждый дочерний элемент, который вы добавляете внутри элемента
<code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">&lt;PreferenceScreen&gt;</a></code>, отображается в виде одного
пункта в списке настроек.</p>

<p>Например:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;CheckBoxPreference
        android:key="pref_sync"
        android:title="@string/pref_sync"
        android:summary="@string/pref_sync_summ"
        android:defaultValue="true" />
    &lt;ListPreference
        android:dependency="pref_sync"
        android:key="pref_syncConnectionType"
        android:title="@string/pref_syncConnectionType"
        android:dialogTitle="@string/pref_syncConnectionType"
        android:entries="@array/pref_syncConnectionTypes_entries"
        android:entryValues="@array/pref_syncConnectionTypes_values"
        android:defaultValue="@string/pref_syncConnectionTypes_default" />
&lt;/PreferenceScreen>
</pre>

<p>В этом примере есть <code><a href="https://developer.android.com/reference/android/preference/CheckBoxPreference.html?hl=ru">CheckBoxPreference</a></code> и <code><a href="https://developer.android.com/reference/android/preference/ListPreference.html?hl=ru">ListPreference</a></code>. Оба содержат следующие три атрибута:</p>

<dl>
  <dt><code>android:key</code></dt>
  <dd>Этот атрибут необходим для предпочтений, которые сохраняют значение данных. Он задает уникальный
ключ (строку), который использует система при сохранении значения этой настройки в <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>.
  <p>Этот атрибут <em>не является обязательным</em> только когда предпочтение представляет собой
<code><a href="https://developer.android.com/reference/android/preference/PreferenceCategory.html?hl=ru">PreferenceCategory</a></code> или <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">PreferenceScreen</a></code>, либо
предпочтение указывает намерение <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru">Intent</a></code> для вызова (посредством элемента <a href="#Intents"><code>&amp;lt;intent&amp;gt;</code></a>) или фрагмент <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> для отображения (с помощью атрибута <a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#attr_android:fragment"><code>android:fragment</code></a>).</p>
  </dd>
  <dt><code>android:title</code></dt>
  <dd>Этот атрибут предоставляет имя настройки, отображаемое для пользователя.</dd>
  <dt><code>android:defaultValue</code></dt>
  <dd>Этот атрибут указывает исходное значение, которое система должна установить в файле <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>. Вы должны указать значения по умолчанию для всех
настроек.</dd>
</dl>

<p>Для получения информации обо всех других поддерживаемых атрибутов см. документацию <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> (и соответствующий подкласс).</p>


<div class="figure" style="width:300px">
  <img src="../../../images/ui/settings/settings-titles9201.png?hl=ru" alt="" />
  <p class="img-caption"><strong>Рисунок 2.</strong> Создание категорий
 с заголовками. <br/><b>1.</b> Категория задана элементом <code><a href="https://developer.android.com/reference/android/preference/PreferenceCategory.html?hl=ru">&lt;PreferenceCategory&gt;</a></code>. <br/><b>2.</b> Заголовок
задан посредством атрибута <code>android:title</code>.</p>
</div>


<p>Когда список ваших настроек содержит более 10 элементов, вы, вероятно, захотите добавить заголовки для
определения групп настроек или отобразить эти группы
на отдельном экране. Эти возможности описаны в следующих разделах.</p>


<h3 id="Groups">Создание групп настроек</h3>

<p>Если вы представляете список из 10 или более настроек, пользователям
может быть трудно их просматривать, воспринимать и обрабатывать. Это можно исправить,
разделив некоторые или все настройки на группы, что эффективно преобразует один длинный список в несколько
более коротких списков. Группа связанных настроек может быть представлена одним из двух способов:</p>

<ul>
  <li><a href="#Titles">Использование заголовков</a></li>
  <li><a href="#Subscreens">Использование подэкранов</a></li>
</ul>

<p>Вы можете пользоваться одним или обоими из этих методов группировки для организации настроек в вашем приложении. Принимая
решение об используемом варианте и о разделении настроек на группы, вы должны следовать инструкциям в разделе
<a href="https://developer.android.com/design/patterns/settings.html?hl=ru">Настройки</a> руководства «Дизайн для Android».</p>


<h4 id="Titles">Использование заголовков</h4>

<p>Если вы хотите создать разделители с заголовками между группами настроек (как показано на рисунке 2),
поместите каждую группу объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> внутри <code><a href="https://developer.android.com/reference/android/preference/PreferenceCategory.html?hl=ru">PreferenceCategory</a></code>.</p>

<p>Например:</p>

<pre>
&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;PreferenceCategory
        android:title="&#64;string/pref_sms_storage_title"
        android:key="pref_key_storage_settings">
        &lt;CheckBoxPreference
            android:key="pref_key_auto_delete"
            android:summary="&#64;string/pref_summary_auto_delete"
            android:title="&#64;string/pref_title_auto_delete"
            android:defaultValue="false"... />
        &lt;Preference
            android:key="pref_key_sms_delete_limit"
            android:dependency="pref_key_auto_delete"
            android:summary="&#64;string/pref_summary_delete_limit"
            android:title="&#64;string/pref_title_sms_delete"... />
        &lt;Preference
            android:key="pref_key_mms_delete_limit"
            android:dependency="pref_key_auto_delete"
            android:summary="&#64;string/pref_summary_delete_limit"
            android:title="&#64;string/pref_title_mms_delete" ... />
    &lt;/PreferenceCategory>
    ...
&lt;/PreferenceScreen>
</pre>


<h4 id="Subscreens">Использование подэкранов</h4>

<p>Если вы хотите поместить группу настроек на подэкран (как показано на рисунке 3), поместите каждую группу
объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> внутри <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">PreferenceScreen</a></code>.</p>

<img src="../../../images/ui/settings/settings-subscreen9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 3.</strong> Создание подэкранов. Элемент <code>&amp;lt;PreferenceScreen&amp;gt;</code>
создает пункт, при выборе которого открывается отдельный список вложенных настроек.</p>

<p>Например:</p>

<pre>
&lt;PreferenceScreen  xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;!-- opens a subscreen of settings -->
    &lt;PreferenceScreen
        android:key="button_voicemail_category_key"
        android:title="&#64;string/voicemail"
        android:persistent="false">
        &lt;ListPreference
            android:key="button_voicemail_provider_key"
            android:title="&#64;string/voicemail_provider" ... />
        &lt;!-- opens another nested subscreen -->
        &lt;PreferenceScreen
            android:key="button_voicemail_setting_key"
            android:title="&#64;string/voicemail_settings"
            android:persistent="false">
            ...
        &lt;/PreferenceScreen>
        &lt;RingtonePreference
            android:key="button_voicemail_ringtone_key"
            android:title="&#64;string/voicemail_ringtone_title"
            android:ringtoneType="notification" ... />
        ...
    &lt;/PreferenceScreen>
    ...
&lt;/PreferenceScreen>
</pre>


<h3 id="Intents">Использование намерений</h3>

<p>В некоторых случаях может потребоваться, чтобы элемент предпочтений открывал другую операцию, а не
экран настроек, например, веб-браузер для просмотра веб-страницы. Чтобы вызвать <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru">Intent</a></code>, когда пользователь выбирает элемент предпочтений, добавьте элемент <code>&amp;lt;intent&amp;gt;</code>
в качестве дочернего элемента соответствующего элемента <code>&amp;lt;Preference&amp;gt;</code>.</p>

<p>Например, здесь показано использование элемента предпочтений для открытия веб-страницы:</p>

<pre>
&lt;Preference android:title="@string/prefs_web_page" >
    &lt;intent android:action="android.intent.action.VIEW"
            android:data="http://www.example.com" />
&lt;/Preference>
</pre>

<p>Вы можете создавать неявные и явные намерения с помощью следующих атрибутов:</p>

<dl>
  <dt><code>android:action</code></dt>
    <dd>Назначаемое действие, как
в методе <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#setAction(java.lang.String)">setAction()</a></code>.</dd>
  <dt><code>android:data</code></dt>
    <dd>Назначаемые данные, как в методе <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#setData(android.net.Uri)">setData()</a></code>.</dd>
  <dt><code>android:mimeType</code></dt>
    <dd>Назначаемый тип MIME, как
в методе <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#setType(java.lang.String)">setType()</a></code>.</dd>
  <dt><code>android:targetClass</code></dt>
    <dd>Часть имени компонента, означающая класс, как в методе <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#setComponent(android.content.ComponentName)">setComponent()</a></code>.</dd>
  <dt><code>android:targetPackage</code></dt>
    <dd>Пакетная часть имени компонента, как в методе <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#setComponent(android.content.ComponentName)">setComponent()</a></code>.</dd>
</dl>



<h2 id="Activity">Создание операции предпочтений</h2>

<p>Для отображения ваших настроек в операции наследуйте класс <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>. Это наследование традиционного класса <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>, который отображает список настроек на основе иерархии объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>
автоматически сохраняет настройки, связанные с каждым объектом <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, когда пользователь вносит изменения.</p>

<p class="note"><strong>Примечание.</strong> При разработке приложения для версии Android 3.0
или выше вместо этого следует использовать <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>. Прочитайте следующий раздел
<a href="#Fragment">Использование фрагментов предпочтений</a>.</p>

<p>Запомните самое важное: не загружайте макет отображаемых объектов во время обратного вызова <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>. Вместо этого вызовите <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#addPreferencesFromResource(int)">addPreferencesFromResource()</a></code> для
добавления предпочтений, объявленных в XML-файле для операции. Например, здесь приведен
 минимальный код, необходимый для работы <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>:</p>

<pre>
public class SettingsActivity extends PreferenceActivity {
    &#64;Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.preferences);
    }
}
</pre>

<p>Этого кода действительно достаточно для некоторых приложений, поскольку как только пользователь изменяет предпочтение,
система сохраняет изменения в файле <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code> по умолчанию, который
другие компоненты вашего приложения могут читать, когда требуется проверить пользовательские настройки. Однако многим приложениям
требуется немного больше кода, чтобы отслеживать изменения, происходящие с предпочтениями.
Информацию об отслеживании изменений в файле <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>
см. в разделе <a href="#ReadingPrefs">Чтение предпочтений</a>.</p>




<h2 id="Fragment">Использование фрагментов предпочтений</h2>

<p>При разработке приложений для Android 3.0 (API уровня 11) и более поздних версий необходимо использовать <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> для отображения списка
объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Вы можете добавить <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> в любую операцию, при этом
необязательно использовать <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>.</p>

<p><a href="../../components/fragments9201.html?hl=ru">Фрагменты</a> обеспечивают более
универсальную архитектуру для вашего приложения по сравнению с использованием отдельных операций, вне зависимости от типа
создаваемой операции. Фактически, для управления отображением ваших настроек мы предлагаем вам использовать <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> вместо <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> при каждой возможности.</p>

<p>Ваша реализация <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> может содержать просто
определение метода <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code> для загрузки
файла предпочтений посредством <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru#addPreferencesFromResource(int)">addPreferencesFromResource()</a></code>. Например:</p>

<pre>
public static class SettingsFragment extends PreferenceFragment {
    &#64;Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Load the preferences from an XML resource
        addPreferencesFromResource(R.xml.preferences);
    }
    ...
}
</pre>

<p>Затем вы можете добавить этот фрагмент в операцию <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>, как вы сделали бы это для любого другого фрагмента
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>. Например:</p>

<pre>
public class SettingsActivity extends Activity {
    &#64;Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Display the fragment as the main content.
        getFragmentManager().beginTransaction()
                .replace(android.R.id.content, new SettingsFragment())
                .commit();
    }
}
</pre>

<p class="note"><strong>Примечание.</strong> Фрагмент <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> не содержит
собственного объекта <code><a href="https://developer.android.com/reference/android/content/Context.html?hl=ru">Context</a></code>. Если вам требуется объект <code><a href="https://developer.android.com/reference/android/content/Context.html?hl=ru">Context</a></code>,
вы можете вызвать<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code>. Однако разработчик должен быть внимательным и вызывать метод
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code> только в том случае, когда фрагмент прикреплен к операции. Если
фрагмент еще не прикреплен или был откреплен в конце его жизненного цикла, метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code> вернет null.</p>


<h2 id="Defaults">Установка значений по умолчанию</h2>

<p>Вероятно, создаваемые вами предпочтения определяют важное поведение вашего приложения, поэтому
необходимо инициализировать соответствующий файл <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>,
записав в него значения по умолчанию для каждого предпочтения <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> при первом запуске вашего
приложения пользователем.</p>

<p>В первую очередь необходимо указать значение по умолчанию для каждого объекта <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>
в вашем XML-файле посредством атрибута <code>android:defaultValue</code>. Значение может относиться к любому
типу данных, подходящему для соответствующего объекта <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Например:
</p>

<pre>
&lt;!-- default value is a boolean -->
&lt;CheckBoxPreference
    android:defaultValue="true"
    ... />

&lt;!-- default value is a string -->
&lt;ListPreference
    android:defaultValue="@string/pref_syncConnectionTypes_default"
    ... />
</pre>

<p>Затем из метода <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code> основной операции вашего приложения
(и из любой другой операции, через которую пользователь может войти в ваше приложение
в первый раз) вызовите <code><a href="https://developer.android.com/reference/android/preference/PreferenceManager.html?hl=ru#setDefaultValues(android.content.Context, int, boolean)">setDefaultValues()</a></code>:</p>

<pre>
PreferenceManager.setDefaultValues(this, R.xml.advanced_preferences, false);
</pre>

<p>Вызов этого метода при выполнении <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code> гарантирует, что ваше
приложение правильно инициализируется и получит настройки по умолчанию, которые могут потребоваться вашему приложению
для определенного поведения (например, следует ли загружать данные при работе
в сотовой сети).</p>

<p>Этот метод имеет три аргумента:</p>
<ul>
  <li><code><a href="https://developer.android.com/reference/android/content/Context.html?hl=ru">Context</a></code> вашего приложения.</li>
  <li>Идентификатор ресурса для XML-файла предпочтений, для которого вы хотите установить значения по умолчанию.</li>
  <li>Логическое значение, которое указывает, требуется ли значения по умолчанию устанавливать более одного раза.
<p>При значении <code>false</code> система устанавливает значения по умолчанию только в том случае, если этот метод никогда не вызывался ранее
(или атрибут <code><a href="https://developer.android.com/reference/android/preference/PreferenceManager.html?hl=ru#KEY_HAS_SET_DEFAULT_VALUES">KEY_HAS_SET_DEFAULT_VALUES</a></code>
в файле общих предпочтений по умолчанию имеет значение false).</p></li>
</ul>

<p>Когда для третьего аргумента установлено значение <code>false</code>, вы можете вызывать этот метод
при каждом запуске операции, не опасаясь перезаписи сохраненных пользовательских предпочтений из-за их сброса в состояние
по умолчанию. Однако, если установить для этого аргумента значение <code>true</code>, вы будете перезаписывать все предыдущие
значения значениями по умолчанию.</p>



<h2 id="PreferenceHeaders">Использование заголовков предпочтений</h2>

<p>В редких случаях может потребоваться такая структура настроек, при которой на первом экране отображается только
список <a href="#Subscreens">подэкранов</a> (например, как в приложении системных настроек,
показанных на рисунках 4 и 5). При разработке такого дизайна для Android 3.0 и более поздних версий вы должны
использовать новую возможность Android 3.0 — «заголовки», вместо создания подэкранов посредством вложенных
элементов <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">PreferenceScreen</a></code>.</p>

<p>Чтобы создать настройки с заголовками, выполните следующие действия:</p>
<ol>
  <li>Выделите каждую группу настроек в отдельный экземпляр <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>. Таким образом, каждая группа настроек должна иметь отдельный
XML-файл.</li>
  <li>Создайте XML-файл заголовков, в котором перечислены все группы настроек и объявления, какой фрагмент
содержит соответствующий список настроек.</li>
  <li>Наследуйте класс <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>, который будет содержать ваши настройки.</li>
  <li>Реализуйте обратный вызов <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#onBuildHeaders(java.util.List<android.preference.PreferenceActivity.Header>)">onBuildHeaders()</a></code>, чтобы указать
файл заголовков.</li>
</ol>

<p>Огромное преимущество использования этого дизайна состоит в том, что при запуске на больших экранах <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>
автоматически создает макет с двумя панелями, показанный на рисунке 4.</p>

<p>Даже если ваше приложение поддерживает версии Android старше 3.0, вы можете создать
приложение, использующее <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> для двухпанельного представления на
новых устройствах и поддерживающее традиционную многоэкранную иерархию на более старых
устройствах (см. раздел <a href="#BackCompatHeaders">Поддержка старых версий посредством
заголовков предпочтений</a>).</p>

<img src="../../../images/ui/settings/settings-headers-tablet9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 4.</strong> Двухпанельный макет с заголовками. <br/><b>1.</b> Заголовки
определяются посредством XML-файла заголовков. <br/><b>2.</b> Каждая группа настроек определяется с помощью фрагмента
<code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>, который указывается элементом <code>&amp;lt;header&amp;gt;</code>
в файле заголовков.</p>

<img src="../../../images/ui/settings/settings-headers-handset9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 5.</strong> Смартфон с заголовками настроек. При выборе
пункта вместо заголовков отображается соответствующий
фрагмент <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>.</p>


<h3 id="CreateHeaders" style="clear:left">Создание файла заголовков</h3>

<p>Каждая группа настроек в вашем списке заголовков указывается отдельным элементом <code>&amp;lt;header&amp;gt;</code>
внутри корневого элемента <code>&amp;lt;preference-headers&amp;gt;</code>. Например:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?>
&lt;preference-headers xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;header
        android:fragment="com.example.prefs.SettingsActivity$SettingsFragmentOne"
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one" />
    &lt;header
        android:fragment="com.example.prefs.SettingsActivity$SettingsFragmentTwo"
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" >
        &lt;!-- key/value pairs can be included as arguments for the fragment. -->
        &lt;extra android:name="someKey" android:value="someHeaderValue" />
    &lt;/header>
&lt;/preference-headers>
</pre>

<p>Посредством атрибута <code>android:fragment</code> каждый заголовок объявляет экземпляр фрагмента <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>, который должен открываться при выборе этого заголовка пользователем.</p>

<p>Элемент <code>&amp;lt;extras&amp;gt;</code> позволяет передавать пары «ключ-значение» фрагменту в объекте <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=ru">Bundle</a></code>. Фрагмент может извлекать аргументы путем вызова метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getArguments()">getArguments()</a></code>. Вы можете передавать аргументы фрагменту по различным причинам,
но хорошим поводом является повторное использование одного и того же подкласса <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code> для каждой группы и использование аргументов для указания
XML-файла предпочтений, который должен быть загружен фрагментом.</p>

<p>Например, здесь приведен фрагмент, который можно использовать повторно для нескольких групп настроек, когда каждый
заголовок определяет аргумент <code>&amp;lt;extra&amp;gt;</code> с ключом <code>"settings"</code>:</p>

<pre>
public static class SettingsFragment extends PreferenceFragment {
    &#64;Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        String settings = getArguments().getString("settings");
        if ("notifications".equals(settings)) {
            addPreferencesFromResource(R.xml.settings_wifi);
        } else if ("sync".equals(settings)) {
            addPreferencesFromResource(R.xml.settings_sync);
        }
    }
}
</pre>



<h3 id="DisplayHeaders">Отображение заголовков</h3>

<p>Чтобы отобразить заголовки предпочтений, вы должны реализовать метод обратного вызова <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#onBuildHeaders(java.util.List<android.preference.PreferenceActivity.Header>)">onBuildHeaders()</a></code> и вызвать
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#loadHeadersFromResource(int, java.util.List<android.preference.PreferenceActivity.Header>)">loadHeadersFromResource()</a></code>. Например:</p>

<pre>
public class SettingsActivity extends PreferenceActivity {
    &#64;Override
    public void onBuildHeaders(List&lt;Header> target) {
        loadHeadersFromResource(R.xml.preference_headers, target);
    }
}
</pre>

<p>Когда пользователь выбирает пункт в списке заголовков, система открывает связанный <code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code>.</p>

<p class="note"><strong>Примечание.</strong> При использовании заголовков предпочтений ваш подкласс <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> не должен реализовывать метод <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, поскольку единственной обязательной задачей
операции является загрузка заголовков.</p>


<h3 id="BackCompatHeaders">Поддержка старых версий с заголовками предпочтений</h3>

<p>Если ваше приложение поддерживает версии Android старше 3.0, вы можете использовать заголовки для
предоставления двухпанельного макета при работе на Android 3.0 или более поздней версии. Достаточно создать
дополнительный XML-файл настроек, использующий базовые элементы <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">&lt;Preference&gt;</a></code>, которые ведут себя аналогично пунктам заголовка (для использования в более старых версиях
Android).</p>

<p>Вместо открытия новых экранов <code><a href="https://developer.android.com/reference/android/preference/PreferenceScreen.html?hl=ru">PreferenceScreen</a></code> каждый из элементов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">&lt;Preference&gt;</a></code> отправляет намерение <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru">Intent</a></code> в
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> с указанием XML-файла предпочтений
для загрузки.</p>

<p>В качестве примера приведен XML-файл для заголовков предпочтений, который используется в Android версии 3.0
и более поздних версий (<code>res/xml/preference_headers.xml</code>):</p>

<pre>
&lt;preference-headers xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;header
        android:fragment="com.example.prefs.SettingsFragmentOne"
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one" />
    &lt;header
        android:fragment="com.example.prefs.SettingsFragmentTwo"
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" />
&lt;/preference-headers>
</pre>

<p>А здесь представлен файл предпочтений, который содержит те же самые заголовки для версий старше
Android 3.0 (<code>res/xml/preference_headers_legacy.xml</code>):</p>

<pre>
&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    &lt;Preference
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one"  >
        &lt;intent
            android:targetPackage="com.example.prefs"
            android:targetClass="com.example.prefs.SettingsActivity"
            android:action="com.example.prefs.PREFS_ONE" />
    &lt;/Preference>
    &lt;Preference
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" >
        &lt;intent
            android:targetPackage="com.example.prefs"
            android:targetClass="com.example.prefs.SettingsActivity"
            android:action="com.example.prefs.PREFS_TWO" />
    &lt;/Preference>
&lt;/PreferenceScreen>
</pre>

<p>Так как поддержка <code>&amp;lt;preference-headers&amp;gt;</code> была добавлена в версии Android 3.0, система вызывает
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#onBuildHeaders(java.util.List<android.preference.PreferenceActivity.Header>)">onBuildHeaders()</a></code> в методе <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code> только при работе в Android версии 3.0 или более поздней версии. Чтобы загрузить
«старый» файл заголовков (<code>preference_headers_legacy.xml</code>), вы должны проверить версию Android
и, если версия старше Android 3.0 (<code><a href="https://developer.android.com/reference/android/os/Build.VERSION_CODES.html?hl=ru#HONEYCOMB">HONEYCOMB</a></code>), вызвать <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#addPreferencesFromResource(int)">addPreferencesFromResource()</a></code> для
загрузки старого файла заголовков. Например:</p>

<pre>
&#64;Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    ...

    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.HONEYCOMB) {
        // Load the legacy preferences headers
        addPreferencesFromResource(R.xml.preference_headers_legacy);
    }
}

// Called only on Honeycomb and later
&#64;Override
public void onBuildHeaders(List&lt;Header> target) {
   loadHeadersFromResource(R.xml.preference_headers, target);
}
</pre>

<p>Остается обработать намерение <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru">Intent</a></code>, переданное
в операцию, чтобы идентифицировать файл предпочтений для загрузки. Поэтому извлеките операцию намерения и сравните ее
с известными строками действия, которые вы использовали в тегах <code>&amp;lt;intent&amp;gt;</code> XML-файла предпочтений:</p>

<pre>
final static String ACTION_PREFS_ONE = "com.example.prefs.PREFS_ONE";
...

&#64;Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    String action = getIntent().getAction();
    if (action != null &amp;&amp; action.equals(ACTION_PREFS_ONE)) {
        addPreferencesFromResource(R.xml.preferences);
    }
    ...

    else if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.HONEYCOMB) {
        // Load the legacy preferences headers
        addPreferencesFromResource(R.xml.preference_headers_legacy);
    }
}
</pre>

<p>При этом помните, что последующие вызовы <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#addPreferencesFromResource(int)">addPreferencesFromResource()</a></code> будут помещать
все предпочтения в один список, поэтому обязательно используйте операторы else-if, чтобы обеспечить только
однократный вызов метода при изменении условий.</p>





<h2 id="ReadingPrefs">Чтение предпочтений</h2>

<p>По умолчанию все предпочтения вашего приложения сохраняются в файле, который доступен из любого места
вашего приложения посредством вызова статического метода <code><a href="https://developer.android.com/reference/android/preference/PreferenceManager.html?hl=ru#getDefaultSharedPreferences(android.content.Context)">PreferenceManager.getDefaultSharedPreferences()</a></code>. Он возвращает объект <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>, содержащий все пары «ключ-значение», связанные
с объектами <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, использованными в вашей операции <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>.</p>

<p>В качестве примера показано чтение одного из значений предпочтений из любой другой операции в вашем
приложении:</p>

<pre>
SharedPreferences sharedPref = PreferenceManager.getDefaultSharedPreferences(this);
String syncConnPref = sharedPref.getString(SettingsActivity.KEY_PREF_SYNC_CONN, "");
</pre>



<h3 id="Listening">Отслеживание изменений предпочтений</h3>

<p>Существует несколько причин, по которым вы можете захотеть получать уведомления, как только пользователь изменяет одно из
предпочтений. Чтобы получать обратный вызов при изменении любого из предпочтений,
реализуйте интерфейс <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener.html?hl=ru">SharedPreference.OnSharedPreferenceChangeListener</a></code> и зарегистрируйте приемник для объекта
<code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code> посредством вызова <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru#registerOnSharedPreferenceChangeListener(android.content.SharedPreferences.OnSharedPreferenceChangeListener)">registerOnSharedPreferenceChangeListener()</a></code>.</p>

<p>Этот интерфейс содержит только один метод обратного вызова, <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener.html?hl=ru#onSharedPreferenceChanged(android.content.SharedPreferences, java.lang.String)">onSharedPreferenceChanged()</a></code>, и вы, вероятно, сочтете его самым простым способом реализации интерфейса в составе своей
операции. Например:</p>

<pre>
public class SettingsActivity extends PreferenceActivity
                              implements OnSharedPreferenceChangeListener {
    public static final String KEY_PREF_SYNC_CONN = "pref_syncConnectionType";
    ...

    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,
        String key) {
        if (key.equals(KEY_PREF_SYNC_CONN)) {
            Preference connectionPref = findPreference(key);
            // Set summary to be the user-description for the selected value
            connectionPref.setSummary(sharedPreferences.getString(key, ""));
        }
    }
}
</pre>

<p>В этом примере метод проверяет, выполнено ли изменение настройки для известного ключа предпочтений. Он
вызывает <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru#findPreference(java.lang.CharSequence)">findPreference()</a></code> для получения объекта
<code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, который был изменен, поэтому он может изменить сводку пункта
, описывающего выбор пользователя. То есть, когда настройка представляет собой <code><a href="https://developer.android.com/reference/android/preference/ListPreference.html?hl=ru">ListPreference</a></code> или другую настройку с несколькими вариантами выбора, при изменении этой настройки вы должны вызвать <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#setSummary(int)">setSummary()</a></code> для отображения
текущего состояния (например, настройка спящего режима, показанная на рисунке 5).</p>

<p class="note"><strong>Примечание.</strong> В соответствии с рекомендациями раздела <a href="https://developer.android.com/design/patterns/settings.html?hl=ru">Настройки</a> руководства «Дизайн для Android», мы рекомендуем вам обновлять
сводку для <code><a href="https://developer.android.com/reference/android/preference/ListPreference.html?hl=ru">ListPreference</a></code> при каждом изменении предпочтения пользователем,
чтобы описать текущую настройку.</p>

<p>Для правильного управления жизненным циклом в операции мы рекомендуем вам регистрировать или отменять регистрацию
вашего приемника <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.OnSharedPreferenceChangeListener.html?hl=ru">SharedPreferences.OnSharedPreferenceChangeListener</a></code> во время выполнения обратных вызовов <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onResume()">onResume()</a></code> и <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPause()">onPause()</a></code> соответственно:</p>

<pre>
&#64;Override
protected void onResume() {
    super.onResume();
    getPreferenceScreen().getSharedPreferences()
            .registerOnSharedPreferenceChangeListener(this);
}

&#64;Override
protected void onPause() {
    super.onPause();
    getPreferenceScreen().getSharedPreferences()
            .unregisterOnSharedPreferenceChangeListener(this);
}
</pre>

<p class="caution"><strong>Внимание!</strong> Когда вы вызываете приемник <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru#registerOnSharedPreferenceChangeListener(android.content.SharedPreferences.OnSharedPreferenceChangeListener)">registerOnSharedPreferenceChangeListener()</a></code>, диспетчер предпочтений не
сохраняет строгую ссылку на приемник. Вы должны сохранить строгую
ссылку на приемник, в противном случае она будет чувствительной к очистке памяти. Мы
рекомендуем хранить ссылку на приемник в данных экземпляра объекта
, который будет существовать, пока вам нужен приемник.</p>

<p>Например, в следующем коде вызывающий объект не сохраняет
ссылку на приемник. В результате этого приемник будет удален при очистке памяти
и через некоторое время приведет к сбою:</p>

<pre>
prefs.registerOnSharedPreferenceChangeListener(
  // Bad! The listener is subject to garbage collection!
  new SharedPreferences.OnSharedPreferenceChangeListener() {
  public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
    // listener implementation
  }
});
</pre>

<p>Вместо этого сохраните ссылку на приемник в поле данных экземпляра объекта
, который будет существовать, пока нужен приемник:</p>

<pre>
SharedPreferences.OnSharedPreferenceChangeListener listener =
    new SharedPreferences.OnSharedPreferenceChangeListener() {
  public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
    // listener implementation
  }
};
prefs.registerOnSharedPreferenceChangeListener(listener);
</pre>

<h2 id="NetworkUsage">Контроль использования сети</h2>


<p>Начиная с версии Android 4.0, системное приложение «Настройки» позволяет пользователям просматривать использование
сетевых данных приложениями, работающими на переднем плане и в фоновом режиме. После этого пользователи могут
отключить использование данных в фоновом режиме для отдельных приложений. Для того, чтобы пользователи не отключали доступ вашего приложения к данным
в фоновом режиме, вы должны эффективно использовать подключение в режиме передачи данных и предоставить
пользователям возможность настройки использования данных вашим приложением посредством настроек приложения.<p>

<p>Например, вы можете позволить пользователям управлять частотой синхронизации данных приложения, выполнением загрузки
только в режиме подключения по Wi-Fi, использованием данных в роуминге и т. д. Когда
эти возможности управления доступны, пользователи с меньшей вероятностью отключат доступ вашего приложения к данным,
когда оно достигает установленных в системных настройках лимитов, поскольку вместо отключения они могут
точно контролировать объем данных, который использует ваше приложение.</p>

<p>После добавления необходимых предпочтений в вашу операцию <code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>
для управления поведением вашего приложения в отношении данных вы должны добавить фильтр намерений для <code><a href="https://developer.android.com/reference/android/content/Intent.html?hl=ru#ACTION_MANAGE_NETWORK_USAGE">ACTION_MANAGE_NETWORK_USAGE</a></code> в вашем файле манифеста. Например:</p>

<pre>
&lt;activity android:name="SettingsActivity" ... >
    &lt;intent-filter>
       &lt;action android:name="android.intent.action.MANAGE_NETWORK_USAGE" />
       &lt;category android:name="android.intent.category.DEFAULT" />
    &lt;/intent-filter>
&lt;/activity>
</pre>

<p>Этот фильтр манифеста указывает системе, что эта операция управляет использованием
данных вашим приложением. Так, когда пользователь проверяет объем использованных приложением данных в системном приложении
«Настройки», отображается кнопка <em>Просмотреть настройки приложения</em>, которая запускает вашу операцию
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>, чтобы пользователь мог уточнить, сколько данных использует
ваше приложение.</p>







<h2 id="Custom">Построение пользовательского предпочтения</h2>

<p>Система Android содержит множество подклассов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, которые
позволяют вам строить пользовательский интерфейс для нескольких различных типов настроек.
Тем не менее, вы можете обнаружить, что для нужной вам настройки нет встроенного решения, например, для выбора
числа или даты. В таком случае вам потребуется создать нестандартное предпочтение путем наследования
класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> или одного из других подклассов.</p>

<p>При наследовании класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> нужно выполнить несколько
важных пунктов:</p>

<ul>
  <li>Укажите пользовательский интерфейс, который должен отображаться при выборе этой настройки пользователем.</li>
  <li>При необходимости сохраните значение настройки.</li>
  <li>Инициализируйте <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> текущим значением (или значением по умолчанию),
когда предпочтение отображается.</li>
  <li>Укажите значение по умолчанию в ответ на запрос системы.</li>
  <li>Если <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> содержит свой собственный пользовательский интерфейс (например, диалоговое окно), сохраните
и восстановите состояние для обработки изменений жизненного цикла (например, когда пользователь поворачивает экран).</li>
</ul>

<p>В следующих разделах описано выполнение каждой из этих задач.</p>



<h3 id="CustomSelected">Указание пользовательского интерфейса</h3>

  <p>Если вы наследуете класс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> непосредственно, вы должны реализовать метод
<code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onClick()">onClick()</a></code>, чтобы задать действие, происходящее при выборе
пункта пользователем. Однако большая часть нестандартных настроек наследует <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru">DialogPreference</a></code>, чтобы
отобразить диалоговое окно, что упрощает процедуру. Когда вы наследуете <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru">DialogPreference</a></code>, вы должны вызвать <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru#setDialogLayoutResource(int)">setDialogLayoutResourcs()</a></code>, находясь в конструкторе
класса, чтобы указать макет диалогового окна.</p>

  <p>В качестве примера показан конструктор нестандартного диалогового окна <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru">DialogPreference</a></code>, в котором объявляется макет и указывается текст для
положительной и отрицательной кнопок диалога по умолчанию:</p>

<pre>
public class NumberPickerPreference extends DialogPreference {
    public NumberPickerPreference(Context context, AttributeSet attrs) {
        super(context, attrs);

        setDialogLayoutResource(R.layout.numberpicker_dialog);
        setPositiveButtonText(android.R.string.ok);
        setNegativeButtonText(android.R.string.cancel);

        setDialogIcon(null);
    }
    ...
}
</pre>



<h3 id="CustomSave">Сохранение значения настройки</h3>

<p>Вы можете сохранить значение настройки в любой момент, вызвав один из методов <code>persist*()</code> класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, например, <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#persistInt(int)">persistInt()</a></code>, если настройка имеет целое значение, или
<code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#persistBoolean(boolean)">persistBoolean()</a></code> для сохранения логического значения.</p>

<p class="note"><strong>Примечание.</strong> Каждое предпочтение <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> может сохранять только один
тип данных, поэтому вы должны использовать метод <code>persist*()</code>, соответствующий типу данных, используемых вашим
пользовательским предпочтением <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>.</p>

<p>Выбор метода сохранения настройки может зависеть от наследованного класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>. Если вы наследуете <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru">DialogPreference</a></code>, вы должны сохранять значение только при закрытии диалога
с положительным результатом (пользователь нажал кнопку «OK»).</p>

<p>Когда <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru">DialogPreference</a></code> закрывается, система вызывает метод <code><a href="https://developer.android.com/reference/android/preference/DialogPreference.html?hl=ru#onDialogClosed(boolean)">onDialogClosed()</a></code>. Этот метод содержит
логический аргумент, который указывает, является ли результат пользователя «положительным» — если аргумент имеет значение
<code>true</code>, значит пользователь выбрал положительную кнопку и вы должны сохранить новое значение. Например:
</p>

<pre>
&#64;Override
protected void onDialogClosed(boolean positiveResult) {
    // When the user selects "OK", persist the new value
    if (positiveResult) {
        persistInt(mNewValue);
    }
}
</pre>

<p>В этом примере <code>mNewValue</code> — это член класса, который содержит текущее значение
настройки. При вызове <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#persistInt(int)">persistInt()</a></code> значение сохраняется
в файл <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code> (с автоматическим использованием ключа,
указанного в XML-файле для этого предпочтения <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>).</p>


<h3 id="CustomInitialize">Инициализация текущего значения</h3>

<p>Когда система добавляет ваше предпочтение <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> на экран, она
вызывает метод <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onSetInitialValue(boolean, java.lang.Object)">onSetInitialValue()</a></code>, чтобы уведомить вас,
имеет ли настройка сохраненное значение. Если сохраненного значения нет, этот вызов предоставляет вам
значение по умолчанию.</p>

<p>Метод <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onSetInitialValue(boolean, java.lang.Object)">onSetInitialValue()</a></code> передает
логическое значение, <code>restorePersistedValue</code>, чтобы показать, было ли уже сохранено значение
для настройки. Если значение равно <code>true</code>, вы должны извлечь сохраненное значение, вызвав
один из методов <code>getPersisted*()</code> класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, например, <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#getPersistedInt(int)">getPersistedInt()</a></code> для целого значения. Обычно
требуется извлечь сохраненное значение, чтобы можно было правильно обновить пользовательский интерфейс для отражения
ранее сохраненного значения.</p>

<p>Если <code>restorePersistedValue</code> имеет значение <code>false</code>, вы
должны использовать значение по умолчанию, которое передается во втором аргументе.</p>

<pre>
&#64;Override
protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {
    if (restorePersistedValue) {
        // Restore existing state
        mCurrentValue = this.getPersistedInt(DEFAULT_VALUE);
    } else {
        // Set default state from the XML attribute
        mCurrentValue = (Integer) defaultValue;
        persistInt(mCurrentValue);
    }
}
</pre>

<p>Каждый метод <code>getPersisted*()</code> содержит аргумент, который указывает
значение по умолчанию на случай, когда действительно нет сохраненного значения, или не существует ключ. В
приведенном выше примере локальная константа служит для указания значения по умолчанию на случай, если <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#getPersistedInt(int)">getPersistedInt()</a></code> не может вернуть сохраненное значение.</p>

<p class="caution"><strong>Внимание!</strong> Вы <strong>не можете</strong> использовать
<code>defaultValue</code> в качестве значения по умолчанию в методе <code>getPersisted*()</code>, так как
его значение всегда равно null, когда <code>restorePersistedValue</code> имеет значение <code>true</code>.</p>


<h3 id="CustomDefault">Предоставление значения по умолчанию</h3>

<p>Если экземпляр вашего класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> указывает значение по умолчанию
(с помощью атрибута <code>android:defaultValue</code>),
система вызывает <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onGetDefaultValue(android.content.res.TypedArray, int)">onGetDefaultValue()</a></code>, когда она создает экземпляр объекта для извлечения значения. Вы должны реализовать
этот метод, чтобы сохранить значение по умолчанию для системы в <code><a href="https://developer.android.com/reference/android/content/SharedPreferences.html?hl=ru">SharedPreferences</a></code>. Например:</p>

<pre>
&#64;Override
protected Object onGetDefaultValue(TypedArray a, int index) {
    return a.getInteger(index, DEFAULT_VALUE);
}
</pre>

<p>Аргументы метода предоставляют все необходимое: массив атрибутов и указатель
положения <code>android:defaultValue</code>, который вы должны извлечь. Причина, по которой вы должны
реализовать этот метод, чтобы извлечь значение по умолчанию из атрибута, состоит в том, что вы должны указать
локальное значение по умолчанию для атрибута в случае, когда значение не определено.</p>



<h3 id="CustomSaveState">Сохранение и восстановление состояния предпочтений</h3>

<p>Как и <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code> в макете, ваш подкласс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>
отвечает за сохранение и восстановление своего состояния в случае перезапуска операции или фрагмента
(например, когда пользователь поворачивает экран). Чтобы правильно сохранять и восстанавливать
состояние вашего класса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>, вы должны реализовать
методы обратного вызова жизненного цикла <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onSaveInstanceState()">onSaveInstanceState()</a></code> и <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onRestoreInstanceState(android.os.Parcelable)">onRestoreInstanceState()</a></code>.</p>

<p>Состояние вашего <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> определяется объектом, который реализует
интерфейс <code><a href="https://developer.android.com/reference/android/os/Parcelable.html?hl=ru">Parcelable</a></code>. Система Android предоставляет вам такой объект
в качестве начальной точки для определения вашего объекта состояния: класс <code><a href="https://developer.android.com/reference/android/preference/Preference.BaseSavedState.html?hl=ru">Preference.BaseSavedState</a></code>.</p>

<p>Чтобы определить, как ваш класс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> сохраняет свое состояние, вы должны
наследовать класс <code><a href="https://developer.android.com/reference/android/preference/Preference.BaseSavedState.html?hl=ru">Preference.BaseSavedState</a></code>. Вы должны переопределить лишь
 несколько методов и определить объект
<code><a href="https://developer.android.com/reference/android/preference/Preference.BaseSavedState.html?hl=ru#CREATOR">CREATOR</a></code>.</p>

<p>Для большинства приложений вы можете скопировать следующую реализацию и просто изменить строки, которые
обрабатывают <code>value</code>, если ваш подкласс <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> сохраняет типы
данных, отличные от целых.</p>

<pre>
private static class SavedState extends BaseSavedState {
    // Member that holds the setting's value
    // Change this data type to match the type saved by your Preference
    int value;

    public SavedState(Parcelable superState) {
        super(superState);
    }

    public SavedState(Parcel source) {
        super(source);
        // Get the current preference's value
        value = source.readInt();  // Change this to read the appropriate data type
    }

    &#64;Override
    public void writeToParcel(Parcel dest, int flags) {
        super.writeToParcel(dest, flags);
        // Write the preference's value
        dest.writeInt(value);  // Change this to write the appropriate data type
    }

    // Standard creator object using an instance of this class
    public static final Parcelable.Creator&lt;SavedState> CREATOR =
            new Parcelable.Creator&lt;SavedState>() {

        public SavedState createFromParcel(Parcel in) {
            return new SavedState(in);
        }

        public SavedState[] newArray(int size) {
            return new SavedState[size];
        }
    };
}
</pre>

<p>После добавления показанной выше реализации <code><a href="https://developer.android.com/reference/android/preference/Preference.BaseSavedState.html?hl=ru">Preference.BaseSavedState</a></code>
в ваше приложение (обычно в качестве подкласса вашего подкласса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>), вам
потребуется реализовать методы <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onSaveInstanceState()">onSaveInstanceState()</a></code> и <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru#onRestoreInstanceState(android.os.Parcelable)">onRestoreInstanceState()</a></code> для вашего
подкласса <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code>.</p>

<p>Например:</p>

<pre>
&#64;Override
protected Parcelable onSaveInstanceState() {
    final Parcelable superState = super.onSaveInstanceState();
    // Check whether this Preference is persistent (continually saved)
    if (isPersistent()) {
        // No need to save instance state since it's persistent,
        // use superclass state
        return superState;
    }

    // Create instance of custom BaseSavedState
    final SavedState myState = new SavedState(superState);
    // Set the state's value with the class member that holds current
    // setting value
    myState.value = mNewValue;
    return myState;
}

&#64;Override
protected void onRestoreInstanceState(Parcelable state) {
    // Check whether we saved the state in onSaveInstanceState
    if (state == null || !state.getClass().equals(SavedState.class)) {
        // Didn't save the state, so call superclass
        super.onRestoreInstanceState(state);
        return;
    }

    // Cast state to custom BaseSavedState and pass to superclass
    SavedState myState = (SavedState) state;
    super.onRestoreInstanceState(myState.getSuperState());

    // Set this Preference's widget to reflect the restored state
    mNumberPicker.setValue(myState.value);
}
</pre>




    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=ru" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Блог" target="_blank">Блог</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=ru" title="Поддержка">Поддержка</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=ru" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=ru" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=ru" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=ru" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="sJy38HSvt1UImP1QX-WCQXhS0t6LWCeoqaQt4xTd5x06MTQ5NzUxNjM5NTQ2MDk3MA" />
      <input type="hidden" name="next" value="settings.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
            >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
            >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
             selected="selected" >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
            >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Адрес электронной почты</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../../ytblogger_lists_unified05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../android_metadata_en05ec.js?hl=ru?v=2017061508" defer></script>
  
  <script src="../../../reference/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/gms_lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/wearable/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/test/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../../reference/android/support/constraint/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=ru"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_ru.js?hl=ru?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/topics/ui/settings.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:07:19 GMT -->
</html>
