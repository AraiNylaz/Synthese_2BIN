





<!DOCTYPE html>
<html lang="ru">

<!-- Mirrored from developer.android.com/guide/components/fragments.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:06:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="0cd-VdxWxGDvwjnh6ZVH4K35t3_nkmFu9SDdN-th-ys6MTQ5NzUxNjMzOTc4MzUzMA" />

  
    <link rel="canonical" href="fragments9201.html?hl=ru">
  

  
    <link rel="alternate" href="fragments9201.html?hl=ru" hreflang="ru">
  
    <link rel="alternate" href="fragmentsf854.html?hl=zh-tw" hreflang="zh-Hant">
  
    <link rel="alternate" href="fragments327f.html?hl=vi" hreflang="vi">
  
    <link rel="alternate" href="fragments7554.html?hl=es-419" hreflang="es-419">
  
    <link rel="alternate" href="fragments9e29.html?hl=ja" hreflang="ja">
  
    <link rel="alternate" href="fragments232e.html?hl=ko" hreflang="ko">
  
    <link rel="alternate" href="fragments0b8e.html?hl=zh-cn" hreflang="zh-Hans">
  
    <link rel="alternate" href="fragments0cf2.html?hl=id" hreflang="id">
  
    <link rel="alternate" href="fragmentsde3a.html?hl=es" hreflang="es">
  
    <link rel="alternate" href="fragments6dd3.html?hl=pt-br" hreflang="pt-br">
  
    <link rel="alternate" href="fragments.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ru" hreflang="ru-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-tw" hreflang="zh-Hant-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=vi" hreflang="vi-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=es-419" hreflang="es-419-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ja" hreflang="ja-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ko" hreflang="ko-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-cn" hreflang="zh-Hans-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=id" hreflang="id-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=es" hreflang="es-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=pt-br" hreflang="pt-br-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html" hreflang="en-cn">
  

  <link rel="alternate" href="fragments.html" hreflang="x-default">




<link rel="shortcut icon" href="../../_static/f304fc21fa/images/android/favicon9201.png?hl=ru">

<link rel="apple-touch-icon" href="../../_static/f304fc21fa/images/android/touchicon-1809201.png?hl=ru">


<title>

  Фрагменты | Android Developers

</title>

  <meta name="description" content="Фрагмент (класс Fragment) представляет поведение или часть пользовательского интерфейса в операции (класс Activity). Разработчик может объединить несколько фрагментов в одну операцию для построения многопанельного пользовательского интерфейса и повторного…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../static/css/default05ec.css?hl=ru?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../_static/f304fc21fa/js/android_3p-bundle9201.js?hl=ru" type="text/javascript"></script>
<script src="../../_static/f304fc21fa/js/script_foot_closure_android__ru9201.js?hl=ru"></script>
<script src="../../_static/f304fc21fa/js/script_foot_android9201.js?hl=ru"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../static/js/docs05ec.js?hl=ru?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;ru&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;ru&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "ru", "served": "ru"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=ru">
          <img class="dac-header-logo-image" src="../../static/images/android_logo9201.png?hl=ru"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=ru"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=ru"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=ru"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=ru"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=ru" width="18" height="19" alt="Play Console">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Поиск">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Назад</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../index9201.html?hl=ru" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="fundamentals9201.html?hl=ru" >App Fundamentals</a></li><li><a href="../practices/compatibility9201.html?hl=ru" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/permissions/index9201.html?hl=ru" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/permissions/requesting9201.html?hl=ru" >Requesting Permissions</a></li><li><a href="../topics/permissions/defining9201.html?hl=ru" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../platform/index9201.html?hl=ru" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../platform/j8-jack9201.html?hl=ru"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../practices/verifying-apps-art9201.html?hl=ru" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="index9201.html?hl=ru" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="intents-filters9201.html?hl=ru" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="intents-common9201.html?hl=ru" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="activities/index9201.html?hl=ru" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="activities/intro-activities9201.html?hl=ru" >Introduction to Activities</a></li><li><a href="activities/activity-lifecycle9201.html?hl=ru" >The Activity Lifecycle</a></li><li><a href="activities/state-changes9201.html?hl=ru" >Activity State Changes</a></li><li><a href="activities/tasks-and-back-stack9201.html?hl=ru" >Tasks and Back Stack</a></li><li><a href="activities/process-lifecycle9201.html?hl=ru" >Processes and Application Lifecycle</a></li><li><a href="activities/parcelables-and-bundles9201.html?hl=ru" >Parcelables and Bundles</a></li><li><a href="activities/recents9201.html?hl=ru" >Recents Screen</a></li></ul></li><li><a href="fragments9201.html?hl=ru" >Fragments</a></li><li><a href="loaders9201.html?hl=ru" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="services9201.html?hl=ru" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="bound-services9201.html?hl=ru" >Bound Services</a></li><li><a href="aidl9201.html?hl=ru" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/providers/content-providers9201.html?hl=ru" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/providers/content-provider-basics9201.html?hl=ru" >Content Provider Basics</a></li><li><a href="../topics/providers/content-provider-creating9201.html?hl=ru" >Creating a Content Provider</a></li><li><a href="../topics/providers/calendar-provider9201.html?hl=ru" >Calendar Provider</a></li><li><a href="../topics/providers/contacts-provider9201.html?hl=ru" >Contacts Provider</a></li><li><a href="../topics/providers/document-provider9201.html?hl=ru" >Open files using Storage Access Framework</a></li><li><a href="../topics/providers/create-document-provider9201.html?hl=ru" >Create a Custom Document Provider</a></li></ul></li><li><a href="broadcasts9201.html?hl=ru" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/appwidgets/index9201.html?hl=ru" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/appwidgets/host9201.html?hl=ru" >App Widget Host</a></li></ul></li><li><a href="processes-and-threads9201.html?hl=ru" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/index9201.html?hl=ru" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/overview9201.html?hl=ru" >Overview</a></li><li><a href="../topics/resources/providing-resources9201.html?hl=ru" >Providing Resources</a></li><li><a href="../topics/resources/accessing-resources9201.html?hl=ru" >Accessing Resources</a></li><li><a href="../topics/resources/runtime-changes9201.html?hl=ru" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/localization9201.html?hl=ru" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/icu4j-framework9201.html?hl=ru" >ICU4J Android Framework APIs</a></li><li><a href="../topics/resources/multilingual-support9201.html?hl=ru" >Language and Locale</a></li></ul></li><li><a href="../topics/resources/complex-xml-resources9201.html?hl=ru" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/available-resources9201.html?hl=ru" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/animation-resource9201.html?hl=ru" >Animation</a></li><li><a href="../topics/resources/color-list-resource9201.html?hl=ru" >Color State List</a></li><li><a href="../topics/resources/drawable-resource9201.html?hl=ru" >Drawable</a></li><li><a href="../topics/resources/layout-resource9201.html?hl=ru" >Layout</a></li><li><a href="../topics/resources/menu-resource9201.html?hl=ru" >Menu</a></li><li><a href="../topics/resources/string-resource9201.html?hl=ru" >String</a></li><li><a href="../topics/resources/style-resource9201.html?hl=ru" >Style</a></li><li><a href="../topics/resources/more-resources9201.html?hl=ru" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/manifest/manifest-intro9201.html?hl=ru" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/manifest/action-element9201.html?hl=ru" >&lt;action&gt;</a></li><li><a href="../topics/manifest/activity-element9201.html?hl=ru" >&lt;activity&gt;</a></li><li><a href="../topics/manifest/activity-alias-element9201.html?hl=ru" >&lt;activity-alias&gt;</a></li><li><a href="../topics/manifest/application-element9201.html?hl=ru" >&lt;application&gt;</a></li><li><a href="../topics/manifest/category-element9201.html?hl=ru" >&lt;category&gt;</a></li><li><a href="../topics/manifest/compatible-screens-element9201.html?hl=ru" >&lt;compatible-screens&gt;</a></li><li><a href="../topics/manifest/data-element9201.html?hl=ru" >&lt;data&gt;</a></li><li><a href="../topics/manifest/grant-uri-permission-element9201.html?hl=ru" >&lt;grant-uri-permission&gt;</a></li><li><a href="../topics/manifest/instrumentation-element9201.html?hl=ru" >&lt;instrumentation&gt;</a></li><li><a href="../topics/manifest/intent-filter-element9201.html?hl=ru" >&lt;intent-filter&gt;</a></li><li><a href="../topics/manifest/manifest-element9201.html?hl=ru" >&lt;manifest&gt;</a></li><li><a href="../topics/manifest/meta-data-element9201.html?hl=ru" >&lt;meta-data&gt;</a></li><li><a href="../topics/manifest/path-permission-element9201.html?hl=ru" >&lt;path-permission&gt;</a></li><li><a href="../topics/manifest/permission-element9201.html?hl=ru" >&lt;permission&gt;</a></li><li><a href="../topics/manifest/permission-group-element9201.html?hl=ru" >&lt;permission-group&gt;</a></li><li><a href="../topics/manifest/permission-tree-element9201.html?hl=ru" >&lt;permission-tree&gt;</a></li><li><a href="../topics/manifest/provider-element9201.html?hl=ru" >&lt;provider&gt;</a></li><li><a href="../topics/manifest/receiver-element9201.html?hl=ru" >&lt;receiver&gt;</a></li><li><a href="../topics/manifest/service-element9201.html?hl=ru" >&lt;service&gt;</a></li><li><a href="../topics/manifest/supports-gl-texture-element9201.html?hl=ru" >&lt;supports-gl-texture&gt;</a></li><li><a href="../topics/manifest/supports-screens-element9201.html?hl=ru" >&lt;supports-screens&gt;</a></li><li><a href="../topics/manifest/uses-configuration-element9201.html?hl=ru" >&lt;uses-configuration&gt;</a></li><li><a href="../topics/manifest/uses-feature-element9201.html?hl=ru" >&lt;uses-feature&gt;</a></li><li><a href="../topics/manifest/uses-library-element9201.html?hl=ru" >&lt;uses-library&gt;</a></li><li><a href="../topics/manifest/uses-permission-element9201.html?hl=ru" >&lt;uses-permission&gt;</a></li><li><a href="../topics/manifest/uses-permission-sdk-23-element9201.html?hl=ru" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../topics/manifest/uses-sdk-element9201.html?hl=ru" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/index9201.html?hl=ru" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/overview9201.html?hl=ru" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/declaring-layout9201.html?hl=ru" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/layout/linear9201.html?hl=ru" >Linear Layout</a></li><li><a href="../topics/ui/layout/relative9201.html?hl=ru" >Relative Layout</a></li><li><a href="../topics/ui/layout/recyclerview9201.html?hl=ru" >Recycler View</a></li><li><a href="../topics/ui/layout/listview9201.html?hl=ru" >List View</a></li><li><a href="../topics/ui/layout/gridview9201.html?hl=ru" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/controls9201.html?hl=ru" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/controls/button9201.html?hl=ru" >Buttons</a></li><li><a href="../topics/ui/controls/checkbox9201.html?hl=ru" >Checkboxes</a></li><li><a href="../topics/ui/controls/radiobutton9201.html?hl=ru" >Radio Buttons</a></li><li><a href="../topics/ui/controls/togglebutton9201.html?hl=ru" >Toggle Buttons</a></li><li><a href="../topics/ui/controls/spinner9201.html?hl=ru" >Spinners</a></li><li><a href="../topics/ui/controls/pickers9201.html?hl=ru" >Pickers</a></li></ul></li><li><a href="../topics/ui/ui-events9201.html?hl=ru" >Input Events</a></li><li><a href="../topics/ui/menus9201.html?hl=ru" >Menus</a></li><li><a href="../topics/ui/settings9201.html?hl=ru" >Settings</a></li><li><a href="../topics/ui/dialogs9201.html?hl=ru" >Dialogs</a></li><li><a href="../topics/ui/notifiers/notifications9201.html?hl=ru" >Notifications</a></li><li><a href="../topics/ui/notifiers/toasts9201.html?hl=ru" >Toasts</a></li><li><a href="../topics/ui/shortcuts9201.html?hl=ru" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/search/index9201.html?hl=ru" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/search/search-dialog9201.html?hl=ru" >Creating a Search Interface</a></li><li><a href="../topics/search/adding-recent-query-suggestions9201.html?hl=ru" >Adding Recent Query Suggestions</a></li><li><a href="../topics/search/adding-custom-suggestions9201.html?hl=ru" >Adding Custom Suggestions</a></li><li><a href="../topics/search/searchable-config9201.html?hl=ru" >Searchable Configuration</a></li></ul></li><li><a href="../topics/ui/multi-window9201.html?hl=ru" >Multi-Window Support</a></li><li><a href="../topics/ui/drag-drop9201.html?hl=ru" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/accessibility/index9201.html?hl=ru" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/accessibility/apps9201.html?hl=ru" >Making Apps More Accessible</a></li><li><a href="../topics/ui/accessibility/checklist9201.html?hl=ru" >Accessibility Developer Checklist</a></li><li><a href="../topics/ui/accessibility/node-tree-debugging9201.html?hl=ru" >Using Node Tree Debugging</a></li><li><a href="../topics/ui/accessibility/services9201.html?hl=ru" >Building Accessibility Services</a></li><li><a href="../topics/ui/accessibility/custom-views9201.html?hl=ru" >Building Accessible Custom Views</a></li></ul></li><li><a href="../topics/ui/themes9201.html?hl=ru" >Styles and Themes</a></li><li><a href="../topics/ui/custom-components9201.html?hl=ru" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/graphics/index9201.html?hl=ru" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/graphics/overview9201.html?hl=ru" >Overview</a></li><li><a href="../topics/graphics/prop-animation9201.html?hl=ru" >Property Animation</a></li><li><a href="../topics/graphics/view-animation9201.html?hl=ru" >View Animation</a></li><li><a href="../topics/graphics/drawable-animation9201.html?hl=ru" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/graphics/2d-graphics9201.html?hl=ru" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/graphics/vector-drawable-resources9201.html?hl=ru" >Vector Drawable</a></li></ul></li><li><a href="../topics/graphics/opengl9201.html?hl=ru" >OpenGL ES</a></li><li><a href="../topics/graphics/hardware-accel9201.html?hl=ru" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/renderscript/index9201.html?hl=ru" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/renderscript/compute9201.html?hl=ru" >RenderScript</a></li><li><a href="../topics/renderscript/advanced9201.html?hl=ru" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/renderscript/reference/overview9201.html?hl=ru" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/renderscript/reference/rs_value_types9201.html?hl=ru" >Numerical Types</a></li><li><a href="../topics/renderscript/reference/rs_object_types9201.html?hl=ru" >Object Types</a></li><li><a href="../topics/renderscript/reference/rs_convert9201.html?hl=ru" >Conversion Functions</a></li><li><a href="../topics/renderscript/reference/rs_math9201.html?hl=ru" >Mathematical Constants and Functions</a></li><li><a href="../topics/renderscript/reference/rs_vector_math9201.html?hl=ru" >Vector Math Functions</a></li><li><a href="../topics/renderscript/reference/rs_matrix9201.html?hl=ru" >Matrix Functions</a></li><li><a href="../topics/renderscript/reference/rs_quaternion9201.html?hl=ru" >Quaternion Functions</a></li><li><a href="../topics/renderscript/reference/rs_atomic9201.html?hl=ru" >Atomic Update Functions</a></li><li><a href="../topics/renderscript/reference/rs_time9201.html?hl=ru" >Time Functions and Types</a></li><li><a href="../topics/renderscript/reference/rs_allocation_data9201.html?hl=ru" >Allocation Data Access Functions</a></li><li><a href="../topics/renderscript/reference/rs_object_info9201.html?hl=ru" >Object Characteristics Functions</a></li><li><a href="../topics/renderscript/reference/rs_for_each9201.html?hl=ru" >Kernel Invocation Functions and Types</a></li><li><a href="../topics/renderscript/reference/rs_io9201.html?hl=ru" >Input/Output Functions</a></li><li><a href="../topics/renderscript/reference/rs_debug9201.html?hl=ru" >Debugging Functions</a></li><li><a href="../topics/renderscript/reference/rs_graphics9201.html?hl=ru" >Graphics Functions and Types</a></li><li><a href="../topics/renderscript/reference/index9201.html?hl=ru" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/index9201.html?hl=ru" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/media-apps-overview9201.html?hl=ru" >Media Apps Overview</a></li><li><a href="../topics/media-apps/working-with-a-media-session9201.html?hl=ru" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/audio-app/building-an-audio-app9201.html?hl=ru" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/audio-app/building-a-mediabrowserservice9201.html?hl=ru" >Building a Media Browser Service</a></li><li><a href="../topics/media-apps/audio-app/building-a-mediabrowser-client9201.html?hl=ru" >Building a Media Browser Client</a></li><li><a href="../topics/media-apps/audio-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/video-app/building-a-video-app9201.html?hl=ru" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/video-app/building-a-video-player-activity9201.html?hl=ru" >Building a Video Player Activity</a></li><li><a href="../topics/media-apps/video-app/mediasession-callbacks9201.html?hl=ru" >Media Session Callbacks</a></li></ul></li><li><a href="../topics/media-apps/mediabuttons9201.html?hl=ru" >Responding to Media Buttons</a></li><li><a href="../topics/media-apps/volume-and-earphones9201.html?hl=ru" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media/index9201.html?hl=ru" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media/media-formats9201.html?hl=ru" >Supported Media Formats</a></li><li><a href="../topics/media/mediaplayer9201.html?hl=ru" >MediaPlayer</a></li><li><a href="../topics/media/mediarecorder9201.html?hl=ru" >MediaRecorder</a></li><li><a href="../topics/media/exoplayer9201.html?hl=ru" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media/media-routing9201.html?hl=ru" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media/mediarouter9201.html?hl=ru" >MediaRouter API</a></li><li><a href="../topics/media/mediarouteprovider9201.html?hl=ru" >MediaRouteProvider API</a></li></ul></li><li><a href="../topics/media/camera9201.html?hl=ru" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/sensors/index9201.html?hl=ru" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/location/index9201.html?hl=ru" >Location and Maps</a></li><li><a href="../topics/location/strategies9201.html?hl=ru" >Location Strategies</a></li><li><a href="../topics/sensors/sensors_overview9201.html?hl=ru" >Sensors Overview</a></li><li><a href="../topics/sensors/sensors_motion9201.html?hl=ru" >Motion Sensors</a></li><li><a href="../topics/sensors/sensors_position9201.html?hl=ru" >Position Sensors</a></li><li><a href="../topics/sensors/sensors_environment9201.html?hl=ru" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/index9201.html?hl=ru" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/bluetooth9201.html?hl=ru" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/bluetooth-le9201.html?hl=ru" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/nfc/index9201.html?hl=ru" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/nfc/nfc9201.html?hl=ru" >NFC Basics</a></li><li><a href="../topics/connectivity/nfc/advanced-nfc9201.html?hl=ru" >Advanced NFC</a></li><li><a href="../topics/connectivity/nfc/hce9201.html?hl=ru" >Host-based Card Emulation</a></li></ul></li><li><a href="../topics/connectivity/wifip2p9201.html?hl=ru" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/usb/index9201.html?hl=ru" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/usb/accessory9201.html?hl=ru" >Accessory</a></li><li><a href="../topics/connectivity/usb/host9201.html?hl=ru" >Host</a></li></ul></li><li><a href="../topics/connectivity/sip9201.html?hl=ru" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/text/index9201.html?hl=ru" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/text/copy-paste9201.html?hl=ru" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/text/creating-input-method9201.html?hl=ru" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/text/image-keyboard9201.html?hl=ru" >Image Keyboard</a></li></ul></li><li><a href="../topics/text/spell-checker-framework9201.html?hl=ru" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/data/index9201.html?hl=ru" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/data/data-storage9201.html?hl=ru" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/data/backup9201.html?hl=ru" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/data/autobackup9201.html?hl=ru" >Auto Backup</a></li><li><a href="../topics/data/keyvaluebackup9201.html?hl=ru" >Key/Value Backup</a></li><li><a href="../topics/data/testingbackup9201.html?hl=ru" >Testing Backup and Restore</a></li></ul></li><li><a href="../topics/data/install-location9201.html?hl=ru" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/admin/index9201.html?hl=ru" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/admin/device-admin9201.html?hl=ru" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../webapps/index9201.html?hl=ru" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../webapps/targeting9201.html?hl=ru" >Supporting Different Screens in Web Apps</a></li><li><a href="../webapps/webview9201.html?hl=ru" >Building Web Apps in WebView</a></li><li><a href="../webapps/migrating9201.html?hl=ru" >Migrating to WebView in Android 4.4</a></li><li><a href="../webapps/debugging9201.html?hl=ru" >Debugging Web Apps</a></li><li><a href="../webapps/best-practices9201.html?hl=ru" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../practices/index9201.html?hl=ru"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../practices/screens_support9201.html?hl=ru" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../practices/screens-distribution9201.html?hl=ru" >Distributing to Specific Screens</a></li><li><a href="../practices/screen-compat-mode9201.html?hl=ru" >Screen Compatibility Mode</a></li></ul></li><li><a href="../practices/app-design/seamlessness9201.html?hl=ru" >Designing for Seamlessness</a></li><li><a href="../practices/tablets-and-handsets9201.html?hl=ru" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=ru">Начало</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=ru">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=ru">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=ru">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=ru">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=ru">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=ru"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=ru"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=ru"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">Обучение</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../index9201.html?hl=ru"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=ru"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Справочники</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=ru">Примеры</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=ru"
           >Библиотеки</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=ru"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=ru"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=ru">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=ru">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=ru">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=ru"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=ru">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=ru">Play Console</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=ru"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=ru"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=ru">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=ru">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Фрагменты</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">
  <h2>Содержание документа</h2>
  <ol>
    <li><a href="#Design">Философия проектирования</a></li>
    <li><a href="#Creating">Создание фрагмента</a>
      <ol>
        <li><a href="#UI">Добавление пользовательского интерфейса</a></li>
        <li><a href="#Adding">Добавление фрагмента в операцию</a></li>
      </ol>
    </li>
    <li><a href="#Managing">Управление фрагментами</a></li>
    <li><a href="#Transactions">Выполнение транзакций с фрагментами</a></li>
    <li><a href="#CommunicatingWithActivity">Взаимодействие с операцией</a>
      <ol>
        <li><a href="#EventCallbacks">Создание обратного вызова события для операции</a></li>
        <li><a href="#ActionBar">Добавление элементов в строку действий</a></li>
      </ol>
    </li>
    <li><a href="#Lifecycle">Управление жизненным циклом фрагмента</a>
      <ol>
        <li><a href="#CoordinatingWithActivity">Согласование с жизненным циклом операции</a></li>
      </ol>
    </li>
    <li><a href="#Example">Пример:</a></li>
  </ol>

  <h2>Ключевые классы</h2>
  <ol>
    <li><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code></li>
  </ol>

  <h2>См. также:</h2>
  <ol>
    <li><a href="https://developer.android.com/training/basics/fragments/index.html?hl=ru">Создание динамического интерфейса пользователя с использованием фрагментов</a></li>
    <li><a href="../practices/tablets-and-handsets9201.html?hl=ru">Поддержка планшетов
и смартфонов</a></li>
  </ol>
</div>
</div>

<p>Фрагмент (класс <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>) представляет поведение или часть пользовательского интерфейса в операции
(класс <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>). Разработчик может объединить несколько фрагментов в одну операцию для построения
многопанельного пользовательского интерфейса и повторного использования фрагмента в нескольких операциях. Фрагмент можно рассматривать как
 модульную часть операции. Такая часть имеет свой жизненный цикл и самостоятельно обрабатывает события ввода. Кроме того,
ее можно добавить или удалить непосредственно во время выполнения операции. Это нечто вроде вложенной операции, которую
можно многократно использовать в различных операциях.</p>

<p>Фрагмент всегда должен быть встроен в операцию, и на его жизненный цикл напрямую
влияет жизненный цикл операции. Например, когда операция приостановлена, в том же состоянии находятся и все
фрагменты внутри нее, а когда операция уничтожается, уничтожаются и все фрагменты. Однако пока
операция выполняется (это соответствует состоянию <em>возобновлена</em> <a href="activities9201.html?hl=ru#Lifecycle">жизненного цикла</a>), можно
манипулировать каждым фрагментом независимо, например добавлять или удалять их. Когда разработчик выполняет такие
транзакции с фрагментами, он может также добавить их в стек переходов назад, которым управляет
операция. Каждый элемент стека переходов назад в операции является записью
 выполненной транзакции с фрагментом. Стек переходов назад позволяет пользователю обратить транзакцию с фрагментом (выполнить навигацию в обратном направлении),
нажимая кнопку <em>Назад</em>.</p>

<p>Когда фрагмент добавлен как часть макета операции, он находится в объекте <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code> внутри иерархии представлений операции и определяет собственный
макет представлений.
Разработчик может вставить фрагмент в макет операции двумя способами. Для этого следует объявить фрагмент в
файле макета операции как элемент <code>&amp;lt;fragment&amp;gt;</code> или добавить его в
существующий объект<code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code> в коде приложения. Впрочем, фрагмент не обязан быть частью
макета операции. Можно использовать фрагмент без интерфейса в качестве невидимого рабочего потока
операции.</p>

<p>В этом документе показано, как построить приложение, использующее фрагменты. В частности, обсуждается,
как фрагменты могут поддерживать свое состояние, когда они добавляются в стек переходов назад операции, использовать
события совместно с операцией и другими фрагментами внутри нее, выводить данные в
строку действий операции и т. д.</p>


<h2 id="Design">Философия проектирования</h2>

<p>Фрагменты впервые появились в Android версии 3.0 (API уровня 11), главным образом, для обеспечения
большей динамичности и гибкости пользовательских интерфейсов на больших экранах, например, у планшетов. Поскольку экраны
планшетов гораздо больше, чем у смартфонов, они предоставляют больше возможностей для объединения и
перестановки компонентов пользовательского интерфейса. Фрагменты позволяют делать это, избавляя разработчика от необходимости управлять
сложными изменениями в иерархии представлений. Разбивая макет операции на фрагменты, разработчик получает возможность
модифицировать внешний вид операции в ходе выполнения и сохранять эти изменения в стеке переходов назад,
которым управляет операция.</p>

<p>Например, новостное приложение может использовать один фрагмент для показа списка статей слева,
а другой&mdash;для отображения статьи справа. Оба фрагмента отображаются за
одну операцию рядом друг с другом, и каждый имеет собственный набор методов обратного вызова жизненного цикла и управляет
собственными событиями пользовательского ввода. Таким образом, вместо применения одной операции для выбора статьи, а другой
 — для чтения статей, пользователь может выбрать статью и читать ее в рамках одной
операции, как на планшете, изображенном на рисунке 1.</p>

<p>Следует разрабатывать каждый фрагмент как модульный и повторно используемый компонент операции.  Поскольку
 каждый фрагмент определяет собственный макет и собственное поведение со своими обратными вызовами жизненного цикла, разработчик может
включить один фрагмент в несколько операций. Поэтому он должен предусмотреть повторное использование фрагмента и не допускать,
чтобы один фрагмент непосредственно манипулировал другим. Это особенно важно, потому что модульность фрагментов
позволяет изменять их сочетания в соответствии с различными размерами экранов. Если
приложение должно работать и на планшетах, и на смартфонах, можно повторно использовать фрагменты в различных
конфигурациях макета, чтобы оптимизировать взаимодействие с пользователем в зависимости от доступного размера экрана. Например,
на смартфоне может возникнуть необходимость в разделении фрагментов для предоставления однопанельного пользовательского интерфейса, если
 разработчику не удается поместить более одного фрагмента в одну операцию.</p>

<img src="../../images/fundamentals/fragments9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 1.</strong> Пример того, как два модуля пользовательского интерфейса, определенные
фрагментами, могут быть объединены внутри одной операции для работы на планшетах, но разделены на
смартфонах.</p>

<p>Вернемся к примеру с новостным приложением. Оно может иметь
два фрагмента, встроенных в <em>Операцию А</em>, когда выполняется на устройстве планшетного формата. В то же время на
экране смартфона недостаточно места для обоих фрагментов, и поэтому <em>Операция А</em> включает в себя
только фрагмент со списком статей. Когда пользователь выбирает статью, запускается
<em>Операция В</em>, содержащая второй фрагмент для чтения статьи. Таким образом, приложение
поддерживает как планшеты, так и смартфоны благодаря повторному использованию фрагментов в различных сочетаниях, как показано на
рисунке 1.</p>

<p>Подробные сведения относительно разработки приложения с различными сочетаниями фрагментов для
различных конфигураций экрана приводятся в руководстве <a href="../practices/tablets-and-handsets9201.html?hl=ru">Поддержка планшетов и смартфонов</a></p>



<h2 id="Creating">Создание фрагмента</h2>

<div class="figure" style="width:327px">
<img src="../../images/fragment_lifecycle9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 2.</strong> Жизненный цикл фрагмента (во время
выполнения операции)</p>
</div>

<p>Для создания фрагмента необходимо создать подкласс класса <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> (или его существующего
подкласса). Класс <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> имеет код, во многом схожий с
кодом <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>. Он содержит методы обратного вызова, аналогичные методам операции, такие
как <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onStart()">onStart()</a></code>,
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onPause()">onPause()</a></code> и <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onStop()">onStop()</a></code>. На практике,
если требуется преобразовать существующее приложение Android так, чтобы в нем использовались фрагменты, достаточно просто переместить
код из методов обратного вызова операции в соответствующие методы обратного вызова
фрагмента.</p>

<p>Как правило, необходимо реализовать следующие методы жизненного цикла:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code></dt>
  <dd>Система вызывает этот метод, когда создает фрагмент. В своей реализации разработчик должен
инициализировать ключевые компоненты фрагмента, которые требуется сохранить, когда фрагмент находится в состоянии
паузы или возобновлен после остановки.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
  <dd>Система вызывает этот метод при первом отображении пользовательского интерфейса фрагмента
на дисплее. Для прорисовки пользовательского интерфейса фрагмента следует возвратить из этого метода объект <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>,
который является корневым в макете фрагмента. Если фрагмент не имеет пользовательского интерфейса, можно
возвратить null.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPause()">onPause()</a></code></dt>
  <dd>Система вызывает этот метод как первое указание того, что пользователь покидает
фрагмент (это не всегда означает уничтожение фрагмента). Обычно именно в этот момент
необходимо фиксировать все изменения, которые должны быть сохранены за рамками текущего сеанса работы пользователя (поскольку
пользователь может не вернуться назад).</dd>
</dl>

<p>В большинстве приложений для каждого фрагмента должны быть реализованы, как минимум, эти три метода. Однако существуют и
другие методы обратного вызова, которые следует использовать для управления различными этапами жизненного цикла
фрагмента. Все методы обратного вызова жизненного цикла подробно обсуждаются в разделе
 <a href="#Lifecycle">Управление жизненным циклом фрагмента</a>.</p>


<p>Существует также ряд подклассов, которые, возможно, потребуется расширить вместо использования базового класса <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/DialogFragment.html?hl=ru">DialogFragment</a></code></dt>
  <dd>Отображение перемещаемого диалогового окна. Использование этого класса для создания диалогового окна является хорошей альтернативой
 вспомогательным методам диалогового окна в классе<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>. Дело в том, что он дает возможность
вставить диалоговое окно фрагмента в управляемый операцией стек переходов назад для фрагментов,
что позволяет пользователю вернуться к закрытому фрагменту.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru">ListFragment</a></code></dt>
  <dd>Отображение списка элементов, управляемых адаптером (например, <code><a href="https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html?hl=ru">SimpleCursorAdapter</a></code>), аналогично классу <code><a href="https://developer.android.com/reference/android/app/ListActivity.html?hl=ru">ListActivity</a></code>. Этот класс предоставляет
несколько методов для управления списком представлений, например, метод обратного вызова <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> для
обработки нажатий.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=ru">PreferenceFragment</a></code></dt>
  <dd>Отображение иерархии объектов <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=ru">Preference</a></code> в виде списка, аналогично классу
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=ru">PreferenceActivity</a></code>. Этот класс полезен, когда в приложении создается
операция «Настройки».</dd>
</dl>


<h3 id="UI">Добавление пользовательского интерфейса</h3>

<p>Фрагмент обычно используется как часть пользовательского интерфейса операции, при этом он добавляет в операцию
свой макет.</p>

<p>Чтобы создать макет для фрагмента, разработчик должен реализовать метод обратного вызова <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, который система Android вызывает,
когда для фрагмента наступает время отобразить свой макет. Реализация этого метода должна возвращать объект
<code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, который является корневым в макете фрагмента. </p>

<p class="note"><strong>Примечание.</strong> Если фрагмент является подклассом класса <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru">ListFragment</a></code>, реализация по умолчанию возвращает класс <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=ru">ListView</a></code> из метода
 <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, так что реализовывать его нет необходиомости.</p>

<p>Чтобы возвратить макет из метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, можно выполнить его раздувание из <a href="../topics/resources/layout-resource9201.html?hl=ru">ресурса макета</a>, определенного в XML-файле. Для
этой цели метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> предоставляет объект
<code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html?hl=ru">LayoutInflater</a></code>.</p>

<p>Например, код подкласса класса <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>, загружающий макет из файла
<code>example_fragment.xml</code>, может выглядеть так:</p>

<pre>
public static class ExampleFragment extends Fragment {
    &#64;Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.example_fragment, container, false);
    }
}
</pre>

<div class="sidebox-wrapper">
<div class="sidebox">
  <h3>Создание макета</h3>
  <p>В приведенном коде конструкция <code>R.layout.example_fragment</code> является ссылкой на ресурс макета
по имени <code>example_fragment.xml</code>, хранящийся в ресурсах приложения. Подробные сведения о
создании макета в XML см. в статье <a href="../topics/ui/index9201.html?hl=ru">Пользовательский интерфейс</a>.
</p>
</div>
</div>

<p>Параметр <code>container</code>, передаваемый методу <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, является родительским классом <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code> (из макета операции), в который
будет вставлен макет
фрагмента. Параметр <code>savedInstanceState</code> является классом <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=ru">Bundle</a></code>, который
предоставляет данные о предыдущем экземпляре фрагмента во время возобновления фрагмента
(восстановление состояния подробно обсуждается в разделе <a href="#Lifecycle">Управление
жизненным циклом фрагмента</a>).</p>

<p>Метод <code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html?hl=ru#inflate(int, android.view.ViewGroup, boolean)">inflate()</a></code> принимает
три аргумента:</p>
<ul>
  <li>Идентификатор ресурса макета, раздувание которого следует выполнить.</li>
  <li>Объект класса <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code>, который должен стать родительским для макета после раздувания. Передача параметра <code>container</code> необходима для того, чтобы система смогла применить параметры макета к корневому представлению
раздутого макета, определяемому родительским представлением, в которое направляется макет.</li>
  <li>Логическое значение, показывающее, следует ли прикрепить макет к объекту <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code> (второй параметр) во время раздувания. (В данном случае это
false, потому что система уже вставляет раздутый макет в объект <code>container</code>, ипередача значения true создала бы лишнюю группу представления в окончательном макете).</li>
</ul>

<p>Мы увидели, как создавать фрагмент, предоставляющий макет. Теперь необходимо добавить
фрагмент в операцию.</p>



<h3 id="Adding">Добавление фрагмента в операцию</h3>

<p>Как правило, фрагмент добавляет часть пользовательского интерфейса в операцию, и этот интерфейс встраивается
в общую иерархию представлений операции. Разработчик может добавить фрагмент в макет операции двумя
способами:</p>

<ul>
  <li><b>объявив фрагмент в файле макета операции.</b>
<p>В этом случае можно
указать свойства макета для фрагмента, как будто он является представлением. Например, файл макета операции
с двумя фрагментами может выглядеть следующим образом:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;
    &lt;fragment android:name="com.example.news.ArticleListFragment"
            android:id="@+id/list"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent" /&gt;
    &lt;fragment android:name="com.example.news.ArticleReaderFragment"
            android:id="@+id/viewer"
            android:layout_weight="2"
            android:layout_width="0dp"
            android:layout_height="match_parent" /&gt;
&lt;/LinearLayout&gt;
</pre>
  <p>Атрибут <code>android:name</code> в элементе <code>&amp;lt;fragment&amp;gt;</code> определяет класс <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>, экземпляр которого создается в макете.</p>

<p>Когда система создает этот макет операции, она создает экземпляр каждого фрагмента, определенного в макете,
и для каждого вызывает метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>,
чтобы получить макет каждого фрагмента. Система вставляет объект <code><a href="https://developer.android.com/reference/android/view/View.html?hl=ru">View</a></code>, возвращенный
 фрагментом, непосредственно вместо элемента <code>&amp;lt;fragment&amp;gt;</code>.</p>

<div class="note">
  <p><strong>Примечание.</strong> Каждый фрагмент должен иметь уникальный идентификатор, который
система сможет использовать для восстановления фрагмента в случае перезапуска операции. (Что касается разработчика, он может использовать этот идентификатор для
захвата фрагмента с целью выполнения транзакций с ним, например, чтобы удалить его). Предоставить
идентификатор фрагменту можно тремя способами:</p>
  <ul>
    <li>указать атрибут <code>android:id</code> с уникальным идентификатором;</li>
    <li>указать атрибут <code>android:tag</code> с уникальной строкой;</li>
    <li>ничего не предпринимать, чтобы система использовала идентификатор контейнерного
представления.</li>
  </ul>
</div>
  </li>

  <li><b>или программным образом, добавив фрагмент в существующий объект <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code>.</b>
<p>В любой момент выполнения операции разработчик может добавить фрагменты в ее макет.  Для
этого достаточно указать объект <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code>, в котором следует разместить фрагмент.</p>
  <p>Для выполнения транзакций с фрагментами внутри операции (таких как добавление, удаление или замена
фрагмента) необходимо использовать API-интерфейсы из <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code>. Экземпляр
 класса <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code> можно получить от объекта <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code> следующим образом:</p>

<pre>
FragmentManager fragmentManager = <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#getFragmentManager()">getFragmentManager()</a></code>
FragmentTransaction fragmentTransaction = fragmentManager.<code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#beginTransaction()">beginTransaction()</a></code>;
</pre>

<p>После этого можно добавить фрагмент методом <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#add(int, android.app.Fragment)">add()</a></code>, указав добавляемый фрагмент и
представление, в которое он должен быть добавлен. Например:</p>

<pre>
ExampleFragment fragment = new ExampleFragment();
fragmentTransaction.add(R.id.fragment_container, fragment);
fragmentTransaction.commit();
</pre>

  <p>Первый аргумент, передаваемый методу <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#add(int, android.app.Fragment)">add()</a></code>,
представляет собой контейнерный объект <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=ru">ViewGroup</a></code> для фрагмента, указанный при помощи
идентификатора ресурса. Второй параметр — это фрагмент, который нужно добавить.</p>
  <p>Выполнив изменения с помощью
<code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code>, необходимо
вызвать метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code>, чтобы они вступили в силу.</p>
  </li>
</ul>


<h4 id="AddingWithoutUI">Добавление фрагмента, не имеющего пользовательского интерфейса</h4>

<p>Пример, приведенный выше, демонстрирует, как добавлять в операцию фрагмент с предоставлением пользовательского интерфейса. Однако
можно использовать фрагмент и для реализации фонового поведения операции без какого-либо дополнительного
пользовательского интерфейса.</p>

<p>Чтобы добавить фрагмент без пользовательского интерфейса, добавьте фрагмент из операции, используя метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#add(android.app.Fragment, java.lang.String)">add(Fragment, String)</a></code> (передав ему уникальный строковый «тег» для
фрагмента вместо идентификатора представления). Фрагмент будет добавлен, но, поскольку он не связан
с представлением в макете операции, он не будет принимать вызов метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>. Поэтому в реализации этого метода нет необходимости.</p>

<p>Передача строкового тега свойственна не только фрагментам без пользовательского интерфейса, поэтому можно
передавать строковые теги и фрагментам, имеющим пользовательский интерфейс. Однако, если у фрагмента нет
 пользовательского интерфейса, то строковый тег является единственным способом его идентификации. Если впоследствии потребуется получить фрагмент от
операции, нужно будет вызвать метод <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>.</p>

<p>Пример операции, использующей фрагмент в качестве фонового потока, без пользовательского интерфейса, приведен в образце кода <code>FragmentRetainInstance.java</code>, входящем в число образцов в SDK (и доступном при помощи
Android SDK Manager). Путь к нему в системе —
<code>&lt;sdk_root&gt;/APIDemos/app/src/main/java/com/example/android/apis/app/FragmentRetainInstance.java</code>.</p>



<h2 id="Managing">Управление фрагментами</h2>

<p>Для управления фрагментами в операции нужен класс <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code>. Чтобы получить его,
 следует вызвать метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#getFragmentManager()">getFragmentManager()</a></code> из кода операции.</p>

<p>Ниже указаны действия, которые позволяет выполнить<code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code>:</p>

<ul>
  <li>получать фрагменты, имеющиеся в операции, с помощью метода <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#findFragmentById(int)">findFragmentById()</a></code> (для фрагментов, предоставляющих пользовательский интерфейс в
 макете операции) или <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code> (как для фрагментов, имеющих пользовательский интерфейс, так и для фрагментов без него);</li>
  <li>снимать фрагменты со стека переходов назад методом <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#popBackStack()">popBackStack()</a></code> (имитируя нажатие кнопки <em>Назад</em> пользователем);</li>
  <li>регистрировать процесс-слушатель изменений в стеке переходов назад при помощи метода <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#addOnBackStackChangedListener(android.app.FragmentManager.OnBackStackChangedListener)">addOnBackStackChangedListener()</a></code>.</li>
</ul>

<p>Дополнительные сведения об этих и других методах приводятся в документации по классу <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code>.</p>

<p>Как было показано в предыдущем разделе, можно использовать класс <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code>
для открытия <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code>, что позволяет выполнять транзакции с фрагментами, например,
добавление и удаление.</p>


<h2 id="Transactions">Выполнение транзакций с фрагментами</h2>

<p>Большим достоинством использования фрагментов в операции является возможность добавлять, удалять, заменять их и
выполнять другие действия с ними в ответ на действия пользователя. Любой набор изменений,
вносимых в операцию, называется транзакцией. Ее можно выполнить при помощи API-интерфейсов в <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code>. Каждую транзакцию можно сохранить в стеке переходов назад,
которым управляет операция. Это позволит пользователю перемещаться назад по изменениям во фрагментах (аналогично перемещению
назад по операциям).</p>

<p>Экземпляр класса <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code> можно получить от <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code>, например, так:</p>

<pre>
FragmentManager fragmentManager = <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#getFragmentManager()">getFragmentManager()</a></code>;
FragmentTransaction fragmentTransaction = fragmentManager.<code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#beginTransaction()">beginTransaction()</a></code>;
</pre>

<p>Каждая транзакция является набором изменений, выполняемых одновременно. Разработчик может указать
все изменения, которые ему нужно выполнить в данной транзакции, вызывая методы <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#add(android.app.Fragment, java.lang.String)">add()</a></code>, <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#remove(android.app.Fragment)">remove()</a></code>
и <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#replace(int, android.app.Fragment)">replace()</a></code>. Затем, чтобы применить транзакцию
к операции, следует вызвать метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code>.</p>
</dl>

<p>Впрочем, до вызова метода<code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code> у разработчика может возникнуть необходимость вызвать метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code>, чтобы добавить транзакцию
в стек переходов назад по транзакциям фрагмента. Этим стеком переходов назад управляет операция, что позволяет
пользователю вернуться к предыдущему состоянию фрагмента, нажав кнопку <em>Назад</em>.</p>

<p>Например, следующий код демонстрирует, как можно заменить один фрагмент другим, сохранив при этом предыдущее
состояние в стеке переходов назад:</p>

<pre>
// Create new fragment and transaction
Fragment newFragment = new ExampleFragment();
FragmentTransaction transaction = getFragmentManager().beginTransaction();

// Replace whatever is in the fragment_container view with this fragment,
// and add the transaction to the back stack
transaction.replace(R.id.fragment_container, newFragment);
transaction.addToBackStack(null);

// Commit the transaction
transaction.commit();
</pre>

<p>В этом коде объект <code>newFragment</code> замещает фрагмент (если таковой имеется), находящийся в
контейнере макета, на который указывает идентификатор <code>R.id.fragment_container</code>. В результате вызова метода <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code> транзакция замены
сохраняется в стеке переходов назад, чтобы пользователь мог обратить транзакцию и вернуть
предыдущий фрагмент, нажав кнопку <em>Назад</em>.</p>

<p>Если в транзакцию добавить несколько изменений (например, еще раз вызвать <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#add(android.app.Fragment, java.lang.String)">add()</a></code> или <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#remove(android.app.Fragment)">remove()</a></code>), а затем вызвать <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code>, все изменения, примененные до вызова
метода <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code>, будут добавлены в стек
 переходов назад как одна транзакция, и кнопка<em>Назад</em> обратит их все вместе.</p>

<p>Порядок добавления изменений к объекту <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru">FragmentTransaction</a></code> не играет роли
 за следующими исключениями:</p>
<ul>
  <li>метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code> должен быть вызван в последнюю очередь;</li>
  <li>если в один контейнер добавляется несколько фрагментов, то порядок их
добавления определяет порядок, в котором они появляются в иерархии видов.</li>
</ul>

<p>Если при выполнении транзакции, удаляющей фрагмент, не вызвать метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code>, при фиксации транзакции фрагмент
уничтожается, и пользователь теряет возможность вернуться к нему. В то же время, если
вызвать <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code> при
удалении фрагмента, фрагмент перейдет в состояние <em>остановки</em> и будет возобновлен, если пользователь вернется
к нему.</p>

<p class="note"><strong>Совет.</strong> К каждой транзакции с фрагментом можно применить анимацию
перехода, вызвав <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#setTransition(int)">setTransition()</a></code> до
фиксации.</p>

<p>Вызов метода <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code> не приводит к немедленному выполнению
 транзакции. Метод запланирует ее выполнение в потоке пользовательского интерфейса операции (в «главном» потоке), как только
у потока появится возможность для этого. Впрочем, при необходимости можно вызвать <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#executePendingTransactions()">executePendingTransactions()</a></code> из потока пользовательского интерфейса, чтобы
транзакции, запланированные методом <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code> были выполнены немедленно. Как правило,
в этом нет необходимости, за исключением случаев, когда транзакция является зависимостью для заданий в других потоках.</p>

<p class="caution"><strong>Внимание!</strong> Фиксировать транзакцию методом <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commit()">commit()</a></code> можно только до того, как операция<a href="activities9201.html?hl=ru#SavingActivityState">сохранит свое
состояние</a> (после того, как пользователь покинет ее). Попытка зафиксировать транзакцию после этого момента
 вызовет исключение. Дело в том, что состояние после фиксации может быть потеряно, если понадобится
восстановить операцию. В ситуациях, в которых потеря фиксации не критична, следует вызывать <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#commitAllowingStateLoss()">commitAllowingStateLoss()</a></code>.</p>




<h2 id="CommunicatingWithActivity">Взаимодействие с операцией</h2>

<p>Хотя <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> реализован как объект, независимый от
класса <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>, и может быть использован внутри нескольких операций, конкретный экземпляр
фрагмента напрямую связан с содержащей его операцией.</p>

<p>В частности, фрагмент может обратиться к экземпляру <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code> с помощью метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code> и без труда выполнить такие задачи, как поиск представления в макете
операции:</p>

<pre>
View listView = <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code>.<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#findViewById(int)">findViewById</a></code>(R.id.list);
</pre>

<p>Аналогичным образом операция может вызывать методы фрагмента, получив ссылку на объект
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code> от <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru">FragmentManager</a></code> с помощью метода <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#findFragmentById(int)">findFragmentById()</a></code> или <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=ru#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>. Например:</p>

<pre>
ExampleFragment fragment = (ExampleFragment) getFragmentManager().findFragmentById(R.id.example_fragment);
</pre>


<h3 id="EventCallbacks">Создание обратного вызова события для операции</h3>

<p>В некоторых случаях необходимо, чтобы фрагмент использовал события совместно с операцией. Хороший способ реализации этого
состоит в том, чтобы определить интерфейс обратного вызова внутри фрагмента и потребовать от контейнерной операции
его реализации. Когда операция примет обратный вызов через этот интерфейс, она сможет обмениваться информацией с
другими фрагментами в макете по мере необходимости.</p>

<p>Пусть, например, у новостного приложения имеются два фрагмента в одной операции: один для отображения списка
статей (фрагмент A), а другой&mdash;для отображения статьи (фрагмент B). Тогда фрагмент A должен сообщать
операции о том, что выбран пункт списка, чтобы она могла сообщить фрагменту B о необходимости отобразить статью. В
этом случае интерфейс <code>OnArticleSelectedListener</code> объявляется во фрагменте A:</p>

<pre>
public static class FragmentA extends ListFragment {
    ...
    // Container Activity must implement this interface
    public interface OnArticleSelectedListener {
        public void onArticleSelected(Uri articleUri);
    }
    ...
}
</pre>

<p>Тогда операция, содержащая этот фрагмент, реализует интерфейс <code>OnArticleSelectedListener</code>
и переопределит
метод <code>onArticleSelected()</code>, чтобы извещать фрагмент B о событии, исходящем от фрагмента A. Чтобы
контейнерная операция наверняка реализовала этот интерфейс, метод обратного вызова <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onAttach(android.app.Activity)">onAttach()</a></code> во фрагменте A (который система вызывает при добавлении
фрагмента в операцию) создает экземпляр класса <code>OnArticleSelectedListener</code>, выполнив
приведение типа объекта <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>, который передается методу <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onAttach(android.app.Activity)">onAttach()</a></code>:</p>

<pre>
public static class FragmentA extends ListFragment {
    OnArticleSelectedListener mListener;
    ...
    &#64;Override
    public void onAttach(Activity activity) {
        super.onAttach(activity);
        try {
            mListener = (OnArticleSelectedListener) activity;
        } catch (ClassCastException e) {
            throw new ClassCastException(activity.toString() + " must implement OnArticleSelectedListener");
        }
    }
    ...
}
</pre>

<p>Если операция не реализовала интерфейс, фрагмент генерирует исключение
<code><a href="https://developer.android.com/reference/java/lang/ClassCastException.html?hl=ru">ClassCastException</a></code>.
В случае успеха элемент <code>mListener</code> будет содержать ссылку на реализацию интерфейса
<code>OnArticleSelectedListener</code> в операции, чтобы фрагмент A мог использовать
события совместно с операцией, вызывая методы, определенные интерфейсом <code>OnArticleSelectedListener</code>. Например, если фрагмент A является расширением
класса <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru">ListFragment</a></code>, то всякий раз,
когда пользователь нажимает элемент списка, система вызывает <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> во фрагменте. Этот метод, в свою очередь, вызывает метод <code>onArticleSelected()</code>, чтобы использовать
событие совместно с операцией:</p>

<pre>
public static class FragmentA extends ListFragment {
    OnArticleSelectedListener mListener;
    ...
    &#64;Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        // Append the clicked item's row ID with the content provider Uri
        Uri noteUri = ContentUris.<code><a href="https://developer.android.com/reference/android/content/ContentUris.html?hl=ru#withAppendedId(android.net.Uri, long)">withAppendedId</a></code>(ArticleColumns.CONTENT_URI, id);
        // Send the event and Uri to the host activity
        mListener.onArticleSelected(noteUri);
    }
    ...
}
</pre>

<p>Параметр <code>id</code>, передаваемый методу <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code>, — это идентификатор строки с выбранным элементом списка,
который операция (или другой фрагмент) использует для получения статьи от объекта <code><a href="https://developer.android.com/reference/android/content/ContentProvider.html?hl=ru">ContentProvider</a></code> приложения.</p>

<p><!--To see a complete implementation of this kind of callback interface, see the <a
href="https://developer.android.com/resources/samples/NotePad/index.html?hl=ru">NotePad sample</a>. -->Дополнительные сведения о
работе с поставщиком контента приводятся в документе <a href="../topics/providers/content-providers9201.html?hl=ru">Поставщики контента</a>.</p>



<h3 id="ActionBar">Добавление элементов в строку действий</h3>

<p>Фрагменты могут добавлять пункты меню в <a href="../topics/ui/menus9201.html?hl=ru#options-menu">Меню вариантов</a> операции (и, следовательно, в <a href="https://developer.android.com/training/appbar/index.html?hl=ru">Строку действий</a>), реализовав
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>. Однако, чтобы этот метод мог
принимать вызовы, необходимо вызывать <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#setHasOptionsMenu(boolean)">setHasOptionsMenu()</a></code> во время выполнения метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, чтобы сообщить, что фрагмент
намеревается добавить пункты в Меню вариантов (в противном случае фрагмент не примет вызов метода
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>).</p>

<p>Любые пункты, добавляемые фрагментом в Меню вариантов, присоединяются к
уже существующим. Кроме того, фрагмент принимает обратные вызовы метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code>, когда пользователь выбирает пункт
меню.</p>

<p>Разработчик может также зарегистрировать представление в макете своего фрагмента, чтобы предоставить контекстное меню. Для этого следует вызвать метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code>. Когда пользователь открывает
контекстное меню, фрагмент принимает вызов метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>. Когда пользователь выбирает пункт меню, фрагмент принимает вызов метода <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onContextItemSelected(android.view.MenuItem)">onContextItemSelected()</a></code>.</p>

<p class="note"><strong>Примечание.</strong> Хотя фрагмент принимает обратный вызов по событию «выбран пункт меню»
для каждого добавленного им пункта, операция первой принимает соответствующий обратный вызов, когда пользователь
выбирает пункт меню. Если имеющаяся в операции реализация обратного вызова по событию «выбран пункт меню» не
обрабатывает выбранный пункт, событие передается методу обратного вызова во фрагменте. Это справедливо для
Меню вариантов и контекстных меню.</p>

<p>Подробные сведения относительно меню см. в руководствах для разработчиков <a href="../topics/ui/menus9201.html?hl=ru">Меню</a> и <a href="https://developer.android.com/training/appbar/index.html?hl=ru">Строка действий</a> </p>




<h2 id="Lifecycle">Управление жизненным циклом фрагмента</h2>

<div class="figure" style="width:350px">
<img src="../../images/activity_fragment_lifecycle9201.png?hl=ru" alt="" />
<p class="img-caption"><strong>Рисунок 3</strong>. Влияние жизненного цикла операции на жизненный цикл
фрагмента</p>
</div>

<p>Управление жизненным циклом фрагмента во многом аналогично управлению жизненным циклом операции. Как и
операция, фрагмент может существовать в одном из трех состояний:</p>

<dl>
  <dt><i>Возобновлен</i></dt>
    <dd>Фрагмент виден во время выполнения операции.</dd>

  <dt><i>Приостановлен</i></dt>
    <dd>На переднем плане выполняется и находится в фокусе другая операция, но операция, содержащая данный
фрагмент, по-прежнему видна (операция переднего плана частично прозрачна или не
занимает весь экран).</dd>

  <dt><i>Остановлен</i></dt>
    <dd>Фрагмент не виден. Либо контейнерная операция остановлена, либо
фрагмент удален из нее, но добавлен в стек переходов назад. Остановленный фрагмент
по-прежнему активен (вся информация о состоянии и элементах сохранена в системе). Однако он больше
не виден пользователю и будет уничтожен в случае уничтожения операции.</dd>
</dl>

<p>Здесь снова просматривается аналогия с операцией: разработчик может сохранить состояние фрагмента с помощью <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=ru">Bundle</a></code> на случай, если процесс операции будет уничтожен, а разработчику понадобится восстановить
состояние фрагмента при повторном создании операции. Состояние можно сохранить во время выполнения метода обратного вызова <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> во фрагменте и восстановить его во время выполнения
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> или <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code>. Дополнительные сведения о сохранении
состояния приводятся в документе <a href="activities9201.html?hl=ru#SavingActivityState">Операции</a>.
</p>

<p>Самое значительное различие в ходе жизненного цикла между операцией и фрагментом состоит в принципах
их сохранения в соответствующих стеках переходов назад. По умолчанию операция помещается в управляемый системой стек переходов назад для операций,
когда она останавливается (чтобы пользователь мог вернуться
к ней с помощью кнопки <em>Назад</em>, как описано в статье <a href="tasks-and-back-stack9201.html?hl=ru">Задачи и стек переходов назад</a>).
В то же время, фрагмент помещается в стек переходов назад, управляемый операцией, только когда разработчик
явно запросит сохранение конкретного экземпляра, вызвав метод <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=ru#addToBackStack(java.lang.String)">addToBackStack()</a></code> во время транзакции,
удаляющей фрагмент.</p>

<p>В остальном управление жизненным циклом фрагмента очень похоже на управление жизненным циклом
операции. Поэтому практические рекомендации по <a href="activities9201.html?hl=ru#Lifecycle">управлению жизненным циклом
операций</a> применимы и к фрагментам. При этом разработчику необходимо понимать, как жизненный цикл
операции влияет на жизненный цикл фрагмента.</p>

<p class="caution"><strong>Внимание!</strong> Если возникнет необходимость в объекте <code><a href="https://developer.android.com/reference/android/content/Context.html?hl=ru">Context</a></code>
внутри объекта класса <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru">Fragment</a></code>, можно вызвать метод<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code>.
Однако разработчик должен быть внимательным и вызывать метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code> только когда фрагмент
прикреплен к операции. Если фрагмент еще не прикреплен или был откреплен в конце
его жизненного цикла, метод <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#getActivity()">getActivity()</a></code> возвратит null.</p>


<h3 id="CoordinatingWithActivity">Согласование с жизненным циклом операции</h3>

<p>Жизненый цикл операции, содержащей фрагмент, непосредственным образом влияет на жизненый цикл
фрагмента, так что каждый обратный вызов жизненного цикла операции приводит к аналогичному обратного вызову для каждого
фрагмента. Например, когда операция принимает вызов <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onPause()">onPause()</a></code>, каждый
ее фрагмент принимает <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onPause()">onPause()</a></code>.</p>

<p>Однако у фрагментов есть несколько дополнительных методов обратного вызова жизненого цикла, которые обеспечивают уникальное взаимодействие с операцией
для выполнения таких действий, как создание и уничтожение пользовательского интерфейса фрагмента. Вот эти
методы:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onAttach(android.app.Activity)">onAttach()</a></code></dt>
    <dd>Вызывается, когда фрагмент связывается с операцией (ему передается объект <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru">Activity</a></code>).</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
    <dd>Вызывается для создания иерархии представлений, связанной с фрагментом.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code></dt>
    <dd>Вызывается, когда метод <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, принадлежащий операции, возвращает управление.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onDestroyView()">onDestroyView()</a></code></dt>
    <dd>Вызывается при удалении иерархии представлений, связанной с фрагментом.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onDetach()">onDetach()</a></code></dt>
    <dd>Вызывается при разрыве связи фрагмента с операцией.</dd>
</dl>

<p>Зависимость жизненого цикла фрагмента от содержащей его операции иллюстрируется
рисунком 3. На этом рисунке можно видеть, что очередное состояние операции определяет, какие
методы обратного вызова может принимать фрагмент. Например, когда операция принимает свой метод обратного вызова <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>, фрагмент внутри этой операции принимает всего лишь метод обратного вызова
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=ru#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code>.</p>

<p>Когда операция переходит в состояние «возобновлена», можно свободно добавлять в нее фрагменты и удалять
их. Таким образом, жизненный цикл фрагмента может быть независимо изменен, только пока операция остается
в состоянии «возобновлена».</p>

<p>Однако, когда операция выходит из этого состояния, продвижение фрагмента по его
жизненному циклу снова осуществляется операцией.</p>




<h2 id="Example">Пример:</h2>

<p>Чтобы суммировать все сказанное в этом документе, рассмотрим пример операции,
использующей два фрагмента для создания макета с двумя панелями. Операция, код которой приведен ниже, включает в себя один фрагмент для
отображения списка пьес Шекспира, а другой — для отображения краткого содержания пьесы, выбранной
из списка. В примере показано, как следует организовывать различные конфигурации фрагментов
в зависимости от конфигурации экрана. </p>

<p class="note"><strong>Примечание.</strong> Полный исходный код этой операции находится в разделе
<a href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.html?hl=ru"><code>FragmentLayout.java</code></a>.</p>

<p>Главная операция применяет макет обычным способом, в методе <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=ru#onCreate(android.os.Bundle)">onCreate()</a></code>:</p>

<pre>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.fragment_layout);
}</pre>

<p>Здесь применяется макет <code>fragment_layout.xml</code>:</p>

<pre>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent" android:layout_height="match_parent"&gt;

    &lt;fragment class="com.example.android.apis.app.FragmentLayout$TitlesFragment"
            android:id="@+id/titles" android:layout_weight="1"
            android:layout_width="0px" android:layout_height="match_parent" /&gt;

    &lt;FrameLayout android:id="@+id/details" android:layout_weight="1"
            android:layout_width="0px" android:layout_height="match_parent"
            android:background="?android:attr/detailsElementBackground" /&gt;

&lt;/LinearLayout&gt;</pre>

<p>Пользуясь этим макетом, система создает экземпляр класса <code>TitlesFragment</code> (список
пьес), как только операция загрузит макет. При этом объект <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=ru">FrameLayout</a></code>
(в котором будет находиться фрагмент с кратким содержанием) занимает место в правой части
экрана, но поначалу остается пустым. Как будет показано ниже, фрагмент не помещается в <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=ru">FrameLayout</a></code>, пока пользователь не выберет элемент
в списке.</p>

<p>Однако не все экраны достаточно широки, чтобы отображать
краткое содержание рядом со списком пьес. Поэтому описанный выше макет используется только при альбомной ориентации
экрана и хранится в файле <code>res/layout-land/fragment_layout.xml</code>.</p>

<p>Когда же устройство находится в книжной ориентации, система применяет макет, приведенный ниже, который
хранится в файле<code>res/layout/fragment_layout.xml</code>:</p>

<pre>&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" android:layout_height="match_parent"&gt;
    &lt;fragment class="com.example.android.apis.app.FragmentLayout$TitlesFragment"
            android:id="@+id/titles"
            android:layout_width="match_parent" android:layout_height="match_parent" /&gt;
&lt;/FrameLayout&gt;</pre>

<p>В этом макете присутствует только объект <code>TitlesFragment</code>. Это означает, что при
книжной ориентации устройства виден только список пьес. Когда пользователь нажимает на элемент
списка в этой конфигурации, приложение запускает новую операцию для отображения краткого содержания,
а не загружает второй фрагмент.</p>

<p>Далее можно видеть, как это реализовано в классах фрагмента. Вначале идет код класса <code>TitlesFragment</code>, отображающий список пьес Шекспира. Этот фрагмент является расширением класса <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=ru">ListFragment</a></code> и использует его функции для выполнения основной работы со списком.</p>

<p>Изучая код, обратите внимание на то, что в качестве реакции на нажатие пользователем
элемента списка возможны две модели поведения. В зависимости от того, какой из двух макетов активен, либо в рамках одной операции создается и отображается новый фрагмент
с кратким содержанием (за счет добавления фрагмента в объект <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=ru">FrameLayout</a></code>), либо запускается новая операция (отображающая фрагмент).</p>

<pre>public static class TitlesFragment extends ListFragment {
    boolean mDualPane;
    int mCurCheckPosition = 0;

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        // Populate list with our static array of titles.
        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(),
                android.R.layout.simple_list_item_activated_1, Shakespeare.TITLES));

        // Check to see if we have a frame in which to embed the details
        // fragment directly in the containing UI.
        View detailsFrame = getActivity().findViewById(R.id.details);
        mDualPane = detailsFrame != null &amp;&amp; detailsFrame.getVisibility() == View.VISIBLE;

        if (savedInstanceState != null) {
            // Restore last state for checked position.
            mCurCheckPosition = savedInstanceState.getInt("curChoice", 0);
        }

        if (mDualPane) {
            // In dual-pane mode, the list view highlights the selected item.
            getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
            // Make sure our UI is in the correct state.
            showDetails(mCurCheckPosition);
        }
    }

    @Override
    public void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        outState.putInt("curChoice", mCurCheckPosition);
    }

    @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        showDetails(position);
    }

    /**
     * Helper function to show the details of a selected item, either by
     * displaying a fragment in-place in the current UI, or starting a
     * whole new activity in which it is displayed.
     */
    void showDetails(int index) {
        mCurCheckPosition = index;

        if (mDualPane) {
            // We can display everything in-place with fragments, so update
            // the list to highlight the selected item and show the data.
            getListView().setItemChecked(index, true);

            // Check what fragment is currently shown, replace if needed.
            DetailsFragment details = (DetailsFragment)
                    getFragmentManager().findFragmentById(R.id.details);
            if (details == null || details.getShownIndex() != index) {
                // Make new fragment to show this selection.
                details = DetailsFragment.newInstance(index);

                // Execute a transaction, replacing any existing fragment
                // with this one inside the frame.
                FragmentTransaction ft = getFragmentManager().beginTransaction();
                if (index == 0) {
                    ft.replace(R.id.details, details);
                } else {
                    ft.replace(R.id.a_item, details);
                }
                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
                ft.commit();
            }

        } else {
            // Otherwise we need to launch a new activity to display
            // the dialog fragment with selected text.
            Intent intent = new Intent();
            intent.setClass(getActivity(), DetailsActivity.class);
            intent.putExtra("index", index);
            startActivity(intent);
        }
    }
}</pre>

<p>Второй фрагмент, <code>DetailsFragment</code>, отображает краткое содержание пьесы, выбранной в
списке <code>TitlesFragment</code>:</p>

<pre>public static class DetailsFragment extends Fragment {
    /**
     * Create a new instance of DetailsFragment, initialized to
     * show the text at 'index'.
     */
    public static DetailsFragment newInstance(int index) {
        DetailsFragment f = new DetailsFragment();

        // Supply index input as an argument.
        Bundle args = new Bundle();
        args.putInt("index", index);
        f.setArguments(args);

        return f;
    }

    public int getShownIndex() {
        return getArguments().getInt("index", 0);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        if (container == null) {
            // We have different layouts, and in one of them this
            // fragment's containing frame doesn't exist.  The fragment
            // may still be created from its saved state, but there is
            // no reason to try to create its view hierarchy because it
            // won't be displayed.  Note this is not needed -- we could
            // just run the code below, where we would create and return
            // the view hierarchy; it would just never be used.
            return null;
        }

        ScrollView scroller = new ScrollView(getActivity());
        TextView text = new TextView(getActivity());
        int padding = (int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,
                4, getActivity().getResources().getDisplayMetrics());
        text.setPadding(padding, padding, padding, padding);
        scroller.addView(text);
        text.setText(Shakespeare.DIALOGUE[getShownIndex()]);
        return scroller;
    }
}</pre>

<p>Вспомним код класса <code>TitlesFragment</code>: если пользователь нажимает на пункт списка, а
текущий макет <em>не</em> включает в себя представление <code>R.id.details</code> (которому принадлежит фрагмент
<code>DetailsFragment</code>), то приложение запускает операцию <code>DetailsActivity</code>
для отображения содержимого элемента.</p>

<p>Далее идет код класса <code>DetailsActivity</code>, который всего лишь содержит объект <code>DetailsFragment</code> для отображения
краткого содержания выбранной пьесы на экране в книжной ориентации:</p>

<pre>public static class DetailsActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        if (getResources().getConfiguration().orientation
                == Configuration.ORIENTATION_LANDSCAPE) {
            // If the screen is now in landscape mode, we can show the
            // dialog in-line with the list so we don't need this activity.
            finish();
            return;
        }

        if (savedInstanceState == null) {
            // During initial setup, plug in the details fragment.
            DetailsFragment details = new DetailsFragment();
            details.setArguments(getIntent().getExtras());
            getFragmentManager().beginTransaction().add(android.R.id.content, details).commit();
        }
    }
}</pre>

<p>Обратите внимание, что в альбомной конфигурации эта операция самостоятельно завершается, чтобы главная
операция могла принять управление и отобразить фрагмент <code>DetailsFragment</code> рядом с фрагментом<code>TitlesFragment</code>.
Это может произойти, если пользователь запустит операцию <code>DetailsActivity</code> в книжной ориентации экрана, а
затем перевернет устройство в альбомную ориентацию (в результате чего текущая операция будет перезапущена).</p>


<p>Дополнительные образцы кода, использующего фрагменты (и файлы с полным исходным кодом этого примера),
доступны в приложении-примере API Demos в разделе <a href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/index.html?hl=ru#Fragment">
ApiDemos</a> (которое можно загрузить из <a href="https://developer.android.com/resources/samples/get.html?hl=ru">компонента Samples SDK</a>).</p>





    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=ru" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Блог" target="_blank">Блог</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=ru" title="Поддержка">Поддержка</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=ru" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=ru" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=ru" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=ru" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="0cd-VdxWxGDvwjnh6ZVH4K35t3_nkmFu9SDdN-th-ys6MTQ5NzUxNjMzOTc4MzUzMA" />
      <input type="hidden" name="next" value="fragments.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
            >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
            >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
             selected="selected" >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
            >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Адрес электронной почты</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../ytblogger_lists_unified05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../android_metadata_en05ec.js?hl=ru?v=2017061508" defer></script>
  
  <script src="../../reference/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../reference/gms_lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../reference/android/support/wearable/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../reference/android/support/test/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="../../reference/android/support/constraint/lists05ec.js?hl=ru?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=ru"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_ru.js?hl=ru?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/components/fragments.html?hl=ru by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:06:43 GMT -->
</html>
