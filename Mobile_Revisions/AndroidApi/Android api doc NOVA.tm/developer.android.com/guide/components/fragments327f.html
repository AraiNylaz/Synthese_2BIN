





<!DOCTYPE html>
<html lang="vi">

<!-- Mirrored from developer.android.com/guide/components/fragments.html?hl=vi by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:05:23 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>

  



<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta content="IE=edge" http-equiv="X-UA-Compatible">





<script>var a=window.devsite||{};window.devsite=a;a.readyCallbacks=[];window.devsite.readyCallbacks=a.readyCallbacks;a.ready=function(b){a.readyCallbacks.push(b)};window.devsite.ready=a.ready;
</script>

<meta charset="utf-8">



<meta name="xsrf_token" content="4SBC7C20oPYJhW6fkZJcvFXMYkVmUyz-yoLwnveolis6MTQ5NzUxNjIwMzg1Njc4MA" />

  
    <link rel="canonical" href="fragments327f.html?hl=vi">
  

  
    <link rel="alternate" href="fragments9201.html?hl=ru" hreflang="ru">
  
    <link rel="alternate" href="fragmentsf854.html?hl=zh-tw" hreflang="zh-Hant">
  
    <link rel="alternate" href="fragments327f.html?hl=vi" hreflang="vi">
  
    <link rel="alternate" href="fragments7554.html?hl=es-419" hreflang="es-419">
  
    <link rel="alternate" href="fragments9e29.html?hl=ja" hreflang="ja">
  
    <link rel="alternate" href="fragments232e.html?hl=ko" hreflang="ko">
  
    <link rel="alternate" href="fragments0b8e.html?hl=zh-cn" hreflang="zh-Hans">
  
    <link rel="alternate" href="fragments0cf2.html?hl=id" hreflang="id">
  
    <link rel="alternate" href="fragmentsde3a.html?hl=es" hreflang="es">
  
    <link rel="alternate" href="fragments6dd3.html?hl=pt-br" hreflang="pt-br">
  
    <link rel="alternate" href="fragments.html" hreflang="en">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ru" hreflang="ru-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-tw" hreflang="zh-Hant-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=vi" hreflang="vi-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=es-419" hreflang="es-419-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ja" hreflang="ja-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=ko" hreflang="ko-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=zh-cn" hreflang="zh-Hans-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=id" hreflang="id-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=es" hreflang="es-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html?hl=pt-br" hreflang="pt-br-cn">
  
    <link rel="alternate" href="https://developer.android.google.cn/guide/components/fragments.html" hreflang="en-cn">
  

  <link rel="alternate" href="fragments.html" hreflang="x-default">




<link rel="shortcut icon" href="../../_static/f304fc21fa/images/android/favicon327f.png?hl=vi">

<link rel="apple-touch-icon" href="../../_static/f304fc21fa/images/android/touchicon-180327f.png?hl=vi">


<title>

  Phân đoạn | Android Developers

</title>

  <meta name="description" content="Fragment biểu diễn một hành vi hay một phần giao diện người dùng trong một Activity. Bạn có thể kết hợp nhiều phân đoạn trong một hoạt động duy nhất để xây dựng một UI nhiều bảng và sử dụng lại phân đoạn trong nhiều hoạt động. Bạn có thể coi phân đoạn…">


<!-- STYLESHEETS -->
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed">
<link rel="stylesheet"
    href="http://fonts.googleapis.com/css?family=Roboto:light,regular,medium,thin,italic,mediumitalic,bold"
    title="roboto">







<link href="../../static/css/default0c0e.css?hl=vi?v=2017061508" rel="stylesheet" type="text/css">
<!-- JAVASCRIPT -->
<script src="../../_static/f304fc21fa/js/android_3p-bundle327f.js?hl=vi" type="text/javascript"></script>
<script src="../../_static/f304fc21fa/js/script_foot_closure_android__vi327f.js?hl=vi"></script>
<script src="../../_static/f304fc21fa/js/script_foot_android327f.js?hl=vi"></script>

<script type="text/javascript">
  var toRoot = 'https://developer.android.com/';
  devsite.permissions.init({"039e5d84b87fd75807ffb37b7f1bbf2c": true, "098dafe57affddc137df300142652cfd": false, "cb025a64a50094835616312f4774a53d": true, "51470233c56fc1fde50f00b73c52b216": false, "752953480de00a336d911a46966cc16d": false, "700def1a83e356c06c0925afb05de4b0": false, "6749dcb526ce9bde6993550c7d928d24": true});

  var replaceBlog = false;
  var replaceYouTube = false;
  var siteDefaultLocale = 'en';

  var ANDROID_LANGUAGES = [
      'id','de','en','es','es-419','fr','pt-br','vi','tr','ru','th','ja','zh-cn','zh-tw','ko'
  ];
</script>
<script src="../../static/js/docs0c0e.js?hl=vi?v=2017061508" type="text/javascript"></script>


</head>

<body class="gc-documentation
            
            
              develop
              guide
            
            "
      itemscope itemtype="http://schema.org/Article">
  


  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;vi&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;vi&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-49880327-2&quot;}">
  
    <input class="google-analytics-id-json" type="hidden" value="{&quot;dimensions&quot;: {&quot;dimension6&quot;: &quot;vi&quot;, &quot;dimension4&quot;: &quot;API Guides&quot;, &quot;dimension5&quot;: &quot;vi&quot;, &quot;dimension3&quot;: false, &quot;dimension1&quot;: &quot;Signed out&quot;, &quot;dimension8&quot;: null}, &quot;gaid&quot;: &quot;UA-5831155-1&quot;}">
  



  
  
    <script>
      var dataLayer = [{"freeTrialEligibleUser": "False", "userCountry": "BE", "language": {"requested": "vi", "served": "vi"}, "projectName": "API Guides", "scriptsafe": null, "signedIn": "False", "internalUser": "False"}];
    </script>
  



  
  <a href="#top" id="skip-to-main">Skip to content</a>
  <header id="header-wrapper">
    <div class="dac-header" id="header">
      <div class="dac-header-inner">
        <a class="dac-nav-toggle" data-dac-toggle-nav href="#" title="Open navigation">
          <span class="dac-nav-hamburger">
            <span class="dac-nav-hamburger-top"></span>
            <span class="dac-nav-hamburger-mid"></span>
            <span class="dac-nav-hamburger-bot"></span>
          </span>
        </a>
        
        <a class="dac-header-logo" href="https://developer.android.com/index.html?hl=vi">
          <img class="dac-header-logo-image" src="../../static/images/android_logo327f.png?hl=vi"
              srcset="https://developer.android.com/static/images/android_logo_2x.png 2x?hl=vi"
              width="32" height="36" alt="Android"> Developers</a>
        <ul class="dac-header-tabs">
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/design/index.html?hl=vi"
               zh-tw-lang="設計"
               zh-cn-lang="设计"
               ru-lang="Проектирование"
               ko-lang="디자인"
               ja-lang="設計"
               es-lang="Diseñar">Design</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/develop/index.html?hl=vi"
               zh-tw-lang="開發"
               zh-cn-lang="开发"
               ru-lang="Разработка"
               ko-lang="개발"
               ja-lang="開発"
               es-lang="Desarrollar">Develop</a>
          </li>
          <li>
            <a class="dac-header-tab" href="https://developer.android.com/distribute/index.html?hl=vi"
               zh-tw-lang="發佈"
               zh-cn-lang="分发"
               ru-lang="Распространение"
               ko-lang="배포"
               ja-lang="配布"
               es-lang="Distribuir">Distribute</a>
          </li>
        </ul>


        

        <a class="dac-header-console-btn gc-analytics-event" href="https://play.google.com/apps/publish/"
           data-category="User" data-action="Console" data-label="Clicked">
          <img src="https://developer.android.com/static/images/developer-console-icon.svg?hl=vi" width="18" height="19" alt="Bảng điều khiển Play">Play Console</a>

        

<form data-search="" class="dac-header-search">
  <button class="dac-header-search-close" data-search-close="">
    <i class="dac-sprite dac-back-arrow"></i>
  </button>

  <div class="dac-header-search-inner">
    <i class="dac-sprite dac-search-white dac-header-search-icon"></i>
    
    <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q" class="dac-header-search-input" placeholder="Tìm kiếm">
    <button class="dac-header-search-clear dac-hidden" data-search-clear="">
      <i class="dac-sprite dac-close-black"></i>
    </button>
  </div>
</form>

        
      </div><!--/.header-wrap.wrap-->
    </div><!--/.header-->

    

<div id="search-results" class="dac-search-results">
  <div id="dac-search-results-history" class="dac-search-results-history">
    <div class="wrap dac-search-results-history-wrap">
      <div class="cols">
        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Most visited</h2>
          <div class="resource-flow-layout" data-history-query="history:most/visited" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>

        <div class="col-1of2 col-tablet-1of2 col-mobile-1of1">
          <h2>Recently visited</h2>
          <div class="resource-flow-layout cols" data-history-query="history:recent" data-allow-duplicates="true" data-maxresults="3" data-cardsizes="18x2"></div>
        </div>
      </div>
    </div>
  </div>

  <div id="dac-search-results-content" class="dac-search-results-content">
    <div class="dac-search-results-metadata wrap">
      <div class="dac-search-results-for">
        
          <h2>
          Results for <span id="search-results-for"></span>
          </h2>
      </div>

      <div id="dac-search-results-hero"></div>

      <div class="dac-search-results-hero cols">
        <div id="dac-search-results-reference" class="col-6of6 col-tablet-2of2 col-mobile-1of1">
          <div class="suggest-card reference no-display">
            <ul class="dac-search-results-reference">
            </ul>
          </div>
        </div>
      </div>

      <div class="cols dac-search-results-cse">
        <script src="../../../cse.google.com/f4116.txt?cx=000521750095050289010:zpcpi1ea4s8" async></script>
        <gcse:searchresults-only linkTarget="_self"></gcse:searchresults-only>
      </div>
    </div>
  </div>
</div>

  </header>

  <a name="navigation" tabindex=0 class="nav-start-marker">navigation</a>
  <nav class="dac-nav">
    <div class="dac-nav-dimmer" data-dac-toggle-nav></div>
    <div class="dac-nav-sidebar" data-swap data-dynamic="false" data-transition-speed="300" data-dac-nav>
      <div data-swap-container>
        
        <a class="dac-nav-back-button dac-swap-section dac-up dac-no-anim" tabindex=0 data-swap-button>
          
          <i class="dac-sprite dac-nav-back"></i> <span class="dac-nav-back-title">Quay lại</span>
        </a>

        <div class="dac-nav-sub dac-swap-section dac-right dac-active" itemscope
            itemtype="http://schema.org/SiteNavigationElement">
          
          
            
            <ul id="nav">
              <li class="nav-section"><div class="nav-section-header"><a href="../index327f.html?hl=vi" >Introduction</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="fundamentals327f.html?hl=vi" >App Fundamentals</a></li><li><a href="../practices/compatibility327f.html?hl=vi" >Device Compatibility</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/permissions/index327f.html?hl=vi" >System Permissions</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/permissions/requesting327f.html?hl=vi" >Requesting Permissions</a></li><li><a href="../topics/permissions/defining327f.html?hl=vi" >Defining Permissions</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../platform/index327f.html?hl=vi" >Platform Architecture</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../platform/j8-jack327f.html?hl=vi"  es-lang="Funciones del lenguaje Java 8" in-lang="Fitur Bahasa Java 8" ja-lang="Java 8 の機能" ko-lang="Java 8 언어 기능" pt-br-lang="Recursos de linguagem do Java 8" ru-lang="Возможности языка Java 8" vi-lang="Tính năng của Ngôn ngữ Java 8" zh-cn-lang="Java 8 语言功能" zh-tw-lang="Java 8 語言功能">Use Java 8 Language Features</a></li><li><a href="../practices/verifying-apps-art327f.html?hl=vi" >Verifying App Behavior on the Android Runtime (ART)</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="index327f.html?hl=vi" >App Components</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="intents-filters327f.html?hl=vi" >Intents and Intent Filters</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="intents-common327f.html?hl=vi" >Common Intents</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="activities/index327f.html?hl=vi" >Activities</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="activities/intro-activities327f.html?hl=vi" >Introduction to Activities</a></li><li><a href="activities/activity-lifecycle327f.html?hl=vi" >The Activity Lifecycle</a></li><li><a href="activities/state-changes327f.html?hl=vi" >Activity State Changes</a></li><li><a href="activities/tasks-and-back-stack327f.html?hl=vi" >Tasks and Back Stack</a></li><li><a href="activities/process-lifecycle327f.html?hl=vi" >Processes and Application Lifecycle</a></li><li><a href="activities/parcelables-and-bundles327f.html?hl=vi" >Parcelables and Bundles</a></li><li><a href="activities/recents327f.html?hl=vi" >Recents Screen</a></li></ul></li><li><a href="fragments327f.html?hl=vi" >Fragments</a></li><li><a href="loaders327f.html?hl=vi" >Loaders</a></li><li class="nav-section"><div class="nav-section-header"><a href="services327f.html?hl=vi" >Services</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="bound-services327f.html?hl=vi" >Bound Services</a></li><li><a href="aidl327f.html?hl=vi" >AIDL</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/providers/content-providers327f.html?hl=vi" >Content Providers</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/providers/content-provider-basics327f.html?hl=vi" >Content Provider Basics</a></li><li><a href="../topics/providers/content-provider-creating327f.html?hl=vi" >Creating a Content Provider</a></li><li><a href="../topics/providers/calendar-provider327f.html?hl=vi" >Calendar Provider</a></li><li><a href="../topics/providers/contacts-provider327f.html?hl=vi" >Contacts Provider</a></li><li><a href="../topics/providers/document-provider327f.html?hl=vi" >Open files using Storage Access Framework</a></li><li><a href="../topics/providers/create-document-provider327f.html?hl=vi" >Create a Custom Document Provider</a></li></ul></li><li><a href="broadcasts327f.html?hl=vi" >Broadcasts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/appwidgets/index327f.html?hl=vi" >App Widgets</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/appwidgets/host327f.html?hl=vi" >App Widget Host</a></li></ul></li><li><a href="processes-and-threads327f.html?hl=vi" >Processes and Threads</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/index327f.html?hl=vi" >App Resources</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/overview327f.html?hl=vi" >Overview</a></li><li><a href="../topics/resources/providing-resources327f.html?hl=vi" >Providing Resources</a></li><li><a href="../topics/resources/accessing-resources327f.html?hl=vi" >Accessing Resources</a></li><li><a href="../topics/resources/runtime-changes327f.html?hl=vi" >Handling Runtime Changes</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/localization327f.html?hl=vi" >Localization</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/icu4j-framework327f.html?hl=vi" >ICU4J Android Framework APIs</a></li><li><a href="../topics/resources/multilingual-support327f.html?hl=vi" >Language and Locale</a></li></ul></li><li><a href="../topics/resources/complex-xml-resources327f.html?hl=vi" >Complex XML Resources</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/resources/available-resources327f.html?hl=vi" >Resource Types</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/resources/animation-resource327f.html?hl=vi" >Animation</a></li><li><a href="../topics/resources/color-list-resource327f.html?hl=vi" >Color State List</a></li><li><a href="../topics/resources/drawable-resource327f.html?hl=vi" >Drawable</a></li><li><a href="../topics/resources/layout-resource327f.html?hl=vi" >Layout</a></li><li><a href="../topics/resources/menu-resource327f.html?hl=vi" >Menu</a></li><li><a href="../topics/resources/string-resource327f.html?hl=vi" >String</a></li><li><a href="../topics/resources/style-resource327f.html?hl=vi" >Style</a></li><li><a href="../topics/resources/more-resources327f.html?hl=vi" >More Types</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/manifest/manifest-intro327f.html?hl=vi" >App Manifest</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/manifest/action-element327f.html?hl=vi" >&lt;action&gt;</a></li><li><a href="../topics/manifest/activity-element327f.html?hl=vi" >&lt;activity&gt;</a></li><li><a href="../topics/manifest/activity-alias-element327f.html?hl=vi" >&lt;activity-alias&gt;</a></li><li><a href="../topics/manifest/application-element327f.html?hl=vi" >&lt;application&gt;</a></li><li><a href="../topics/manifest/category-element327f.html?hl=vi" >&lt;category&gt;</a></li><li><a href="../topics/manifest/compatible-screens-element327f.html?hl=vi" >&lt;compatible-screens&gt;</a></li><li><a href="../topics/manifest/data-element327f.html?hl=vi" >&lt;data&gt;</a></li><li><a href="../topics/manifest/grant-uri-permission-element327f.html?hl=vi" >&lt;grant-uri-permission&gt;</a></li><li><a href="../topics/manifest/instrumentation-element327f.html?hl=vi" >&lt;instrumentation&gt;</a></li><li><a href="../topics/manifest/intent-filter-element327f.html?hl=vi" >&lt;intent-filter&gt;</a></li><li><a href="../topics/manifest/manifest-element327f.html?hl=vi" >&lt;manifest&gt;</a></li><li><a href="../topics/manifest/meta-data-element327f.html?hl=vi" >&lt;meta-data&gt;</a></li><li><a href="../topics/manifest/path-permission-element327f.html?hl=vi" >&lt;path-permission&gt;</a></li><li><a href="../topics/manifest/permission-element327f.html?hl=vi" >&lt;permission&gt;</a></li><li><a href="../topics/manifest/permission-group-element327f.html?hl=vi" >&lt;permission-group&gt;</a></li><li><a href="../topics/manifest/permission-tree-element327f.html?hl=vi" >&lt;permission-tree&gt;</a></li><li><a href="../topics/manifest/provider-element327f.html?hl=vi" >&lt;provider&gt;</a></li><li><a href="../topics/manifest/receiver-element327f.html?hl=vi" >&lt;receiver&gt;</a></li><li><a href="../topics/manifest/service-element327f.html?hl=vi" >&lt;service&gt;</a></li><li><a href="../topics/manifest/supports-gl-texture-element327f.html?hl=vi" >&lt;supports-gl-texture&gt;</a></li><li><a href="../topics/manifest/supports-screens-element327f.html?hl=vi" >&lt;supports-screens&gt;</a></li><li><a href="../topics/manifest/uses-configuration-element327f.html?hl=vi" >&lt;uses-configuration&gt;</a></li><li><a href="../topics/manifest/uses-feature-element327f.html?hl=vi" >&lt;uses-feature&gt;</a></li><li><a href="../topics/manifest/uses-library-element327f.html?hl=vi" >&lt;uses-library&gt;</a></li><li><a href="../topics/manifest/uses-permission-element327f.html?hl=vi" >&lt;uses-permission&gt;</a></li><li><a href="../topics/manifest/uses-permission-sdk-23-element327f.html?hl=vi" >&lt;uses-permission-sdk-23&gt;</a></li><li><a href="../topics/manifest/uses-sdk-element327f.html?hl=vi" >&lt;uses-sdk&gt;</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/index327f.html?hl=vi" >User Interface</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/overview327f.html?hl=vi" >Overview</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/declaring-layout327f.html?hl=vi" >Layouts</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/layout/linear327f.html?hl=vi" >Linear Layout</a></li><li><a href="../topics/ui/layout/relative327f.html?hl=vi" >Relative Layout</a></li><li><a href="../topics/ui/layout/recyclerview327f.html?hl=vi" >Recycler View</a></li><li><a href="../topics/ui/layout/listview327f.html?hl=vi" >List View</a></li><li><a href="../topics/ui/layout/gridview327f.html?hl=vi" >Grid View</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/controls327f.html?hl=vi" >Input Controls</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/controls/button327f.html?hl=vi" >Buttons</a></li><li><a href="../topics/ui/controls/checkbox327f.html?hl=vi" >Checkboxes</a></li><li><a href="../topics/ui/controls/radiobutton327f.html?hl=vi" >Radio Buttons</a></li><li><a href="../topics/ui/controls/togglebutton327f.html?hl=vi" >Toggle Buttons</a></li><li><a href="../topics/ui/controls/spinner327f.html?hl=vi" >Spinners</a></li><li><a href="../topics/ui/controls/pickers327f.html?hl=vi" >Pickers</a></li></ul></li><li><a href="../topics/ui/ui-events327f.html?hl=vi" >Input Events</a></li><li><a href="../topics/ui/menus327f.html?hl=vi" >Menus</a></li><li><a href="../topics/ui/settings327f.html?hl=vi" >Settings</a></li><li><a href="../topics/ui/dialogs327f.html?hl=vi" >Dialogs</a></li><li><a href="../topics/ui/notifiers/notifications327f.html?hl=vi" >Notifications</a></li><li><a href="../topics/ui/notifiers/toasts327f.html?hl=vi" >Toasts</a></li><li><a href="../topics/ui/shortcuts327f.html?hl=vi" >App Shortcuts</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/search/index327f.html?hl=vi" >Search</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/search/search-dialog327f.html?hl=vi" >Creating a Search Interface</a></li><li><a href="../topics/search/adding-recent-query-suggestions327f.html?hl=vi" >Adding Recent Query Suggestions</a></li><li><a href="../topics/search/adding-custom-suggestions327f.html?hl=vi" >Adding Custom Suggestions</a></li><li><a href="../topics/search/searchable-config327f.html?hl=vi" >Searchable Configuration</a></li></ul></li><li><a href="../topics/ui/multi-window327f.html?hl=vi" >Multi-Window Support</a></li><li><a href="../topics/ui/drag-drop327f.html?hl=vi" >Drag and Drop</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/ui/accessibility/index327f.html?hl=vi" >Accessibility</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/ui/accessibility/apps327f.html?hl=vi" >Making Apps More Accessible</a></li><li><a href="../topics/ui/accessibility/checklist327f.html?hl=vi" >Accessibility Developer Checklist</a></li><li><a href="../topics/ui/accessibility/node-tree-debugging327f.html?hl=vi" >Using Node Tree Debugging</a></li><li><a href="../topics/ui/accessibility/services327f.html?hl=vi" >Building Accessibility Services</a></li><li><a href="../topics/ui/accessibility/custom-views327f.html?hl=vi" >Building Accessible Custom Views</a></li></ul></li><li><a href="../topics/ui/themes327f.html?hl=vi" >Styles and Themes</a></li><li><a href="../topics/ui/custom-components327f.html?hl=vi" >Custom Components</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/graphics/index327f.html?hl=vi" >Animation and Graphics</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/graphics/overview327f.html?hl=vi" >Overview</a></li><li><a href="../topics/graphics/prop-animation327f.html?hl=vi" >Property Animation</a></li><li><a href="../topics/graphics/view-animation327f.html?hl=vi" >View Animation</a></li><li><a href="../topics/graphics/drawable-animation327f.html?hl=vi" >Drawable Animation</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/graphics/2d-graphics327f.html?hl=vi" >Canvas and Drawables</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/graphics/vector-drawable-resources327f.html?hl=vi" >Vector Drawable</a></li></ul></li><li><a href="../topics/graphics/opengl327f.html?hl=vi" >OpenGL ES</a></li><li><a href="../topics/graphics/hardware-accel327f.html?hl=vi" >Hardware Acceleration</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/renderscript/index327f.html?hl=vi" >Computation</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/renderscript/compute327f.html?hl=vi" >RenderScript</a></li><li><a href="../topics/renderscript/advanced327f.html?hl=vi" >Advanced RenderScript</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/renderscript/reference/overview327f.html?hl=vi" >Runtime API Reference</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/renderscript/reference/rs_value_types327f.html?hl=vi" >Numerical Types</a></li><li><a href="../topics/renderscript/reference/rs_object_types327f.html?hl=vi" >Object Types</a></li><li><a href="../topics/renderscript/reference/rs_convert327f.html?hl=vi" >Conversion Functions</a></li><li><a href="../topics/renderscript/reference/rs_math327f.html?hl=vi" >Mathematical Constants and Functions</a></li><li><a href="../topics/renderscript/reference/rs_vector_math327f.html?hl=vi" >Vector Math Functions</a></li><li><a href="../topics/renderscript/reference/rs_matrix327f.html?hl=vi" >Matrix Functions</a></li><li><a href="../topics/renderscript/reference/rs_quaternion327f.html?hl=vi" >Quaternion Functions</a></li><li><a href="../topics/renderscript/reference/rs_atomic327f.html?hl=vi" >Atomic Update Functions</a></li><li><a href="../topics/renderscript/reference/rs_time327f.html?hl=vi" >Time Functions and Types</a></li><li><a href="../topics/renderscript/reference/rs_allocation_data327f.html?hl=vi" >Allocation Data Access Functions</a></li><li><a href="../topics/renderscript/reference/rs_object_info327f.html?hl=vi" >Object Characteristics Functions</a></li><li><a href="../topics/renderscript/reference/rs_for_each327f.html?hl=vi" >Kernel Invocation Functions and Types</a></li><li><a href="../topics/renderscript/reference/rs_io327f.html?hl=vi" >Input/Output Functions</a></li><li><a href="../topics/renderscript/reference/rs_debug327f.html?hl=vi" >Debugging Functions</a></li><li><a href="../topics/renderscript/reference/rs_graphics327f.html?hl=vi" >Graphics Functions and Types</a></li><li><a href="../topics/renderscript/reference/index327f.html?hl=vi" >Index</a></li></ul></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/index327f.html?hl=vi" >Media Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/media-apps-overview327f.html?hl=vi" >Media Apps Overview</a></li><li><a href="../topics/media-apps/working-with-a-media-session327f.html?hl=vi" >Working with a Media Session</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/audio-app/building-an-audio-app327f.html?hl=vi" >Building an Audio App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/audio-app/building-a-mediabrowserservice327f.html?hl=vi" >Building a Media Browser Service</a></li><li><a href="../topics/media-apps/audio-app/building-a-mediabrowser-client327f.html?hl=vi" >Building a Media Browser Client</a></li><li><a href="../topics/media-apps/audio-app/mediasession-callbacks327f.html?hl=vi" >Media Session Callbacks</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media-apps/video-app/building-a-video-app327f.html?hl=vi" >Building a Video App</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media-apps/video-app/building-a-video-player-activity327f.html?hl=vi" >Building a Video Player Activity</a></li><li><a href="../topics/media-apps/video-app/mediasession-callbacks327f.html?hl=vi" >Media Session Callbacks</a></li></ul></li><li><a href="../topics/media-apps/mediabuttons327f.html?hl=vi" >Responding to Media Buttons</a></li><li><a href="../topics/media-apps/volume-and-earphones327f.html?hl=vi" >Handling Changes in Audio Output</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media/index327f.html?hl=vi" >Media and Camera</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media/media-formats327f.html?hl=vi" >Supported Media Formats</a></li><li><a href="../topics/media/mediaplayer327f.html?hl=vi" >MediaPlayer</a></li><li><a href="../topics/media/mediarecorder327f.html?hl=vi" >MediaRecorder</a></li><li><a href="../topics/media/exoplayer327f.html?hl=vi" >ExoPlayer</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/media/media-routing327f.html?hl=vi" >Media Routing</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/media/mediarouter327f.html?hl=vi" >MediaRouter API</a></li><li><a href="../topics/media/mediarouteprovider327f.html?hl=vi" >MediaRouteProvider API</a></li></ul></li><li><a href="../topics/media/camera327f.html?hl=vi" >Camera API</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/sensors/index327f.html?hl=vi" >Location and Sensors</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/location/index327f.html?hl=vi" >Location and Maps</a></li><li><a href="../topics/location/strategies327f.html?hl=vi" >Location Strategies</a></li><li><a href="../topics/sensors/sensors_overview327f.html?hl=vi" >Sensors Overview</a></li><li><a href="../topics/sensors/sensors_motion327f.html?hl=vi" >Motion Sensors</a></li><li><a href="../topics/sensors/sensors_position327f.html?hl=vi" >Position Sensors</a></li><li><a href="../topics/sensors/sensors_environment327f.html?hl=vi" >Environment Sensors</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/index327f.html?hl=vi" >Connectivity</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/bluetooth327f.html?hl=vi" >Bluetooth</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/bluetooth-le327f.html?hl=vi" >Bluetooth Low Energy</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/nfc/index327f.html?hl=vi" >NFC</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/nfc/nfc327f.html?hl=vi" >NFC Basics</a></li><li><a href="../topics/connectivity/nfc/advanced-nfc327f.html?hl=vi" >Advanced NFC</a></li><li><a href="../topics/connectivity/nfc/hce327f.html?hl=vi" >Host-based Card Emulation</a></li></ul></li><li><a href="../topics/connectivity/wifip2p327f.html?hl=vi" >Wi-Fi P2P</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/connectivity/usb/index327f.html?hl=vi" >USB</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/connectivity/usb/accessory327f.html?hl=vi" >Accessory</a></li><li><a href="../topics/connectivity/usb/host327f.html?hl=vi" >Host</a></li></ul></li><li><a href="../topics/connectivity/sip327f.html?hl=vi" >SIP</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/text/index327f.html?hl=vi" >Text and Input</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/text/copy-paste327f.html?hl=vi" >Copy and Paste</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/text/creating-input-method327f.html?hl=vi" >Creating an IME</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/text/image-keyboard327f.html?hl=vi" >Image Keyboard</a></li></ul></li><li><a href="../topics/text/spell-checker-framework327f.html?hl=vi" >Spelling Checker</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/data/index327f.html?hl=vi" >Data Storage</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/data/data-storage327f.html?hl=vi" >Storage Options</a></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/data/backup327f.html?hl=vi" >Data Backup</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/data/autobackup327f.html?hl=vi" >Auto Backup</a></li><li><a href="../topics/data/keyvaluebackup327f.html?hl=vi" >Key/Value Backup</a></li><li><a href="../topics/data/testingbackup327f.html?hl=vi" >Testing Backup and Restore</a></li></ul></li><li><a href="../topics/data/install-location327f.html?hl=vi" >App Install Location</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../topics/admin/index327f.html?hl=vi" >Administration</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../topics/admin/device-admin327f.html?hl=vi" >Device Policies</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../webapps/index327f.html?hl=vi" >Web Apps</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../webapps/targeting327f.html?hl=vi" >Supporting Different Screens in Web Apps</a></li><li><a href="../webapps/webview327f.html?hl=vi" >Building Web Apps in WebView</a></li><li><a href="../webapps/migrating327f.html?hl=vi" >Migrating to WebView in Android 4.4</a></li><li><a href="../webapps/debugging327f.html?hl=vi" >Debugging Web Apps</a></li><li><a href="../webapps/best-practices327f.html?hl=vi" >Best Practices for Web Apps</a></li></ul></li><li class="nav-section"><div class="nav-section-header"><a href="../practices/index327f.html?hl=vi"  de-lang="Bewährte Verfahren" es-lang="Prácticas recomendadas" fr-lang="Meilleures pratiques" it-lang="Best practice" ja-lang="ベスト プラクティス" zh-cn-lang="最佳实践" zh-tw-lang="最佳實務">Best Practices</a><span class="toggle-icon" tabindex="0"></span></div><ul><li class="nav-section"><div class="nav-section-header"><a href="../practices/screens_support327f.html?hl=vi" >Supporting Multiple Screens</a><span class="toggle-icon" tabindex="0"></span></div><ul><li><a href="../practices/screens-distribution327f.html?hl=vi" >Distributing to Specific Screens</a></li><li><a href="../practices/screen-compat-mode327f.html?hl=vi" >Screen Compatibility Mode</a></li></ul></li><li><a href="../practices/app-design/seamlessness327f.html?hl=vi" >Designing for Seamlessness</a></li><li><a href="../practices/tablets-and-handsets327f.html?hl=vi" >Supporting Tablets and Handsets</a></li></ul></li>
            </ul>
            
          
        </div>
        
        
          



<ul id="dac-main-navigation" class="dac-nav-list dac-swap-section dac-left dac-no-anim" tabindex=0>
  <li class="dac-nav-item home">
    <a class="dac-nav-link" href="https://developer.android.com/index.html?hl=vi">Trang chủ</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary about">
      <li class="dac-nav-item versions">
        <a class="dac-nav-link" href="https://developer.android.com/about/versions/nougat/index.html?hl=vi">Android</a>
      </li>
      <li class="dac-nav-item wear">
        <a class="dac-nav-link" href="https://developer.android.com/wear/index.html?hl=vi">Wear</a>
      </li>
      <li class="dac-nav-item tv">
        <a class="dac-nav-link" href="https://developer.android.com/tv/index.html?hl=vi">TV</a>
      </li>
      <li class="dac-nav-item auto">
        <a class="dac-nav-link" href="https://developer.android.com/auto/index.html?hl=vi">Auto</a>
      </li>
      <li class="dac-nav-item things">
        <a class="dac-nav-link" href="https://developer.android.com/things/index.html?hl=vi">Things</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item design">
    <a class="dac-nav-link" href="https://developer.android.com/design/index.html?hl=vi"
       zh-tw-lang="設計"
       zh-cn-lang="设计"
       ru-lang="Проектирование"
       ko-lang="디자인"
       ja-lang="設計"
       es-lang="Diseñar">Design</a>
  </li>
  <li class="dac-nav-item develop">
    <a class="dac-nav-link" href="https://developer.android.com/develop/index.html?hl=vi"
       zh-tw-lang="開發"
       zh-cn-lang="开发"
       ru-lang="Разработка"
       ko-lang="개발"
       ja-lang="開発"
       es-lang="Desarrollar">Develop</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary develop">
      <li class="dac-nav-item training">
        <a class="dac-nav-link" href="https://developer.android.com/training/index.html?hl=vi"
           zh-tw-lang="訓練課程"
           zh-cn-lang="培训"
           ru-lang="Курсы"
           ko-lang="교육"
           ja-lang="トレーニング"
           es-lang="Capacitación">Đào tạo</a>
      </li>
      <li class="dac-nav-item guide">
        <a class="dac-nav-link" href="../index327f.html?hl=vi"
           zh-tw-lang="API 指南"
           zh-cn-lang="API 指南"
           ru-lang="Руководства по API"
           ko-lang="API 가이드"
           ja-lang="API ガイド"
           es-lang="Guías de la API">API Guides</a>
      </li>
      <li class="dac-nav-item reference">
        <a class="dac-nav-link" href="https://developer.android.com/reference/packages.html?hl=vi"
           zh-tw-lang="參考資源"
           zh-cn-lang="参考"
           ru-lang="Справочник"
           ko-lang="참조문서"
           ja-lang="リファレンス"
           es-lang="Referencia">Tham chiếu</a>
      </li>
      <li class="dac-nav-item samples">
        <a class="dac-nav-link" href="https://developer.android.com/samples/index.html?hl=vi">Mẫu</a>
      </li>
      <li class="dac-nav-item libraries">
        <a class="dac-nav-link" href="https://developer.android.com/topic/libraries/index.html?hl=vi"
           >Thư viện</a></li>
      <li class="dac-nav-item studio">
        <a class="dac-nav-link" href="https://developer.android.com/studio/index.html?hl=vi"
           >Android Studio</a></li>
      <li class="dac-nav-item ndk">
        <a class="dac-nav-link" href="https://developer.android.com/ndk/index.html?hl=vi"
           >Android NDK</a></li>
      <li class="dac-nav-item google">
        <a class="dac-nav-link" href="https://developer.android.com/google/index.html?hl=vi">Google Services</a>
      </li>
      <li class="dac-nav-item quality-guidelines">
        <a class="dac-nav-link" href="https://developer.android.com/develop/quality-guidelines/index.html?hl=vi">Quality Guidelines</a>
      </li>
      <li class="dac-nav-item kotlin">
        <a class="dac-nav-link" href="https://developer.android.com/kotlin/index.html?hl=vi">Kotlin</a>
       </li>
    </ul>
  </li>
  <li class="dac-nav-item distribute">
    <a class="dac-nav-link" href="https://developer.android.com/distribute/index.html?hl=vi"
       zh-tw-lang="發佈"
       zh-cn-lang="分发"
       ru-lang="Распространение"
       ko-lang="배포"
       ja-lang="配布"
       de-lang="Vertrieb"
       es-lang="Distribuir"
       es-419-lang="Distribuye"
       fr-lang="Distribuer"
       id-lang="Distribusikan"
       pt-br-lang="Distribuição"
       th-lang="จัดจำหน่าย"
       tr-lang="Dağıtma"
       vi-lang="Phân phối">Distribute</a>
    <i class="dac-sprite dac-expand-more-black dac-nav-sub-slider" tabindex=0></i>
    <ul class="dac-nav-secondary distribute">
      <li class="dac-nav-item google-play">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/google-play/index.html?hl=vi">Google Play</a>
      </li>
      <li class="dac-nav-item console">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/console/index.html?hl=vi">Bảng điều khiển Play</a>
      </li>
      <li class="dac-nav-item best-practices">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/best-practices/index.html?hl=vi"
          es-419-lang="Recomendaciones"
          fr-lang="Bonnes pratiques"
          id-lang="Praktik terbaik"
          ja-lang="おすすめの方法"
          ko-lang="권장사항"
          pt-br-lang="Práticas recomendadas"
          ru-lang="Рекомендации"
          th-lang="จัดจำหน่าย"
          tr-lang="En iyi uygulamalar"
          vi-lang="Các phương pháp hay nhất"
          zh-cn-lang="最佳做法"
          zh-tw-lang="最佳做法">Best practices</a>
      </li>
      <li class="dac-nav-item marketing-tools">
        <a class="dac-nav-link" href="https://developer.android.com/distribute/marketing-tools/index.html?hl=vi"
          de-lang="Marketing-Tools"
          es-419-lang="Herramientas de marketing"
          fr-lang="Outils marketing"
          id-lang="Fitur pemasaran"
          ja-lang="マーケティング ツール"
          ko-lang="마케팅 도구"
          pt-br-lang="Ferramentas de marketing"
          ru-lang="Маркетинговые инструменты"
          th-lang="เครื่องมือการตลาด"
          tr-lang="Pazarlama araçları"
          vi-lang="Công cụ tiếp thị"
          zh-cn-lang="营销工具"
          zh-tw-lang="行銷工具">Marketing tools</a>
      </li>
      <li class="dac-nav-item policy-center">
        <a class="dac-nav-link" href="https://play.google.com/about/developer-content-policy/" target="_blank">Policy center</a>
      </li>
    </ul>
  </li>
  <li class="dac-nav-item stories">
    <a class="dac-nav-link" href="https://developer.android.com/stories/index.html?hl=vi">Stories</a>
  </li>
  
  <li class="dac-nav-item preview">
    <a class="dac-nav-link" href="https://developer.android.com/preview/index.html?hl=vi">Preview</a>
  </li>
  
</ul>

        
      </div>
    </div>
  </nav>

  <a name="top" tabindex="0"></a>
  
  <div class="wrap clearfix" id="body-content">
  
    
      
      <div class="content-header">
        <ul class="dac-header-crumbs"></ul>
        <!-- Breadcrumb Setup -->
        <script>$('.dac-nav-list').dacCurrentPage().dacCrumbs();</script>
        <h1 itemprop="name">Phân đoạn</h1>
      
        
      
      </div>
      
    
    <div class="jd-descr " itemprop="articleBody">
      

<div id="qv-wrapper">
<div id="qv">
  <h2>Trong tài liệu này</h2>
  <ol>
    <li><a href="#Design">Triết lý Thiết kế</a></li>
    <li><a href="#Creating">Tạo một Phân đoạn</a>
      <ol>
        <li><a href="#UI">Thêm một giao diện người dùng</a></li>
        <li><a href="#Adding">Thêm một phân đoạn vào một hoạt động</a></li>
      </ol>
    </li>
    <li><a href="#Managing">Quản lý Phân đoạn</a></li>
    <li><a href="#Transactions">Thực hiện Giao tác Phân đoạn</a></li>
    <li><a href="#CommunicatingWithActivity">Giao tiếp với Hoạt động</a>
      <ol>
        <li><a href="#EventCallbacks">Tạo gọi lại sự kiện cho hoạt động</a></li>
        <li><a href="#ActionBar">Thêm mục vào Thanh Hành động</a></li>
      </ol>
    </li>
    <li><a href="#Lifecycle">Xử lý Vòng đời của Phân đoạn</a>
      <ol>
        <li><a href="#CoordinatingWithActivity">Phối hợp với vòng đời của hoạt động</a></li>
      </ol>
    </li>
    <li><a href="#Example">Ví dụ</a></li>
  </ol>

  <h2>Lớp khóa</h2>
  <ol>
    <li><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code></li>
    <li><code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code></li>
  </ol>

  <h2>Xem thêm</h2>
  <ol>
    <li><a href="https://developer.android.com/training/basics/fragments/index.html?hl=vi">Xây dựng một UI Động bằng các Phân đoạn</a></li>
    <li><a href="../practices/tablets-and-handsets327f.html?hl=vi">Hỗ trợ Máy tính bảng
và Thiết bị cầm tay</a></li>
  </ol>
</div>
</div>

<p><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> biểu diễn một hành vi hay một phần giao diện người dùng trong một
<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code>. Bạn có thể kết hợp nhiều phân đoạn trong một hoạt động duy nhất để xây dựng một
UI nhiều bảng và sử dụng lại phân đoạn trong nhiều hoạt động. Bạn có thể coi phân đoạn như là một
phần mô-đun của một hoạt động, có vòng đời của chính nó, nhận các sự kiện đầu vào của chính nó, và
bạn có thể thêm hoặc gỡ bỏ trong khi hoạt động đang chạy (kiểu như một "hoạt động con" mà
bạn có thể sử dụng lại trong các hoạt động khác nhau).</p>

<p>Phân đoạn phải luôn được nhúng trong một hoạt động và vòng đời của phân đoạn bị ảnh hưởng trực tiếp bởi
vòng đời của hoạt động chủ. Ví dụ, khi hoạt động bị tạm dừng, tất cả
phân đoạn trong nó cũng vậy, và khi hoạt động bị hủy, tất cả phân đoạn cũng vậy. Tuy nhiên, trong khi một
hoạt động đang chạy (nó ở trong trạng thái vòng đời <em>được tiếp tục</em><a href="activities327f.html?hl=vi#Lifecycle"></a>), bạn có thể
thao tác từng phân đoạn độc lập, chẳng hạn như thêm hay xóa chúng. Khi bạn thực hiện một
giao tác phân đoạn, bạn cũng có thể thêm nó vào một ngăn xếp được quản lý bởi
hoạt động đó&mdash;từng mục nhập vào ngăn xếp trong hoạt động là một bản ghi giao tác phân đoạn
đã xảy ra. Ngăn xếp cho phép người dùng đảo ngược một giao tác phân đoạn (điều hướng ngược lại),
bằng cách nhấn nút <em>Quay lại</em>.</p>

<p>Khi bạn thêm một phân đoạn như một phần trong bố trí hoạt động của mình, nó sẽ ở trong một <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> bên trong phân cấp dạng xem của hoạt động đó và phân đoạn này sẽ định nghĩa bố trí
dạng xem của chính nó.
Bạn có thể chèn một phân đoạn vào bố trí hoạt động của mình bằng cách khai báo phân đoạn trong tệp
bố trí của hoạt động, dưới dạng một phần tử <code>&amp;lt;fragment&amp;gt;</code>, hoặc từ mã ứng dụng của bạn bằng cách thêm nó vào một
<code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> hiện hữu. Tuy nhiên, không bắt buộc phải có một phân đoạn là một bộ phận của bố trí hoạt động
; bạn cũng có thể sử dụng một phân đoạn mà không cần UI của chính nó như một trình thực hiện vô hình cho hoạt động
.</p>

<p>Tài liệu này mô tả cách xây dựng ứng dụng của bạn để sử dụng phân đoạn, bao gồm
cách các phân đoạn có thể duy trì trạng thái của chúng khi được thêm vào ngăn xếp của hoạt động, chia sẻ
các sự kiện với hoạt động và các phân đoạn khác trong hoạt động, đóng góp vào thanh hành động của hoạt động
và nhiều thông tin khác.</p>


<h2 id="Design">Triết lý Thiết kế</h2>

<p>Android giới thiệu phân đoạn trong phiên bản Android 3.0 (API mức 11), chủ yếu nhằm hỗ trợ
các thiết kế UI động và linh hoạt hơn trên màn hình lớn, chẳng hạn như máy tính bảng. Vì
màn hình của máy tính bảng lớn hơn nhiều màn hình của thiết bị cầm tay, có nhiều khoảng trống hơn để kết hợp và
trao đổi các thành phần UI. Phân đoạn cho phép những thiết kế như vậy mà không cần bạn phải quản lý những thay đổi
phức tạp về phân cấp dạng xem. Bằng cách chia bố trí của một hoạt động thành các phân đoạn, bạn có thể
sửa đổi diện mạo của hoạt động vào thời gian chạy và giữ những thay đổi đó trong một ngăn xếp
được quản lý bởi hoạt động.</p>

<p>Ví dụ, một ứng dụng tin tức có thể sử dụng một phân đoạn để hiển thị một danh sách bài viết ở
bên trái và một phân đoạn khác để hiển thị một bài viết ở bên phải&mdash;cả hai phân đoạn đều xuất hiện trong một
hoạt động, bên cạnh nhau, và từng phân đoạn có tập phương pháp gọi lại vòng đời riêng và xử lý
các sự kiện nhập liệu người dùng riêng của mình. Vì thế, thay vì sử dụng một hoạt động để chọn một bài viết và một
hoạt động khác để đọc bài viết, người dùng có thể chọn một bài viết và đọc nó trong cùng
hoạt động, như được minh họa trong bố trí máy tính bảng trong hình 1.</p>

<p>Bạn nên thiết kế từng phân đoạn như một thành phần hoạt động dạng mô-đun và có thể sử dụng lại. Đó là bởi
mỗi phân đoạn sẽ định nghĩa bố trí và hành vi của chính nó với các phương pháp gọi lại vòng đời của chính nó, bạn có thể
bao gồm một phân đoạn trong nhiều hoạt động, vì thế bạn nên thiết kế để tái sử dụng và tránh trực tiếp
thao tác một phân đoạn từ một phân đoạn khác. Điều này đặc biệt quan trọng vì một phân đoạn
mô-đun cho phép bạn thay đổi kết hợp phân đoạn của mình cho các kích cỡ màn hình khác nhau. Khi thiết kế
ứng dụng của bạn để hỗ trợ cả máy tính bảng và thiết bị cầm tay, bạn có thể sử dụng lại phân đoạn của mình trong các cấu hình
bố trí khác nhau nhằm tối ưu hóa trải nghiệm người dùng dựa trên không gian màn hình có sẵn. Ví
dụ, trên một thiết bị cầm tay, có thể cần phải tách riêng các phân đoạn để cung cấp một UI đơn bảng khi mà
không thể làm vừa khít nhiều hơn một phân đoạn trong cùng hoạt động.</p>

<img src="../../images/fundamentals/fragments327f.png?hl=vi" alt="" />
<p class="img-caption"><strong>Hình 1.</strong> Ví dụ về cách hai mô-đun UI được định nghĩa
bởi các phân đoạn có thể được kết hợp thành một hoạt động đối với thiết kế máy tính bảng, nhưng được tách riêng đối với
thiết kế thiết bị cầm tay.</p>

<p>Ví dụ&mdash;để tiếp tục với ví dụ về ứng dụng tin tức&mdash;ứng dụng có thể nhúng
hai phân đoạn trong <em>Hoạt động A</em>, khi đang chạy trên một thiết bị có kích cỡ máy tính bảng. Tuy nhiên, trên một
màn hình kích cỡ thiết bị cầm tay, không có đủ khoảng trống cho cả hai phân đoạn, vì thế <em>Hoạt động A</em> chỉ
bao gồm phân đoạn cho danh sách bài viết, và khi người dùng chọn một bài viết, nó sẽ khởi động
<em>Hoạt động B</em>, hoạt động này chứa phân đoạn thứ hai là đọc bài viết. Vì thế, ứng dụng
hỗ trợ cả máy tính bảng và thiết bị cầm tay bằng cách sử dụng lại các phân đoạn theo các cách kết hợp khác nhau như được minh họa trong
hình 1.</p>

<p>Để biết thêm thông tin về việc thiết kế ứng dụng của bạn bằng các cách kết hợp phân đoạn khác nhau cho
cấu hình màn hình khác nhau, hãy xem hướng dẫn <a href="../practices/tablets-and-handsets327f.html?hl=vi">Hỗ trợ Máy tính bảng và Thiết bị cầm tay</a>.</p>



<h2 id="Creating">Tạo một Phân đoạn</h2>

<div class="figure" style="width:327px">
<img src="../../images/fragment_lifecycle327f.png?hl=vi" alt="" />
<p class="img-caption"><strong>Hình 2.</strong> Vòng đời của một phân đoạn (trong khi hoạt động
của nó đang chạy).</p>
</div>

<p>Để tạo một phân đoạn, bạn phải tạo một lớp con của <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> (hoặc
một lớp con hiện tại của nó). Lớp <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> có mã trông rất giống
một <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code>. Nó chứa các phương pháp gọi lại tương tự như hoạt động, chẳng
hạn như <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onStart()">onStart()</a></code>,
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onPause()">onPause()</a></code>, và <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onStop()">onStop()</a></code>. Trên
thực tế, nếu bạn đang chuyển đổi một ứng dụng Android hiện tại để sử dụng các phân đoạn, bạn có thể chỉ cần di chuyển
mã khỏi các phương pháp gọi lại của hoạt động của bạn vào các phương pháp gọi lại tương ứng của phân đoạn
của bạn.</p>

<p>Thường thì ít nhất bạn nên triển khai các phương pháp vòng đời sau:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code></dt>
  <dd>Hệ thống sẽ gọi phương pháp này khi tạo phân đoạn. Trong triển khai của mình, bạn nên
khởi tạo các thành phần thiết yếu của phân đoạn mà bạn muốn giữ lại khi phân đoạn
bị tạm dừng hoặc dừng hẳn, sau đó tiếp tục.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
  <dd>Hệ thống sẽ gọi phương pháp này khi đến lúc phân đoạn vẽ giao diện người dùng của nó
lần đầu tiên. Để vẽ một UI cho phân đoạn của mình, bạn phải trả về một <code><a href="https://developer.android.com/reference/android/view/View.html?hl=vi">View</a></code> từ phương pháp
này, đây là gốc của bố trí phân đoạn của bạn. Bạn có thể trả về giá trị rỗng nếu phân đoạn không
cung cấp UI.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#onPause()">onPause()</a></code></dt>
  <dd>Hệ thống gọi phương pháp này là dấu hiệu đầu tiên về việc người dùng đang rời khỏi
phân đoạn (mặc dù không phải lúc nào cũng có nghĩa rằng phân đoạn đang bị hủy). Trường hợp này thường là khi bạn
định thực hiện bất kỳ thay đổi nào vẫn cần có hiệu lực ngoài phiên của người dùng hiện thời (vì
người dùng có thể không quay lại).</dd>
</dl>

<p>Phần lớn ứng dụng nên triển khai ít nhất ba phương pháp sau đối với mọi phân đoạn, nhưng có một vài
phương pháp gọi lại khác mà bạn cũng nên sử dụng để xử lý các giai đoạn khác nhau trong
vòng đời của phân đoạn. Tất cả phương pháp gọi lại vòng đời được đề cập chi tiết hơn trong phần
về <a href="#Lifecycle">Xử lý Vòng đời của Phân đoạn</a>.</p>


<p>Cũng có một vài lớp con mà bạn có thể muốn mở rộng thay vì lớp cơ bản <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code>:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/DialogFragment.html?hl=vi">DialogFragment</a></code></dt>
  <dd>Hiển thị một hộp thoại trôi nổi. Sử dụng lớp này để tạo một hộp thoại là một phương án hay cho việc sử dụng các phương pháp trình trợ giúp
hộp thoại trong lớp <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code>, vì bạn có thể
kết hợp một hộp thoại phân đoạn vào ngăn xếp của các phân đoạn được quản lý bởi hoạt động,
cho phép người dùng trả về một phân đoạn bị bỏ.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi">ListFragment</a></code></dt>
  <dd>Hiển thị một danh sách các mục được quản lý bởi một trình điều hợp (chẳng hạn như một <code><a href="https://developer.android.com/reference/android/widget/SimpleCursorAdapter.html?hl=vi">SimpleCursorAdapter</a></code>), tương tự như <code><a href="https://developer.android.com/reference/android/app/ListActivity.html?hl=vi">ListActivity</a></code>. Nó cung cấp
một vài phương pháp để quản lý một dạng xem danh sách, chẳng hạn như phương pháp gọi lại <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> để
xử lý các sự kiện nhấp.</dd>

  <dt><code><a href="https://developer.android.com/reference/android/preference/PreferenceFragment.html?hl=vi">PreferenceFragment</a></code></dt>
  <dd>Hiển thị một phân cấp các đối tượng <code><a href="https://developer.android.com/reference/android/preference/Preference.html?hl=vi">Preference</a></code> dưới dạng một danh sách, tương tự như
<code><a href="https://developer.android.com/reference/android/preference/PreferenceActivity.html?hl=vi">PreferenceActivity</a></code>. Điều này hữu ích khi tạo một hoạt động "thiết đặt"
cho ứng dụng của bạn.</dd>
</dl>


<h3 id="UI">Thêm một giao diện người dùng</h3>

<p>Phân đoạn thường được sử dụng như một phần giao diện người dùng của hoạt động và đóng góp bố trí của
chính nó cho hoạt động.</p>

<p>Để cung cấp một bố trí cho một phân đoạn, bạn phải triển khai phương pháp gọi lại <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, phương pháp này được hệ thống Android gọi
khi đến lúc phân đoạn vẽ bố trí của nó. Việc bạn triển khai phương pháp này phải trả về một
<code><a href="https://developer.android.com/reference/android/view/View.html?hl=vi">View</a></code> là phần gốc cho bố trí phân đoạn của bạn.</p>

<p class="note"><strong>Lưu ý:</strong> Nếu phân đoạn của bạn là một lớp con của <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi">ListFragment</a></code>, triển khai mặc định sẽ trả về một <code><a href="https://developer.android.com/reference/android/widget/ListView.html?hl=vi">ListView</a></code> từ
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, vì thế bạn không cần triển khai nó.</p>

<p>Để trả về một bố trí từ <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, bạn có thể bung nó từ một <a href="../topics/resources/layout-resource327f.html?hl=vi">tài nguyên bố trí</a> được định nghĩa trong XML. Để
giúp bạn làm vậy, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> cung cấp một đối tượng
<code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html?hl=vi">LayoutInflater</a></code>.</p>

<p>Ví dụ, sau đây là một lớp con của <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> với chức năng nạp một bố trí từ tệp
<code>example_fragment.xml</code>:</p>

<pre>
public static class ExampleFragment extends Fragment {
    &#64;Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.example_fragment, container, false);
    }
}
</pre>

<div class="sidebox-wrapper">
<div class="sidebox">
  <h3>Tạo một bố trí</h3>
  <p>Trong ví dụ trên, <code>R.layout.example_fragment</code> là một tham chiếu tới tài nguyên bố trí
có tên <code>example_fragment.xml</code> được lưu trong tài nguyên ứng dụng. Để biết thông tin về cách
tạo một bố trí trong XML, hãy xem tài liệu <a href="../topics/ui/index327f.html?hl=vi">Giao diện Người dùng</a>
.</p>
</div>
</div>

<p>Tham số <code>container</code> được chuyển tới <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> là <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> mẹ (tức bố trí của hoạt động), trong đó
bố trí phân đoạn của bạn
sẽ được chèn vào. Tham số <code>savedInstanceState</code> là một <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=vi">Bundle</a></code> có chức năng
cung cấp dữ liệu về thực thể trước đó của phân đoạn, nếu phân đoạn đang được tiếp tục
(việc khôi phục trạng thái được bàn kỹ hơn trong phần về <a href="#Lifecycle">Xử lý
Vòng đời của Phân đoạn</a>).</p>

<p>Phương pháp <code><a href="https://developer.android.com/reference/android/view/LayoutInflater.html?hl=vi#inflate(int, android.view.ViewGroup, boolean)">inflate()</a></code> có
ba tham đối:</p>
<ul>
  <li>ID tài nguyên của bố trí mà bạn muốn bung.</li>
  <li><code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> là mẹ của bố trí được bung. Việc chuyển <code>container</code> có vai trò quan trọng để hệ thống áp dụng các tham số bố trí cho dạng xem gốc của bố trí
được bung, được quy định bởi dạng xem mẹ là nơi mà nó diễn ra trong đó.</li>
  <li>Một boolean cho biết bố trí được bung có nên được gắn với <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> (tham số thứ hai) trong khi bung hay không. (Trong trường hợp này, điều này là
sai vì hệ thống đã đang chèn bố trí được bung vào <code>container</code>&mdash;việc chuyển đúng sẽ tạo ra một nhóm dạng xem thừa trong bố trí cuối cùng.)</li>
</ul>

<p>Giờ bạn đã thấy cách tạo một phân đoạn nhằm cung cấp một bố trí. Tiếp theo, bạn cần thêm
phân đoạn vào hoạt động của mình.</p>



<h3 id="Adding">Thêm một phân đoạn vào một hoạt động</h3>

<p>Thường thì một phân đoạn đóng góp một phần UI vào hoạt động chủ, nó được nhúng như một phần
trong phân cấp dạng xem tổng thể của hoạt động. Có hai cách mà bạn có thể thêm một phân đoạn vào bố trí
của hoạt động:</p>

<ul>
  <li><b>Khai báo phân đoạn bên trong tệp bố trí của hoạt động.</b>
<p>Trong trường hợp này, bạn có thể
chỉ định các tính chất bố trí cho phân đoạn như thể nó là một dạng xem. Ví dụ, sau đây là tệp bố trí
cho một hoạt động có hai phân đoạn:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="match_parent"&gt;
    &lt;fragment android:name="com.example.news.ArticleListFragment"
            android:id="@+id/list"
            android:layout_weight="1"
            android:layout_width="0dp"
            android:layout_height="match_parent" /&gt;
    &lt;fragment android:name="com.example.news.ArticleReaderFragment"
            android:id="@+id/viewer"
            android:layout_weight="2"
            android:layout_width="0dp"
            android:layout_height="match_parent" /&gt;
&lt;/LinearLayout&gt;
</pre>
  <p>Thuộc tính <code>android:name</code> trong <code>&amp;lt;fragment&amp;gt;</code> sẽ chỉ định lớp <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> để khởi tạo trong bố trí.</p>

<p>Khi hệ thống tạo bố trí hoạt động này, nó sẽ khởi tạo từng phân đoạn được chỉ định trong bố trí
và gọi ra phương pháp <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code> cho từng phân đoạn,
để truy xuất bố trí của từng phân đoạn. Hệ thống sẽ chèn <code><a href="https://developer.android.com/reference/android/view/View.html?hl=vi">View</a></code> được trả về bởi phân đoạn
trực tiếp thế chỗ phần tử <code>&amp;lt;fragment&amp;gt;</code>.</p>

<div class="note">
  <p><strong>Lưu ý:</strong> Mỗi phân đoạn yêu cầu một mã định danh duy nhất
mà hệ thống có thể sử dụng để khôi phục phân đoạn nếu hoạt động bị khởi động lại (và bạn có thể sử dụng để
nắm bắt phân đoạn sẽ thực hiện giao tác, chẳng hạn như gỡ bỏ nó). Có ba cách để cung cấp ID cho một
phân đoạn:</p>
  <ul>
    <li>Cung cấp thuộc tính <code>android:id</code> với một ID duy nhất.</li>
    <li>Cung cấp thuộc tính <code>android:tag</code> với một xâu duy nhất.</li>
    <li>Nếu bạn không cung cấp được thuộc tính nào, hệ thống sẽ sử dụng ID của dạng xem
của bộ chứa.</li>
  </ul>
</div>
  </li>

  <li><b>Hoặc, bằng cách lập trình, thêm phân đoạn vào một <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> hiện hữu.</b>
<p>Vào bất cứ lúc nào trong khi hoạt động của bạn đang chạy, bạn có thể thêm phân đoạn vào bố trí hoạt động của mình. Bạn
chỉ cần chỉ định một <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code> là nơi mà bạn sẽ đặt phân đoạn vào.</p>
  <p>Để thực hiện giao tác phân đoạn trong hoạt động của mình (chẳng hạn như thêm, gỡ bỏ, hay thay thế một
phân đoạn), bạn phải sử dụng các API từ <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code>. Bạn có thể nhận một thực thể
của <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code> từ <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code> của mình như sau:</p>

<pre>
FragmentManager fragmentManager = <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#getFragmentManager()">getFragmentManager()</a></code>
FragmentTransaction fragmentTransaction = fragmentManager.<code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#beginTransaction()">beginTransaction()</a></code>;
</pre>

<p>Sau đó, bạn có thể thêm một phân đoạn bằng cách sử dụng phương pháp <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#add(int, android.app.Fragment)">add()</a></code>, chỉ định phân đoạn sẽ thêm và
dạng xem mà bạn sẽ chèn nó vào. Ví dụ:</p>

<pre>
ExampleFragment fragment = new ExampleFragment();
fragmentTransaction.add(R.id.fragment_container, fragment);
fragmentTransaction.commit();
</pre>

  <p>Tham đối đầu tiên được chuyển cho <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#add(int, android.app.Fragment)">add()</a></code>
là <code><a href="https://developer.android.com/reference/android/view/ViewGroup.html?hl=vi">ViewGroup</a></code>, là nơi mà phân đoạn sẽ được đặt vào, được chỉ định bởi
ID tài nguyên, và tham đối thứ hai là phân đoạn cần thêm.</p>
  <p>Sau khi bạn đã thực hiện các thay đổi của mình bằng
<code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code>, bạn phải
gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code> để các thay đổi có hiệu lực.</p>
  </li>
</ul>


<h4 id="AddingWithoutUI">Thêm một phân đoạn không có UI</h4>

<p>Các ví dụ nêu trên cho biết cách thêm một phân đoạn vào hoạt động của bạn để cung cấp một UI. Tuy nhiên,
bạn cũng có thể sử dụng một phân đoạn để cung cấp một hành vi chạy ngầm cho hoạt động mà không cần đưa
UI bổ sung.</p>

<p>Để thêm một phân đoạn không có UI, hãy thêm phân đoạn từ hoạt động đang bằng cách sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#add(android.app.Fragment, java.lang.String)">add(Fragment, String)</a></code> (cung cấp một "tag" xâu duy nhất cho phân đoạn
, thay vì một ID dạng xem). Làm vậy sẽ thêm phân đoạn, nhưng vì không liên kết với một dạng xem
trong bố trí hoạt động, nó sẽ không nhận được lệnh gọi tới <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>. Vì thế, bạn không cần triển khai phương pháp đó.</p>

<p>Việc cung cấp tag xâu cho phân đoạn không chỉ áp dụng cho các phân đoạn không có UI&mdash;bạn cũng có thể
cung cấp tag xâu cho phân đoạn có UI&mdash;nhưng nếu phân đoạn không có
UI, khi đó, tag xâu là cách duy nhất để nhận biết nó. Nếu sau này bạn muốn nhận phân đoạn từ
hoạt động, bạn cần sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>.</p>

<p>Để biết ví dụ về hoạt động sử dụng phân đoạn như một trình thực hiện nền, không có UI, hãy xem mẫu <code>FragmentRetainInstance.java</code>, mẫu này có trong các mẫu SDK (có sẵn thông qua
Trình quản lý SDK Android) và nằm trên hệ thống của bạn như là
<code>&lt;sdk_root&gt;/APIDemos/app/src/main/java/com/example/android/apis/app/FragmentRetainInstance.java</code>.</p>



<h2 id="Managing">Quản lý Phân đoạn</h2>

<p>Để quản lý các phân đoạn trong hoạt động của mình, bạn cần sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code>. Để
có nó, hãy gọi <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#getFragmentManager()">getFragmentManager()</a></code> từ hoạt động của bạn.</p>

<p>Một số việc bạn có thể làm với <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code> bao gồm:</p>

<ul>
  <li>Nhận các phân đoạn tồn tại trong hoạt động, bằng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#findFragmentById(int)">findFragmentById()</a></code> (đối với các phân đoạn cung cấp UI trong
bố trí hoạt động) hoặc <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code> (đối với các phân đoạn có hoặc không cung cấp UI).</li>
  <li>Lấy phân đoạn ra khỏi ngăn xếp, bằng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#popBackStack()">popBackStack()</a></code> (mô phỏng một câu lệnh <em>Quay lại</em> của người dùng).</li>
  <li>Đăng ký một đối tượng theo dõi cho những thay đổi đối với ngăn xếp, bằng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#addOnBackStackChangedListener(android.app.FragmentManager.OnBackStackChangedListener)">addOnBackStackChangedListener()</a></code>.</li>
</ul>

<p>Để biết thêm thông tin về những phương pháp này và phương pháp khác, hãy tham khảo tài liệu lớp <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code>.</p>

<p>Như minh họa trong phần trước, bạn cũng có thể sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code>
để mở một <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code>, nó cho phép bạn thực hiện các giao tác, ví dụ như
thêm hoặc gỡ bỏ phân đoạn.</p>


<h2 id="Transactions">Thực hiện Giao tác Phân đoạn</h2>

<p>Một tính năng tuyệt vời khi sử dụng phân đoạn trong hoạt động của bạn đó là khả năng thêm, gỡ bỏ, thay thế,
và thực hiện các hành động khác với chúng, để hồi đáp lại tương tác của người dùng. Mỗi tập hợp thay đổi mà bạn
thực thi cho hoạt động được gọi là một giao tác và bạn có thể thực hiện một giao tác bằng cách sử dụng các API trong <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code>. Bạn cũng có thể lưu từng giao tác vào một ngăn xếp được quản lý bởi
hoạt động, cho phép người dùng điều hướng ngược lại thông qua những thay đổi phân đoạn (tương tự như điều hướng
ngược lại thông qua hoạt động).</p>

<p>Bạn có thể thu được một thực thể của <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code> từ <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code> như sau:</p>

<pre>
FragmentManager fragmentManager = <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#getFragmentManager()">getFragmentManager()</a></code>;
FragmentTransaction fragmentTransaction = fragmentManager.<code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#beginTransaction()">beginTransaction()</a></code>;
</pre>

<p>Mỗi giao tác là một tập hợp những thay đổi mà bạn muốn thực hiện tại cùng thời điểm. Bạn có thể thiết lập
tất cả thay đổi mà mình muốn thực hiện đối với một giao tác cho trước bằng cách sử dụng các phương pháp như <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#add(android.app.Fragment, java.lang.String)">add()</a></code>, <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#remove(android.app.Fragment)">remove()</a></code>,
và <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#replace(int, android.app.Fragment)">replace()</a></code>. Sau đó, để áp dụng giao tác
cho hoạt động, bạn phải gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code>.</p>
</dl>

<p>Trước khi bạn gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code>, tuy nhiên, bạn có thể muốn gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code>, để thêm giao tác
vào một ngăn xếp của các giao tác phân đoạn. Ngăn xếp này được quản lý bởi hoạt động và cho phép
người dùng trở về trạng thái phân đoạn trước đó, bằng cách nhấp nút <em>Quay lại</em>.</p>

<p>Ví dụ, sau đây là cách bạn có thể thay thế phân đoạn này bằng phân đoạn khác, và giữ nguyên
trạng thái trước đó của ngăn xếp:</p>

<pre>
// Create new fragment and transaction
Fragment newFragment = new ExampleFragment();
FragmentTransaction transaction = getFragmentManager().beginTransaction();

// Replace whatever is in the fragment_container view with this fragment,
// and add the transaction to the back stack
transaction.replace(R.id.fragment_container, newFragment);
transaction.addToBackStack(null);

// Commit the transaction
transaction.commit();
</pre>

<p>Trong ví dụ này, <code>newFragment</code> thay thế mọi phân đoạn (nếu có) hiện đang ở trong
bộ chứa bố trí được nhận biết bởi ID <code>R.id.fragment_container</code>. Bằng cách gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code>, giao tác thay thế
được lưu vào ngăn xếp, vì thế người dùng có thể đảo ngược giao tác và mang
giao tác trước đó trở lại bằng cách nhấn nút <em>Quay lại</em>.</p>

<p>Nếu bạn thêm nhiều thay đổi vào giao tác (chẳng hạn như một <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#add(android.app.Fragment, java.lang.String)">add()</a></code> khác hoặc <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#remove(android.app.Fragment)">remove()</a></code>) và gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code>, khi đó, tất cả thay đổi được áp dụng
trước khi bạn gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code> đều được thêm vào
ngăn xếp như một giao tác riêng lẻ và nút <em>Quay lại</em> sẽ đảo ngược tất cả cùng nhau.</p>

<p>Thứ tự mà bạn thêm thay đổi vào một <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi">FragmentTransaction</a></code> không quan trọng,
ngoại trừ:</p>
<ul>
  <li>Bạn phải gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code> cuối cùng</li>
  <li>Nếu bạn thêm nhiều phân đoạn vào cùng bộ chứa, khi đó thứ tự mà
bạn thêm chúng sẽ xác định thứ tự chúng xuất hiện trong phân cấp dạng xem</li>
</ul>

<p>Nếu bạn không gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code> khi thực hiện một giao tác để xóa một phân đoạn, khi đó, phân đoạn đó sẽ bị
hủy khi giao tác được thực hiện và người dùng không thể điều hướng trở lại nó. Trong khi đó, nếu bạn
gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code> khi
gỡ bỏ một phân đoạn, khi đó phân đoạn bị <em>dừng</em> và sẽ được khôi phục nếu người dùng điều hướng
trở lại.</p>

<p class="note"><strong>Mẹo:</strong> Với mỗi giao tác phân đoạn, bạn có thể áp dụng một hoạt ảnh
chuyển tiếp bằng cách gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#setTransition(int)">setTransition()</a></code> trước khi
thực thi.</p>

<p>Việc gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code> không thực hiện giao tác
ngay lập tức. Thay vào đó, nó lập lịch biểu để chạy trên luồng UI của hoạt động (luồng "chính") ngay khi
luồng có thể làm vậy. Tuy nhiên, nếu cần, bạn có thể gọi <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#executePendingTransactions()">executePendingTransactions()</a></code> từ luồng UI của mình để ngay lập tức thực hiện
các giao tác được gửi bởi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code>. Làm vậy
thường không cần thiết trừ khi giao tác đó là phụ thuộc cho các tác vụ ở những luồng khác.</p>

<p class="caution"><strong>Chú ý:</strong> Bạn có thể thực thi một giao tác bằng cách sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commit()">commit()</a></code> chỉ trước khi hoạt động <a href="activities327f.html?hl=vi#SavingActivityState">lưu
trạng thái</a> của nó (khi người dùng rời khỏi hoạt động). Nếu bạn định thực thi sau thời điểm đó sẽ phát sinh một lỗi
ngoại lệ. Nguyên nhân là vì trạng thái sau khi thực thi có thể bị mất nếu hoạt động
cần được khôi phục. Đối với những trường hợp mà bạn có thể mất thực thi, hãy sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#commitAllowingStateLoss()">commitAllowingStateLoss()</a></code>.</p>




<h2 id="CommunicatingWithActivity">Giao tiếp với Hoạt động</h2>

<p>Mặc dù <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> được triển khai như một đối tượng độc lập với
<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code> và có thể được sử dụng bên trong nhiều hoạt động, một thực thể đã cho của
phân đoạn sẽ được gắn kết trực tiếp với hoạt động chứa nó.</p>

<p>Cụ thể, phân đoạn có thể truy cập thực thể <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code> bằng <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#getActivity()">getActivity()</a></code> và dễ dàng thực hiện các tác vụ như tìm một dạng xem trong bố trí
hoạt động:</p>

<pre>
View listView = <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#getActivity()">getActivity()</a></code>.<code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#findViewById(int)">findViewById</a></code>(R.id.list);
</pre>

<p>Tương tự, hoạt động của bạn có thể gọi ra các phương pháp trong phân đoạn bằng cách thu được một tham chiếu tới
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code> từ <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi">FragmentManager</a></code>, bằng cách sử dụng <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#findFragmentById(int)">findFragmentById()</a></code> hoặc <code><a href="https://developer.android.com/reference/android/app/FragmentManager.html?hl=vi#findFragmentByTag(java.lang.String)">findFragmentByTag()</a></code>. Ví dụ:</p>

<pre>
ExampleFragment fragment = (ExampleFragment) getFragmentManager().findFragmentById(R.id.example_fragment);
</pre>


<h3 id="EventCallbacks">Tạo gọi lại sự kiện cho hoạt động</h3>

<p>Trong một số trường hợp, bạn có thể cần một phân đoạn để chia sẻ sự kiện với hoạt động. Một cách hay để làm điều này
đó là định nghĩa một giao diện gọi lại bên trong phân đoạn và yêu cầu hoạt động chủ triển khai
nó. Khi hoạt động nhận được một lệnh gọi lại thông qua giao diện, nó có thể chia sẻ thông tin với
các phân đoạn khác trong bố trí nếu cần.</p>

<p>Ví dụ, nếu một ứng dụng tin tức có hai phân đoạn trong một hoạt động&mdash;một để hiển thị danh sách
bài viết (phân đoạn A) và một để hiển thị một bài viết (phân đoạn B)&mdash;khi đó, phân đoạn A phải thông báo với
hoạt động khi nào thì một mục danh sách được chọn để nó có thể yêu cầu phân đoạn B hiển thị bài viết đó. Trong
trường hợp này, giao diện <code>OnArticleSelectedListener</code> sẽ được khai báo bên trong phân đoạn A:</p>

<pre>
public static class FragmentA extends ListFragment {
    ...
    // Container Activity must implement this interface
    public interface OnArticleSelectedListener {
        public void onArticleSelected(Uri articleUri);
    }
    ...
}
</pre>

<p>Khi đó, hoạt động lưu trữ phân đoạn sẽ triển khai giao diện <code>OnArticleSelectedListener</code>
và
khống chế <code>onArticleSelected()</code> để thông báo với phân đoạn B về sự kiện từ phân đoạn A. Để đảm bảo
rằng hoạt động chủ triển khai giao diện này, phương pháp gọi lại <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onAttach(android.app.Activity)">onAttach()</a></code> của phân đoạn A (mà hệ thống gọi khi thêm
phân đoạn vào hoạt động) sẽ khởi tạo một thực thể của <code>OnArticleSelectedListener</code> bằng cách
đổi kiểu <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code> mà được chuyển vào <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onAttach(android.app.Activity)">onAttach()</a></code>:</p>

<pre>
public static class FragmentA extends ListFragment {
    OnArticleSelectedListener mListener;
    ...
    &#64;Override
    public void onAttach(Activity activity) {
        super.onAttach(activity);
        try {
            mListener = (OnArticleSelectedListener) activity;
        } catch (ClassCastException e) {
            throw new ClassCastException(activity.toString() + " must implement OnArticleSelectedListener");
        }
    }
    ...
}
</pre>

<p>Nếu hoạt động chưa triển khai giao diện, khi đó phân đoạn sẽ đưa ra lỗi
<code><a href="https://developer.android.com/reference/java/lang/ClassCastException.html?hl=vi">ClassCastException</a></code>.
Nếu thành công, thành viên <code>mListener</code> giữ một tham chiếu tới triển khai
<code>OnArticleSelectedListener</code>của hoạt động, sao cho phân đoạn A có thể chia sẻ sự kiện với hoạt động bằng cách gọi các phương pháp
được định nghĩa bởi giao diện <code>OnArticleSelectedListener</code>. Ví dụ, nếu phân đoạn A là một
phần mở rộng của <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi">ListFragment</a></code>, mỗi lần
người dùng nhấp vào một mục danh sách, hệ thống sẽ gọi ra <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> trong phân đoạn, và nó lại gọi <code>onArticleSelected()</code> để chia sẻ
sự kiện với hoạt động:</p>

<pre>
public static class FragmentA extends ListFragment {
    OnArticleSelectedListener mListener;
    ...
    &#64;Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        // Append the clicked item's row ID with the content provider Uri
        Uri noteUri = ContentUris.<code><a href="https://developer.android.com/reference/android/content/ContentUris.html?hl=vi#withAppendedId(android.net.Uri, long)">withAppendedId</a></code>(ArticleColumns.CONTENT_URI, id);
        // Send the event and Uri to the host activity
        mListener.onArticleSelected(noteUri);
    }
    ...
}
</pre>

<p>Tham số <code>id</code> được chuyển vào <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi#onListItemClick(android.widget.ListView, android.view.View, int, long)">onListItemClick()</a></code> là ID hàng của mục được nhấp,
nó được sử dụng bởi hoạt động (hoặc phân đoạn kia) để tải bài viết từ <code><a href="https://developer.android.com/reference/android/content/ContentProvider.html?hl=vi">ContentProvider</a></code> của ứng dụng.</p>

<p><!--To see a complete implementation of this kind of callback interface, see the <a
href="https://developer.android.com/resources/samples/NotePad/index.html?hl=vi">NotePad sample</a>. -->Bạn có thể xem thêm thông tin về
cách sử dụng một trình cung cấp nội dung trong tài liệu <a href="../topics/providers/content-providers327f.html?hl=vi">Trình cung cấp Nội dung</a>.</p>



<h3 id="ActionBar">Thêm mục vào Thanh Hành động</h3>

<p>Phân đoạn của bạn có thể đóng góp các mục menu vào <a href="../topics/ui/menus327f.html?hl=vi#options-menu">Menu Tùy chọn</a> của hoạt động (và tiếp đó là cả <a href="https://developer.android.com/training/appbar/index.html?hl=vi">Thanh Hành động</a>) bằng cách triển khai
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>. Tuy nhiên, để
phương pháp này nhận lệnh gọi, bạn phải gọi <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#setHasOptionsMenu(boolean)">setHasOptionsMenu()</a></code> trong khi <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code>, để cho biết rằng phân đoạn
sẽ muốn thêm mục vào Menu Tùy chọn (nếu không, phân đoạn sẽ không nhận được lệnh gọi tới
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code>).</p>

<p>Bất kỳ mục nào mà bạn thêm vào Menu Tùy chọn sau đó từ phân đoạn đều được nối với các mục menu
hiện tại. Phân đoạn cũng nhận các lệnh gọi lại tới <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> khi một mục menu
được chọn.</p>

<p>Bạn cũng có thể đăng ký một dạng xem trong bố trí phân đoạn của mình để cung cấp một menu ngữ cảnh bằng cách gọi <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code>. Khi người dùng mở
menu ngữ cảnh, phân đoạn nhận một lệnh gọi tới <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>. Khi người dùng chọn một mục, phân đoạn nhận được một lệnh gọi tới <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onContextItemSelected(android.view.MenuItem)">onContextItemSelected()</a></code>.</p>

<p class="note"><strong>Lưu ý:</strong> Mặc dù phân đoạn của bạn nhận được một lệnh gọi khi chọn mục
đối với từng mục menu mà nó thêm, trước tiên hoạt động sẽ nhận phương pháp gọi lại tương ứng khi người dùng
chọn một mục menu. Nếu việc triển khai gọi lại khi chọn mục của hoạt động không
xử lý mục được chọn, khi đó sự kiện được chuyển sang phương pháp gọi lại của phân đoạn. Điều này đúng đối với
Menu Tùy chọn và các menu ngữ cảnh.</p>

<p>Để biết thêm thông tin về các menu, xem các hướng dẫn cho nhà phát triển <a href="../topics/ui/menus327f.html?hl=vi">Menu</a> và <a href="https://developer.android.com/training/appbar/index.html?hl=vi">Thanh Hành động</a>.</p>




<h2 id="Lifecycle">Xử lý Vòng đời của Phân đoạn</h2>

<div class="figure" style="width:350px">
<img src="../../images/activity_fragment_lifecycle327f.png?hl=vi" alt="" />
<p class="img-caption"><strong>Hình 3.</strong> Ảnh hưởng của vòng đời hoạt động tới vòng đời
của phân đoạn.</p>
</div>

<p>Việc quản lý vòng đời của một phân đoạn rất giống với quản lý vòng đời của một hoạt động. Giống như
hoạt động, phân đoạn có thể tồn tại ở ba trạng thái:</p>

<dl>
  <dt><i>Tiếp tục</i></dt>
    <dd>Phân đoạn hiển thị trong hoạt động đang chạy.</dd>

  <dt><i>Tạm dừng</i></dt>
    <dd>Một hoạt động khác ở trong tiền cảnh và có tiêu điểm, nhưng hoạt động mà phân đoạn
này nằm trong vẫn hiển thị (hoạt động tiền cảnh mờ một phần hoặc không
che phủ toàn bộ màn hình).</dd>

  <dt><i>Dừng</i></dt>
    <dd>Phân đoạn không hiển thị. Hoặc là hoạt động chủ đã bị dừng hoặc
phân đoạn đã được gỡ bỏ khỏi hoạt động, nhưng được thêm vào ngăn xếp. Phân đoạn dừng
vẫn còn hoạt động (tất cả thông tin về trạng thái và thành viên đều được hệ thống giữ lại). Tuy nhiên, nó không còn
hiển thị với người dùng nữa và sẽ bị tắt bỏ nếu hoạt động bị tắt bỏ.</dd>
</dl>

<p>Cũng như một hoạt động, bạn có thể giữ lại trạng thái của một phân đoạn bằng cách sử dụng <code><a href="https://developer.android.com/reference/android/os/Bundle.html?hl=vi">Bundle</a></code>, trong trường hợp tiến trình của hoạt động bị tắt bỏ và bạn cần khôi phục
trạng thái của phân đoạn khi hoạt động được tạo lại. Bạn có thể lưu trạng thái trong phương pháp gọi lại <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onSaveInstanceState(android.os.Bundle)">onSaveInstanceState()</a></code> của phân đoạn và khôi phục nó trong
hoặc <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code>, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code>, hoặc <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code>. Để biết thêm thông tin về việc lưu
trạng thái, xem tài liệu <a href="activities327f.html?hl=vi#SavingActivityState">Hoạt động</a>
.</p>

<p>Sự khác nhau quan trọng nhất trong vòng đời giữa một hoạt động và một phân đoạn đó là cách chúng
được lưu trữ trong ngăn xếp tương ứng. Hoạt động được đặt vào một ngăn xếp gồm nhiều hoạt động
, được quản lý bởi hệ thống theo mặc định khi bị dừng (sao cho người dùng có thể điều hướng lại
nó bằng nút <em>Quay lại</em> như được đề cập trong <a href="tasks-and-back-stack327f.html?hl=vi">Tác vụ và Ngăn xếp</a>).
Tuy nhiên, phân đoạn chỉ được đặt vào một ngăn xếp do hoạt động chủ quản lý khi bạn
yêu cầu rõ ràng rằng trường hợp đó phải được lưu bằng cách gọi <code><a href="https://developer.android.com/reference/android/app/FragmentTransaction.html?hl=vi#addToBackStack(java.lang.String)">addToBackStack()</a></code> trong một giao tác
gỡ bỏ phân đoạn.</p>

<p>Nếu không thì việc quản lý vòng đời của phân đoạn rất giống với việc quản lý vòng đời
của hoạt động. Vì thế, những nội dung áp dụng cho <a href="activities327f.html?hl=vi#Lifecycle">quản lý vòng đời của
hoạt động</a> cũng áp dụng cho phân đoạn. Tuy nhiên, việc mà bạn cũng cần phải hiểu đó là cách
vòng đời của hoạt động ảnh hưởng tới vòng đời của phân đoạn.</p>

<p class="caution"><strong>Chú ý:</strong> Nếu bạn cần một đối tượng <code><a href="https://developer.android.com/reference/android/content/Context.html?hl=vi">Context</a></code> trong
<code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi">Fragment</a></code>của mình, bạn có thể gọi <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#getActivity()">getActivity()</a></code>.
Tuy nhiên, nhớ chỉ được gọi <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#getActivity()">getActivity()</a></code> khi phân đoạn được gắn với
một hoạt động. Khi phân đoạn chưa được gắn, hoặc bị gỡ trong khi kết thúc
vòng đời của nó, <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#getActivity()">getActivity()</a></code> sẽ trả về rỗng.</p>


<h3 id="CoordinatingWithActivity">Phối hợp với vòng đời của hoạt động</h3>

<p>Vòng đời của hoạt động mà phân đoạn có ở trong đó sẽ trực tiếp ảnh hưởng tới vòng đời của phân đoạn
, sao cho mỗi lệnh gọi lại vòng đời cho hoạt động đó sẽ dẫn tới một lệnh gọi lại tương tự cho từng
phân đoạn. Ví dụ, khi hoạt động nhận được <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#onPause()">onPause()</a></code>, mỗi
phân đoạn trong hoạt động sẽ nhận được <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onPause()">onPause()</a></code>.</p>

<p>Tuy nhiên, các phân đoạn có thêm một vài lệnh gọi lại vòng đời nhằm xử lý tương tác duy nhất với
hoạt động để thực hiện các hành động như xây dựng và hủy UI của phân đoạn. Những phương pháp gọi lại
bổ sung này là:</p>

<dl>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onAttach(android.app.Activity)">onAttach()</a></code></dt>
    <dd>Được gọi khi phân đoạn đã được liên kết với hoạt động <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi">Activity</a></code> được chuyển ở đây).</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onCreateView(android.view.LayoutInflater, android.view.ViewGroup, android.os.Bundle)">onCreateView()</a></code></dt>
    <dd>Được gọi khi tạo phân cấp dạng xem được liên kết với phân đoạn.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code></dt>
    <dd>Được gọi khi phương pháp <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code> của hoạt động đã trả về.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onDestroyView()">onDestroyView()</a></code></dt>
    <dd>Được gọi khi phân cấp dạng xem được liên kết với phân đoạn đang được gỡ bỏ.</dd>
  <dt><code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onDetach()">onDetach()</a></code></dt>
    <dd>Được gọi khi phân đoạn đang được bỏ liên kết khỏi hoạt động.</dd>
</dl>

<p>Tiến trình vòng đời của một phân đoạn, do bị ảnh hưởng bởi hoạt động chủ của nó, được minh họa
bởi hình 3. Trong hình này, bạn có thể thấy cách thức mỗi trạng thái nối tiếp nhau của hoạt động sẽ xác định
các phương pháp gọi lại nào mà một phân đoạn có thể nhận được. Ví dụ, khi hoạt động đã nhận được lệnh gọi lại <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code> của nó, phân đoạn trong hoạt động sẽ nhận được không quá
lệnh gọi lại <code><a href="https://developer.android.com/reference/android/app/Fragment.html?hl=vi#onActivityCreated(android.os.Bundle)">onActivityCreated()</a></code>.</p>

<p>Sau khi hoạt động đạt trạng thái tiếp tục, bạn có thể tự do thêm và gỡ bỏ phân đoạn vào
hoạt động. Vì thế, chỉ trong khi hoạt động ở trạng thái tiếp tục thì vòng đời của một phân đoạn
mới có thể thay đổi độc lập.</p>

<p>Tuy nhiên, khi hoạt động rời khỏi trạng thái tiếp tục, phân đoạn lại bị hoạt động đẩy qua vòng đời
của mình.</p>




<h2 id="Example">Ví dụ</h2>

<p>Để kết hợp mọi nội dung được đề cập trong tài liệu này, sau đây là một ví dụ về hoạt động
sử dụng hai phân đoạn để tạo một bố trí hai bảng. Hoạt động bên dưới bao gồm một phân đoạn để
hiển thị danh sách các vở kịch của Shakespeare và một phân đoạn khác để hiển thị tóm tắt về vở kịch khi được chọn
từ danh sách. Nó cũng minh họa cách cung cấp các cấu hình phân đoạn khác nhau,
dựa trên cấu hình màn hình.</p>

<p class="note"><strong>Lưu ý:</strong> Mã nguồn hoàn chỉnh cho hoạt động này có sẵn trong
<a href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/FragmentLayout.html?hl=vi"><code>FragmentLayout.java</code></a>.</p>

<p>Hoạt động chính áp dụng một bố trí theo cách thông thường, trong <code><a href="https://developer.android.com/reference/android/app/Activity.html?hl=vi#onCreate(android.os.Bundle)">onCreate()</a></code>:</p>

<pre>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    setContentView(R.layout.fragment_layout);
}</pre>

<p>Bố trí được áp dụng là <code>fragment_layout.xml</code>:</p>

<pre>&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="horizontal"
    android:layout_width="match_parent" android:layout_height="match_parent"&gt;

    &lt;fragment class="com.example.android.apis.app.FragmentLayout$TitlesFragment"
            android:id="@+id/titles" android:layout_weight="1"
            android:layout_width="0px" android:layout_height="match_parent" /&gt;

    &lt;FrameLayout android:id="@+id/details" android:layout_weight="1"
            android:layout_width="0px" android:layout_height="match_parent"
            android:background="?android:attr/detailsElementBackground" /&gt;

&lt;/LinearLayout&gt;</pre>

<p>Khi sử dụng bố trí này, hệ thống sẽ khởi tạo <code>TitlesFragment</code> (liệt kê tên
các vở kịch) ngay khi hoạt động nạp bố trí, trong khi <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=vi">FrameLayout</a></code>
(nơi sẽ xuất hiện phân đoạn hiển thị tóm tắt về vở kịch) chiếm khoảng trống phía bên phải của
màn hình, nhưng ban đầu vẫn trống. Như bạn sẽ thấy bên dưới, mãi tới khi người dùng chọn một mục
từ danh sách thì một phân đoạn mới được đặt vào <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=vi">FrameLayout</a></code>.</p>

<p>Tuy nhiên, không phải tất cả cấu hình màn hình đều đủ rộng để hiển thị cả danh sách
các vở kịch và tóm tắt bên cạnh nhau. Vì thế, bố trí trên chỉ được sử dụng cho cấu hình
màn hình khổ ngang bằng cách lưu nó dưới dạng <code>res/layout-land/fragment_layout.xml</code>.</p>

<p>Vì thế, khi màn hình hướng đứng, hệ thống sẽ áp dụng bố trí sau, nó
được lưu tại <code>res/layout/fragment_layout.xml</code>:</p>

<pre>&lt;FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent" android:layout_height="match_parent"&gt;
    &lt;fragment class="com.example.android.apis.app.FragmentLayout$TitlesFragment"
            android:id="@+id/titles"
            android:layout_width="match_parent" android:layout_height="match_parent" /&gt;
&lt;/FrameLayout&gt;</pre>

<p>Bố trí này chỉ bao gồm <code>TitlesFragment</code>. Điều này có nghĩa là, khi thiết bị ở
hướng đứng, chỉ danh sách tên vở kịch được hiển thị. Vì thế, khi người dùng nhấp vào một
mục danh sách trong cấu hình này, ứng dụng sẽ bắt đầu một hoạt động mới để hiển thị tóm tắt,
thay vì tải một phân đoạn thứ hai.</p>

<p>Tiếp theo, bạn có thể thấy cách hoàn thành điều này trong các lớp phân đoạn. Đầu tiên là <code>TitlesFragment</code>, hiển thị danh sách tên các vở kịch của Shakespeare. Phân đoạn này sẽ mở rộng <code><a href="https://developer.android.com/reference/android/app/ListFragment.html?hl=vi">ListFragment</a></code> và dựa vào nó để xử lý hầu hết công việc về dạng xem danh sách.</p>

<p>Khi bạn kiểm tra đoạn mã này, hãy để ý rằng có hai hành vi có thể khi người dùng nhấp vào một
mục danh sách: phụ thuộc vào bố trí nào trong hai bố trí đang hiện hoạt, nó có thể hoặc tạo và hiển thị một phân đoạn
mới để hiển thị chi tiết trong cùng hoạt động (thêm phân đoạn vào <code><a href="https://developer.android.com/reference/android/widget/FrameLayout.html?hl=vi">FrameLayout</a></code>), hoặc bắt đầu một hoạt động mới (tại đó phân đoạn có thể được hiển thị).</p>

<pre>public static class TitlesFragment extends ListFragment {
    boolean mDualPane;
    int mCurCheckPosition = 0;

    @Override
    public void onActivityCreated(Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);

        // Populate list with our static array of titles.
        setListAdapter(new ArrayAdapter&lt;String&gt;(getActivity(),
                android.R.layout.simple_list_item_activated_1, Shakespeare.TITLES));

        // Check to see if we have a frame in which to embed the details
        // fragment directly in the containing UI.
        View detailsFrame = getActivity().findViewById(R.id.details);
        mDualPane = detailsFrame != null &amp;&amp; detailsFrame.getVisibility() == View.VISIBLE;

        if (savedInstanceState != null) {
            // Restore last state for checked position.
            mCurCheckPosition = savedInstanceState.getInt("curChoice", 0);
        }

        if (mDualPane) {
            // In dual-pane mode, the list view highlights the selected item.
            getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
            // Make sure our UI is in the correct state.
            showDetails(mCurCheckPosition);
        }
    }

    @Override
    public void onSaveInstanceState(Bundle outState) {
        super.onSaveInstanceState(outState);
        outState.putInt("curChoice", mCurCheckPosition);
    }

    @Override
    public void onListItemClick(ListView l, View v, int position, long id) {
        showDetails(position);
    }

    /**
     * Helper function to show the details of a selected item, either by
     * displaying a fragment in-place in the current UI, or starting a
     * whole new activity in which it is displayed.
     */
    void showDetails(int index) {
        mCurCheckPosition = index;

        if (mDualPane) {
            // We can display everything in-place with fragments, so update
            // the list to highlight the selected item and show the data.
            getListView().setItemChecked(index, true);

            // Check what fragment is currently shown, replace if needed.
            DetailsFragment details = (DetailsFragment)
                    getFragmentManager().findFragmentById(R.id.details);
            if (details == null || details.getShownIndex() != index) {
                // Make new fragment to show this selection.
                details = DetailsFragment.newInstance(index);

                // Execute a transaction, replacing any existing fragment
                // with this one inside the frame.
                FragmentTransaction ft = getFragmentManager().beginTransaction();
                if (index == 0) {
                    ft.replace(R.id.details, details);
                } else {
                    ft.replace(R.id.a_item, details);
                }
                ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_FADE);
                ft.commit();
            }

        } else {
            // Otherwise we need to launch a new activity to display
            // the dialog fragment with selected text.
            Intent intent = new Intent();
            intent.setClass(getActivity(), DetailsActivity.class);
            intent.putExtra("index", index);
            startActivity(intent);
        }
    }
}</pre>

<p>Phân đoạn thứ hai, <code>DetailsFragment</code> sẽ hiển thị tóm tắt vở kịch cho mục được chọn từ
danh sách trong <code>TitlesFragment</code>:</p>

<pre>public static class DetailsFragment extends Fragment {
    /**
     * Create a new instance of DetailsFragment, initialized to
     * show the text at 'index'.
     */
    public static DetailsFragment newInstance(int index) {
        DetailsFragment f = new DetailsFragment();

        // Supply index input as an argument.
        Bundle args = new Bundle();
        args.putInt("index", index);
        f.setArguments(args);

        return f;
    }

    public int getShownIndex() {
        return getArguments().getInt("index", 0);
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        if (container == null) {
            // We have different layouts, and in one of them this
            // fragment's containing frame doesn't exist.  The fragment
            // may still be created from its saved state, but there is
            // no reason to try to create its view hierarchy because it
            // won't be displayed.  Note this is not needed -- we could
            // just run the code below, where we would create and return
            // the view hierarchy; it would just never be used.
            return null;
        }

        ScrollView scroller = new ScrollView(getActivity());
        TextView text = new TextView(getActivity());
        int padding = (int)TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP,
                4, getActivity().getResources().getDisplayMetrics());
        text.setPadding(padding, padding, padding, padding);
        scroller.addView(text);
        text.setText(Shakespeare.DIALOGUE[getShownIndex()]);
        return scroller;
    }
}</pre>

<p>Nhớ lại ở lớp <code>TitlesFragment</code> rằng, nếu người dùng nhấp vào một mục danh sách và bố trí
hiện tại <em>không</em> có dạng xem <code>R.id.details</code> (là nơi mà
<code>DetailsFragment</code> thuộc về), khi đó, ứng dụng sẽ bắt đầu hoạt động <code>DetailsActivity</code>
để hiển thị nội dung của mục đó.</p>

<p>Sau đây là <code>DetailsActivity</code>, nó chỉ đơn thuần nhúng <code>DetailsFragment</code> để hiển thị
tóm tắt vở kịch được chọn khi màn hình ở hướng đứng:</p>

<pre>public static class DetailsActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        if (getResources().getConfiguration().orientation
                == Configuration.ORIENTATION_LANDSCAPE) {
            // If the screen is now in landscape mode, we can show the
            // dialog in-line with the list so we don't need this activity.
            finish();
            return;
        }

        if (savedInstanceState == null) {
            // During initial setup, plug in the details fragment.
            DetailsFragment details = new DetailsFragment();
            details.setArguments(getIntent().getExtras());
            getFragmentManager().beginTransaction().add(android.R.id.content, details).commit();
        }
    }
}</pre>

<p>Lưu ý rằng hoạt động này tự kết thúc nếu cấu hình là khổ ngang, sao cho hoạt động
chính có thể chiếm lấy và hiển thị <code>DetailsFragment</code> bên cạnh <code>TitlesFragment</code>.
Điều này có thể xảy ra nếu người dùng bắt đầu <code>DetailsActivity</code> ở dạng hướng đứng, nhưng
sau đó xoay thành khổ ngang (làm vậy sẽ bắt đầu lại hoạt động hiện tại).</p>


<p>Để biết thêm mẫu sử dụng phân đoạn (và toàn bộ tệp nguồn cho ví dụ này),
hãy xem ứng dụng mẫu API Demos có sẵn trong <a href="https://developer.android.com/resources/samples/ApiDemos/src/com/example/android/apis/app/index.html?hl=vi#Fragment">
ApiDemos</a> (có thể tải xuống từ <a href="https://developer.android.com/resources/samples/get.html?hl=vi">Thành phần SDK Mẫu</a>).</p>





    </div>

    

  
    
  
    



<div class="wrap">
  <footer class="dac-footer ">
    <div class="cols dac-footer-main">
      <div class="col-1of2">
        <div class="dac-footer-contact">
          <a class="dac-footer-contact-link" href="https://developer.android.com/newsletter/index.html?hl=vi" title="Newsletter">Newsletter</a>
          <a class="dac-footer-contact-link" href="https://android-developers.blogspot.com/" title="Blog" target="_blank">Blog</a>
          <a class="dac-footer-contact-link" href="https://developer.android.com/support.html?hl=vi" title="Hỗ trợ">Hỗ trợ</a>
        </div>
      </div>
      <div class="col-1of2 dac-footer-reachout">
        <div class="dac-footer-social">
          <a class="dac-button-social dac-youtube dac-footer-social-link" href="https://www.youtube.com/user/androiddevelopers" title="Android Developers on YouTube" target="_blank"><i class="dac-sprite dac-youtube"></i><span class="hide-text">Android Developers on YouTube</span></a>
          <a class="dac-button-social dac-gplus dac-footer-social-link" href="https://plus.google.com/+AndroidDevelopers" title="Android Developers on Google+" target="_blank"><i class="dac-sprite dac-gplus"></i><span class="hide-text">Android Developers on Google+</span></a>
          <a class="dac-button-social dac-twitter dac-footer-social-link" href="https://twitter.com/AndroidDev" title="Android Developers on Twitter" target="_blank"><i class="dac-sprite dac-twitter"></i><span class="hide-text">Android Developers on Twitter</span></a>
        </div>
      </div>
    </div>

    <hr class="dac-footer-separator"/>
      
      <p class="dac-footer-copyright">
        
        Except as noted, this content is licensed under <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank">Creative Commons Attribution 2.5</a>. For details and restrictions, see the <a href="https://developer.android.com/license.html">Content License</a>.
      </p>
    

    <p class="dac-footer-links">
      <a href="https://www.android.com/" title="Android.com" target="_blank">Android.com</a>
      <a href="https://developer.android.com/?hl=vi" title="Android Developers">Android Developers</a>
      <a href="https://developer.android.com/studio/index.html?hl=vi" title="Android Studio">Android Studio</a>
      <a href="https://developer.android.com/distribute/console/index.html?hl=vi" title="Google Play Console">Google Play Console</a>
      <a href="https://developer.android.com/legal.html?hl=vi" title="Legal Notice">Legal Notice</a>
    </p>

    <!-- TODO(akassay) Update all DAC js to use the class instead of the id b/30368561 -->
    <form class="devsite-utility-footer-language" id="setlang" action="https://developer.android.com/i18n/setlang/" method="post">
      <input type="hidden" name="xsrf_token" value="4SBC7C20oPYJhW6fkZJcvFXMYkVmUyz-yoLwnveolis6MTQ5NzUxNjIwMzg1Njc4MA" />
      <input type="hidden" name="next" value="fragments.html">
      <span id="language" class="locales">
        <select class="devsite-utility-footer-language-select" name="language">
          
          <option value="id"
            >
            Bahasa Indonesia
          </option>
          
          <option value="de"
            >
            Deutsch
          </option>
          
          <option value="en"
            >
            English
          </option>
          
          <option value="es"
            >
            español
          </option>
          
          <option value="es-419"
            >
            Español (América Latina)
          </option>
          
          <option value="fr"
            >
            français
          </option>
          
          <option value="pt-br"
            >
            Português Brasileiro
          </option>
          
          <option value="vi"
             selected="selected" >
            Tiếng Việt
          </option>
          
          <option value="tr"
            >
            Türkçe
          </option>
          
          <option value="ru"
            >
            Русский
          </option>
          
          <option value="th"
            >
            ภาษาไทย
          </option>
          
          <option value="ja"
            >
            日本語
          </option>
          
          <option value="zh-cn"
            >
            简体中文
          </option>
          
          <option value="zh-tw"
            >
            繁體中文
          </option>
          
          <option value="ko"
            >
            한국어
          </option>
          
        </select>
      </span>
    </form>
  </footer>
</div><!--/.wrap -->

<div class="dac-toast-group">
  <div class="dac-toast" data-toast>
    <div class="dac-toast-wrap">
      This site uses cookies to store your preferences for site-specific language and display options.
    </div>
  </div>
</div>

<div data-modal="newsletter" data-newsletter-fb data-swap class="dac-modal newsletter">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <div class="dac-swap" data-swap-container>
          <section class="dac-swap-section dac-active dac-down">
            <h2 class="norule dac-modal-header-title" data-t="newsletter.title">Get the latest Android developer news and tips that will help you find success on Google Play.</h2>
            <p class="dac-modal-header-subtitle" data-t="newsletter.requiredHint">* Required Fields</p>
          </section>
          <section class="dac-swap-section dac-up">
            
            <h2 class="norule dac-modal-header-title" data-t="newsletter.successTitle">Hooray!</h2>
          </section>
        </div>
      </header>
      <div class="dac-swap" data-swap-container>
        <section class="dac-swap-section dac-active dac-left">
          <form action="https://services.google.com/fb/submissions/android-developer-mailing-list/" class="dac-form" method="post">
            <section class="dac-modal-content">
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-full-name" class="dac-form-floatlabel" data-t="newsletter.name">Full name</label>
                      <input type="text" class="dac-form-input" name="fullname" id="newsletter-full-name" required>
                      <span class="dac-form-required">*</span>
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-email" class="dac-form-floatlabel" data-t="newsletter.email">Địa chỉ email</label>
                      <input type="email" class="dac-form-input" name="emailaddress" id="newsletter-email" required>
                      <span class="dac-form-required">*</span>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol">
                    <div class="dac-form-input-group">
                      <label for="newsletter-company" class="dac-form-floatlabel" data-t="newsletter.company">Company / developer name</label>
                      <input type="text" class="dac-form-input" name="companydevelopername" id="newsletter-company">
                    </div>
                    <div class="dac-form-input-group">
                      <label for="newsletter-play-store" class="dac-form-floatlabel" data-t="newsletter.appUrl">One of your Play Store app URLs</label>
                      <input type="url" class="dac-form-input" name="playstoreappurls" id="newsletter-play-store">
                    </div>
                  </div>
                </div>
              </fieldset>
              <fieldset class="dac-form-fieldset">
                <div class="cols">
                  <div class="col-1of2 newsletter-leftCol newsletter-interested" data-validation-message="Please check at least one item.">
                    <legend class="dac-form-legend">What are you interested in?<span class="dac-form-required">*</span></legend>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-whats-new" value="whats-new">
                      <label for="interested-whats-new" class="dac-form-checkbox-button"></label>
                      <label for="interested-whats-new" class="dac-form-label">What's new</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-games-updates" value="games-updates">
                      <label for="interested-games-updates" class="dac-form-checkbox-button"></label>
                      <label for="interested-games-updates" class="dac-form-label">Games updates</label>
                    </div>
                    <div class="dac-form-radio-group">
                      <input type="checkbox" class="dac-form-checkbox" name="interested" id="interested-android-development" value="android-development">
                      <label for="interested-android-development" class="dac-form-checkbox-button"></label>
                      <label for="interested-android-development" class="dac-form-label">Android development</label>
                    </div>
                  </div>
                  <div class="col-1of2 newsletter-rightCol newsletter-checkboxes">
                    <div class="dac-form-input-group">
                      <label for="newsletter-receive-in">Receive newsletter in</label>
                      <select name="language" class="dac-form-select" id="newsletter-receive-in">
                        <option value="en-US" selected>English</option>
                        <option value="ar">Arabic</option>
                        <option value="zh">Chinese (Simplified)</option>
                        <option value="zh-TW">Chinese (Traditional)</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="id">Indonesian (Bahasa)</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="pt-BR">Portuguese (Brazilian)</option>
                        <option value="ru">Russian</option>
                        <option value="es-419">Spanish (Latin American)</option>
                        <option value="th">Thai</option>
                        <option value="tr">Turkish</option>
                        <option value="vi">Vietnamese</option>
                      </select>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="marketingoptin" id="newsletter-add" required value="Add me to the mailing list.">
                          <label for="newsletter-add" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-add" class="dac-form-label dac-form-aside">
                            Add me to the mailing list.
                            <span class="dac-form-required">*</span>
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="dac-form-radio-group">
                      <div class="dac-media">
                        <div class="dac-media-figure">
                          <input type="checkbox" class="dac-form-checkbox" name="privacystatement" id="newsletter-terms" required value="I acknowledge that the information provided in this form will be subject to Google's privacy policy (https://www.google.com/policies/privacy/).">
                          <label for="newsletter-terms" class="dac-form-checkbox-button"></label>
                        </div>
                        <div class="dac-media-body">
                          <label for="newsletter-terms" class="dac-form-label dac-form-aside"><span data-t="newsletter.privacyPolicy" data-t-html>
                            
                            I acknowledge that the information provided in this form will be subject to <a href="https://www.google.com/policies/privacy/">Google's privacy policy</a>.
                          </span>
                          <span class="dac-form-required">*</span></label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </section>
            <input type="hidden" name="referrer" value="dac">
            <footer class="dac-modal-footer">
              <div class="cols">
                <div class="col-2of5">
                </div>
              </div>
              <button type="submit" value="Submit" class="dac-fab dac-primary dac-large dac-modal-action"><i class="dac-sprite dac-arrow-right"></i></button>
            </footer>
          </form>
        </section>
        <section class="dac-swap-section dac-right">
          <div class="dac-modal-content">
            <p class="newsletter-success-message" data-t="newsletter.successDetails">
              You have successfully signed up for the latest Android developer news and tips.
            </p>
          </div>
        </section>
      </div>
    </div>
  </div>
</div><!--/.dac-modal.newsletter-->


<div data-modal="langform" class="dac-modal" id="langform">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            Browse this site in <span class="span-target-lang"></span>?
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <fieldset class="dac-form-fieldset">
              <div class="cols">
                <div class="col-2of2 langform-leftCol">
                  <p id="resetLangText">
                    You requested a page in <span class="span-target-lang"></span>, but your language preference for this site is <span class="span-current-lang"></span>.
                  </p>
                  <p id="resetLangCta">
                    Would you like to change your language preference and browse this site in <span class="span-target-lang"></span>? If you want to change your language preference later, use the language menu at the bottom of each page.
                  </p>
                </div>
              </div>
            </fieldset>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="yes" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang yes" data-t="newsletter.resetLangButtonYes" data-modal-toggle>
                Change Language
              </button>
            </a>
            <a href="#" class="" onclick="return false;">
              <button class="button dac-primary dac-modal-action lang no" data-t="newsletter.resetLangButtonNo" data-modal-toggle>
                Not Now
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal-->


<div data-modal="api-unavailable" class="dac-modal" id="api-unavailable">
  <div class="dac-modal-container">
    <div class="dac-modal-window">
      <header class="dac-modal-header">
        <div class="dac-modal-header-actions">
          <button class="dac-modal-header-close" data-modal-toggle></button>
        </div>
        <section class="dac-swap-section dac-active dac-down">
          <h2 class="norule dac-modal-header-title">
            This class requires API level <span class="api-level"></span> or higher
          </h2>
        </section>
      </header>
      <section class="dac-swap-section dac-active dac-left">
          <section class="dac-modal-content">
            <p>
              This doc is hidden because your selected API level for the documentation is <span class="api-level"></span>. You can change the documentation API level with the selector above the left navigation.
            </p>
            
            <p>For more information about specifying the API level your app requires, read <a href="https://developer.android.com/training/basics/supporting-devices/platforms.html">Supporting Different Platform Versions</a>.</p>
          </section>
          <footer class="dac-modal-footer" id="langfooter">
            <div class="cols">
              <div class="col-2of5">
              </div>
            </div>
            <a href="#" class="ok" onclick="return false;">
              <button class="button dac-primary dac-modal-action ok"
              data-modal-toggle>
                OK, make this page visible
              </button>
            </a>
          </footer>
        </form>
      </section>
    </div>
  </div>
</div><!--/.dac-modal#api-unavailable-->

    
  </div><!--/#body-content-->

  <!-- Nav Setup -->
  <script>$('[data-dac-nav]').dacNav();</script>
  <script type="text/javascript">
    $('.slideshow-container').dacSlideshow({
        btnPrev: '.slideshow-prev',
        btnNext: '.slideshow-next',
        btnPause: '#pauseButton'
    });

    $(".feed").dacTabbedList({
      nav_id: '.feed-nav',
      frame_id: '.feed-frame'
    });
  </script>
  
  <script src="../../ytblogger_lists_unified0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="../../android_metadata_en0c0e.js?hl=vi?v=2017061508" defer></script>
  
  <script src="../../reference/lists0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="../../reference/gms_lists0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="../../reference/android/support/wearable/lists0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="../../reference/android/support/test/lists0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="../../reference/android/support/constraint/lists0c0e.js?hl=vi?v=2017061508" defer></script>
  <script src="https://developer.android.com/_static2/f304fc21fa/jsi18n/?hl=vi"></script>
  <script>
    // Load localized metadata.
    (function(lang) {
      if (lang === 'en') { return; }
      document.write('<script src="https://developer.android.com/android_metadata_vi.js?hl=vi?v=2017061508" defer></' + 'script>');
    })(getLangPref())

    // Add skip to content for accessibility.
    $('#skip-to-main').click(function() {
      $('a[name=top]').focus();
    });

    $('.devsite-utility-footer-language-select').each(function() {
      $(this).change(function() {
        changeLangPref(this.value, true)
        $('.devsite-utility-footer-language').submit();
      });
    });
  </script>

  <script>
    (function($) {
      devsite.analytics.InitAnalytics();
    })(jQuery);
  </script>

  


<div id="survey-box-wrapper">
  <div class="material-dialog" style="width:270px">
    <div class="material-dialog-title">
      Take a one-minute survey?
    </div>
    <div class="material-dialog-description">
      Help us improve Android tools and documentation.
    </div>
    <div class="material-button-bar">
      <a class="dac-button dac-primary dac-raised" target="_blank"
          href="https://goo.gl/forms/kV7MoyD2dvcWkd5N2">Sure</a>
      <a class="dac-button" href="#">No thanks</a>
    </div>
  </div>
</div>

</body>

<!-- Mirrored from developer.android.com/guide/components/fragments.html?hl=vi by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2017 09:05:25 GMT -->
</html>
